{"version":3,"file":"users_picker-image-picker-lazy.js?v=33aff3ebb7238107df07","mappings":"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","sources":["webpack://users_picker/./src/components/ProfilesCustomPicker.vue?78bb","webpack:///users_picker/node_modules/vue-material-design-icons/ArrowRight.vue","webpack:///users_picker/node_modules/vue-material-design-icons/ArrowRight.vue?vue&type=script&lang=js","webpack://users_picker/./node_modules/vue-material-design-icons/ArrowRight.vue?92ce","webpack:///users_picker/node_modules/vue-material-design-icons/ArrowRight.vue?vue&type=template&id=1456144e","webpack:///users_picker/src/components/ProfilesCustomPicker.vue?vue&type=script&lang=js","webpack:///users_picker/src/components/ProfilesCustomPicker.vue","webpack://users_picker/./src/components/ProfilesCustomPicker.vue?9a2d","webpack://users_picker/./src/components/ProfilesCustomPicker.vue?7477","webpack:///users_picker/node_modules/vue-loader/lib/runtime/componentNormalizer.js","webpack:///users_picker/src/components/ProfilesCustomPicker.vue?vue&type=style&index=0&id=30f7aee4&prod&scoped=true&lang=scss","webpack:///users_picker/node_modules/vue-material-design-icons/AccountOutline.vue","webpack:///users_picker/node_modules/vue-material-design-icons/AccountOutline.vue?vue&type=script&lang=js","webpack://users_picker/./node_modules/vue-material-design-icons/AccountOutline.vue?c8b1","webpack:///users_picker/node_modules/vue-material-design-icons/AccountOutline.vue?vue&type=template&id=597d4c96","webpack:///users_picker/node_modules/debounce/index.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"profile-picker\"},[_c('div',{staticClass:\"profile-picker__heading\"},[_c('h2',[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('users_picker', 'Profile picker'))+\"\\n\\t\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"input-wrapper\"},[_c('NcSelect',{ref:\"profiles-search-input\",attrs:{\"input-id\":\"profiles-search\",\"loading\":_vm.loading,\"filterable\":false,\"placeholder\":_vm.t('users_picker', 'Search for a user profile'),\"clear-search-on-blur\":() => false,\"user-select\":true,\"multiple\":false,\"options\":_vm.options},on:{\"search\":_vm.searchForProfile,\"option:selecting\":_vm.resolveResult},scopedSlots:_vm._u([{key:\"no-options\",fn:function({ search }){return [_vm._v(\"\\n\\t\\t\\t\\t\\t\"+_vm._s(search ? _vm.noResultText : _vm.t('users_picker', 'Search for a user profile. Start typing'))+\"\\n\\t\\t\\t\\t\")]}}]),model:{value:(_vm.selectedProfile),callback:function ($$v) {_vm.selectedProfile=$$v},expression:\"selectedProfile\"}})],1),_vm._v(\" \"),_c('NcEmptyContent',{staticClass:\"empty-content\",scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('AccountOutline',{attrs:{\"size\":20}})]},proxy:true}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"profile-picker__footer\"},[(_vm.selectedProfile !== null)?_c('NcButton',{attrs:{\"type\":\"primary\",\"aria-label\":_vm.t('users_picker', 'Insert selected user profile link'),\"disabled\":_vm.loading || _vm.selectedProfile === null},on:{\"click\":_vm.submit},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('ArrowRightIcon')]},proxy:true}],null,false,1168934321)},[_vm._v(\"\\n\\t\\t\\t\"+_vm._s(_vm.t('users_picker', 'Insert'))+\"\\n\\t\\t\\t\")]):_vm._e()],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span v-bind=\"$attrs\"\n        :aria-hidden=\"title ? null : 'true'\"\n        :aria-label=\"title\"\n        class=\"material-design-icon arrow-right-icon\"\n        role=\"img\"\n        @click=\"$emit('click', $event)\">\n    <svg :fill=\"fillColor\"\n         class=\"material-design-icon__svg\"\n         :width=\"size\"\n         :height=\"size\"\n         viewBox=\"0 0 24 24\">\n      <path d=\"M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z\">\n        <title v-if=\"title\">{{ title }}</title>\n      </path>\n    </svg>\n  </span>\n</template>\n\n<script>\nexport default {\n  name: \"ArrowRightIcon\",\n  emits: ['click'],\n  props: {\n    title: {\n      type: String,\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n}\n</script>","import mod from \"-!../vue-loader/lib/index.js??vue-loader-options!./ArrowRight.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../vue-loader/lib/index.js??vue-loader-options!./ArrowRight.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ArrowRight.vue?vue&type=template&id=1456144e\"\nimport script from \"./ArrowRight.vue?vue&type=script&lang=js\"\nexport * from \"./ArrowRight.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('span',_vm._b({staticClass:\"material-design-icon arrow-right-icon\",attrs:{\"aria-hidden\":_vm.title ? null : 'true',\"aria-label\":_vm.title,\"role\":\"img\"},on:{\"click\":function($event){return _vm.$emit('click', $event)}}},'span',_vm.$attrs,false),[_c('svg',{staticClass:\"material-design-icon__svg\",attrs:{\"fill\":_vm.fillColor,\"width\":_vm.size,\"height\":_vm.size,\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"d\":\"M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z\"}},[(_vm.title)?_c('title',[_vm._v(_vm._s(_vm.title))]):_vm._e()])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProfilesCustomPicker.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProfilesCustomPicker.vue?vue&type=script&lang=js\"","<template>\n\t<div class=\"profile-picker\">\n\t\t<div class=\"profile-picker__heading\">\n\t\t\t<h2>\n\t\t\t\t{{ t('users_picker', 'Profile picker') }}\n\t\t\t</h2>\n\t\t\t<div class=\"input-wrapper\">\n\t\t\t\t<NcSelect ref=\"profiles-search-input\"\n\t\t\t\t\tv-model=\"selectedProfile\"\n\t\t\t\t\tinput-id=\"profiles-search\"\n\t\t\t\t\t:loading=\"loading\"\n\t\t\t\t\t:filterable=\"false\"\n\t\t\t\t\t:placeholder=\"t('users_picker', 'Search for a user profile')\"\n\t\t\t\t\t:clear-search-on-blur=\"() => false\"\n\t\t\t\t\t:user-select=\"true\"\n\t\t\t\t\t:multiple=\"false\"\n\t\t\t\t\t:options=\"options\"\n\t\t\t\t\t@search=\"searchForProfile\"\n\t\t\t\t\t@option:selecting=\"resolveResult\">\n\t\t\t\t\t<template #no-options=\"{ search }\">\n\t\t\t\t\t\t{{ search ? noResultText : t('users_picker', 'Search for a user profile. Start typing') }}\n\t\t\t\t\t</template>\n\t\t\t\t</NcSelect>\n\t\t\t</div>\n\t\t\t<NcEmptyContent class=\"empty-content\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<AccountOutline :size=\"20\" />\n\t\t\t\t</template>\n\t\t\t</NcEmptyContent>\n\t\t</div>\n\t\t<div class=\"profile-picker__footer\">\n\t\t\t<NcButton v-if=\"selectedProfile !== null\"\n\t\t\t\ttype=\"primary\"\n\t\t\t\t:aria-label=\"t('users_picker', 'Insert selected user profile link')\"\n\t\t\t\t:disabled=\"loading || selectedProfile === null\"\n\t\t\t\t@click=\"submit\">\n\t\t\t\t{{ t('users_picker', 'Insert') }}\n\t\t\t\t<template #icon>\n\t\t\t\t\t<ArrowRightIcon />\n\t\t\t\t</template>\n\t\t\t</NcButton>\n\t\t</div>\n\t</div>\n</template>\n\n<script>\nimport axios from '@nextcloud/axios'\nimport { generateOcsUrl, generateUrl } from '@nextcloud/router'\nimport debounce from 'debounce'\n\nimport NcSelect from '@nextcloud/vue/dist/Components/NcSelect.js'\nimport NcButton from '@nextcloud/vue/dist/Components/NcButton.js'\nimport NcEmptyContent from '@nextcloud/vue/dist/Components/NcEmptyContent.js'\n\nimport AccountOutline from 'vue-material-design-icons/AccountOutline.vue'\nimport ArrowRightIcon from 'vue-material-design-icons/ArrowRight.vue'\n\nexport default {\n\tname: 'ProfilesCustomPicker',\n\n\tcomponents: {\n\t\tNcSelect,\n\t\tNcButton,\n\t\tNcEmptyContent,\n\t\tAccountOutline,\n\t\tArrowRightIcon,\n\t},\n\n\tprops: {\n\t\tproviderId: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\taccessible: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tsearchQuery: '',\n\t\t\tloading: false,\n\t\t\tresultUrl: null,\n\t\t\treference: null,\n\t\t\tprofiles: [],\n\t\t\tselectedProfile: null,\n\t\t\tabortController: null,\n\t\t}\n\t},\n\n\tcomputed: {\n\t\toptions() {\n\t\t\tif (this.searchQuery !== '') {\n\t\t\t\treturn this.profiles\n\t\t\t}\n\t\t\treturn []\n\t\t},\n\t\tnoResultText() {\n\t\t\treturn this.loading ? t('users_picker', 'Searching …') : t('users_picker', 'Not found')\n\t\t},\n\t},\n\n\tmounted() {\n\t\tthis.focusOnInput()\n\t},\n\n\tmethods: {\n\t\tfocusOnInput() {\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.$refs['profiles-search-input'].$el.getElementsByTagName('input')[0]?.focus()\n\t\t\t})\n\t\t},\n\n\t\tasync searchForProfile(query) {\n\t\t\tif (query.trim() === '' || query.trim().length < 3) {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tthis.searchQuery = query.trim()\n\t\t\tthis.loading = true\n\t\t\tawait this.debounceFindProfiles(query)\n\t\t},\n\n\t\tdebounceFindProfiles: debounce(function(...args) {\n\t\t\tthis.findProfiles(...args)\n\t\t}, 300),\n\n\t\tasync findProfiles(query) {\n\t\t\tconst url = generateOcsUrl('core/autocomplete/get?search={searchQuery}&itemType=%20&itemId=%20&shareTypes[]=0&limit=20', { searchQuery: query })\n\t\t\ttry {\n\t\t\t\tconst res = await axios.get(url)\n\t\t\t\tthis.profiles = res.data.ocs.data.map(userAutocomplete => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tuser: userAutocomplete.id,\n\t\t\t\t\t\tdisplayName: userAutocomplete.label,\n\t\t\t\t\t\ticon: userAutocomplete.icon,\n\t\t\t\t\t\tsubtitle: userAutocomplete.subline,\n\t\t\t\t\t\tisNoUser: userAutocomplete.source.startsWith('users'),\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error(err)\n\t\t\t} finally {\n\t\t\t\tthis.loading = false\n\t\t\t}\n\t\t},\n\n\t\tsubmit() {\n\t\t\tthis.resultUrl = window.location.origin + generateUrl(`/u/${this.selectedProfile.user.trim().toLowerCase()}`, null, { noRewrite: true })\n\t\t\tthis.$emit('submit', this.resultUrl)\n\t\t},\n\n\t\tresolveResult(selectedItem) {\n\t\t\tthis.loading = true\n\t\t\tthis.abortController = new AbortController()\n\t\t\tthis.selectedProfile = selectedItem\n\t\t\tthis.resultUrl = window.location.origin + generateUrl(`/u/${this.selectedProfile.user.trim().toLowerCase()}`, null, { noRewrite: true })\n\t\t\ttry {\n\t\t\t\tconst res = axios.get(generateOcsUrl('references/resolve', 2) + '?reference=' + encodeURIComponent(this.resultUrl), {\n\t\t\t\t\tsignal: this.abortController.signal,\n\t\t\t\t})\n\t\t\t\tthis.reference = res.data.ocs.data.references[this.resultUrl]\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error(err)\n\t\t\t} finally {\n\t\t\t\tthis.loading = false\n\t\t\t}\n\t\t},\n\n\t\tclearSelection() {\n\t\t\tthis.selectedProfile = null\n\t\t\tthis.resultUrl = null\n\t\t\tthis.reference = null\n\t\t},\n\t},\n}\n</script>\n\n<style scoped lang=\"scss\">\n.profile-picker {\n\twidth: 100%;\n\tmin-height: 450px;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\tjustify-content: space-between;\n\tpadding: 12px 16px 16px 16px;\n\n\t&__heading, .select {\n\t\twidth: 100%;\n\n\t\th2 {\n\t\t\ttext-align: center;\n\t\t}\n\t}\n\n\t&__footer {\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: end;\n\t\tmargin-top: 12px;\n\n\t\t> * {\n\t\t\tmargin-left: 4px;\n\t\t}\n\t}\n}\n</style>\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProfilesCustomPicker.vue?vue&type=style&index=0&id=30f7aee4&prod&scoped=true&lang=scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/sass-loader/dist/cjs.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProfilesCustomPicker.vue?vue&type=style&index=0&id=30f7aee4&prod&scoped=true&lang=scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./ProfilesCustomPicker.vue?vue&type=template&id=30f7aee4&scoped=true\"\nimport script from \"./ProfilesCustomPicker.vue?vue&type=script&lang=js\"\nexport * from \"./ProfilesCustomPicker.vue?vue&type=script&lang=js\"\nimport style0 from \"./ProfilesCustomPicker.vue?vue&type=style&index=0&id=30f7aee4&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"30f7aee4\",\n  null\n  \n)\n\nexport default component.exports","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent(\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier /* server only */,\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options =\n    typeof scriptExports === 'function' ? scriptExports.options : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) {\n    // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () {\n          injectStyles.call(\n            this,\n            (options.functional ? this.parent : this).$root.$options.shadowRoot\n          )\n        }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection(h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing ? [].concat(existing, hook) : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.profile-picker[data-v-30f7aee4]{width:100%;min-height:450px;display:flex;flex-direction:column;align-items:center;justify-content:space-between;padding:12px 16px 16px 16px}.profile-picker__heading[data-v-30f7aee4],.profile-picker .select[data-v-30f7aee4]{width:100%}.profile-picker__heading h2[data-v-30f7aee4],.profile-picker .select h2[data-v-30f7aee4]{text-align:center}.profile-picker__footer[data-v-30f7aee4]{width:100%;display:flex;align-items:center;justify-content:end;margin-top:12px}.profile-picker__footer>*[data-v-30f7aee4]{margin-left:4px}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/ProfilesCustomPicker.vue\"],\"names\":[],\"mappings\":\"AACA,iCACC,UAAA,CACA,gBAAA,CACA,YAAA,CACA,qBAAA,CACA,kBAAA,CACA,6BAAA,CACA,2BAAA,CAEA,mFACC,UAAA,CAEA,yFACC,iBAAA,CAIF,yCACC,UAAA,CACA,YAAA,CACA,kBAAA,CACA,mBAAA,CACA,eAAA,CAEA,2CACC,eAAA\",\"sourcesContent\":[\"\\n.profile-picker {\\n\\twidth: 100%;\\n\\tmin-height: 450px;\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\talign-items: center;\\n\\tjustify-content: space-between;\\n\\tpadding: 12px 16px 16px 16px;\\n\\n\\t&__heading, .select {\\n\\t\\twidth: 100%;\\n\\n\\t\\th2 {\\n\\t\\t\\ttext-align: center;\\n\\t\\t}\\n\\t}\\n\\n\\t&__footer {\\n\\t\\twidth: 100%;\\n\\t\\tdisplay: flex;\\n\\t\\talign-items: center;\\n\\t\\tjustify-content: end;\\n\\t\\tmargin-top: 12px;\\n\\n\\t\\t> * {\\n\\t\\t\\tmargin-left: 4px;\\n\\t\\t}\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","<template>\n  <span v-bind=\"$attrs\"\n        :aria-hidden=\"title ? null : 'true'\"\n        :aria-label=\"title\"\n        class=\"material-design-icon account-outline-icon\"\n        role=\"img\"\n        @click=\"$emit('click', $event)\">\n    <svg :fill=\"fillColor\"\n         class=\"material-design-icon__svg\"\n         :width=\"size\"\n         :height=\"size\"\n         viewBox=\"0 0 24 24\">\n      <path d=\"M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,6A2,2 0 0,0 10,8A2,2 0 0,0 12,10A2,2 0 0,0 14,8A2,2 0 0,0 12,6M12,13C14.67,13 20,14.33 20,17V20H4V17C4,14.33 9.33,13 12,13M12,14.9C9.03,14.9 5.9,16.36 5.9,17V18.1H18.1V17C18.1,16.36 14.97,14.9 12,14.9Z\">\n        <title v-if=\"title\">{{ title }}</title>\n      </path>\n    </svg>\n  </span>\n</template>\n\n<script>\nexport default {\n  name: \"AccountOutlineIcon\",\n  emits: ['click'],\n  props: {\n    title: {\n      type: String,\n    },\n    fillColor: {\n      type: String,\n      default: \"currentColor\"\n    },\n    size: {\n      type: Number,\n      default: 24\n    }\n  }\n}\n</script>","import mod from \"-!../vue-loader/lib/index.js??vue-loader-options!./AccountOutline.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../vue-loader/lib/index.js??vue-loader-options!./AccountOutline.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AccountOutline.vue?vue&type=template&id=597d4c96\"\nimport script from \"./AccountOutline.vue?vue&type=script&lang=js\"\nexport * from \"./AccountOutline.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('span',_vm._b({staticClass:\"material-design-icon account-outline-icon\",attrs:{\"aria-hidden\":_vm.title ? null : 'true',\"aria-label\":_vm.title,\"role\":\"img\"},on:{\"click\":function($event){return _vm.$emit('click', $event)}}},'span',_vm.$attrs,false),[_c('svg',{staticClass:\"material-design-icon__svg\",attrs:{\"fill\":_vm.fillColor,\"width\":_vm.size,\"height\":_vm.size,\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"d\":\"M12,4A4,4 0 0,1 16,8A4,4 0 0,1 12,12A4,4 0 0,1 8,8A4,4 0 0,1 12,4M12,6A2,2 0 0,0 10,8A2,2 0 0,0 12,10A2,2 0 0,0 14,8A2,2 0 0,0 12,6M12,13C14.67,13 20,14.33 20,17V20H4V17C4,14.33 9.33,13 12,13M12,14.9C9.03,14.9 5.9,16.36 5.9,17V18.1H18.1V17C18.1,16.36 14.97,14.9 12,14.9Z\"}},[(_vm.title)?_c('title',[_vm._v(_vm._s(_vm.title))]):_vm._e()])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","function debounce(function_, wait = 100, options = {}) {\n\tif (typeof function_ !== 'function') {\n\t\tthrow new TypeError(`Expected the first parameter to be a function, got \\`${typeof function_}\\`.`);\n\t}\n\n\tif (wait < 0) {\n\t\tthrow new RangeError('`wait` must not be negative.');\n\t}\n\n\t// TODO: Deprecate the boolean parameter at some point.\n\tconst {immediate} = typeof options === 'boolean' ? {immediate: options} : options;\n\n\tlet storedContext;\n\tlet storedArguments;\n\tlet timeoutId;\n\tlet timestamp;\n\tlet result;\n\n\tfunction run() {\n\t\tconst callContext = storedContext;\n\t\tconst callArguments = storedArguments;\n\t\tstoredContext = undefined;\n\t\tstoredArguments = undefined;\n\t\tresult = function_.apply(callContext, callArguments);\n\t\treturn result;\n\t}\n\n\tfunction later() {\n\t\tconst last = Date.now() - timestamp;\n\n\t\tif (last < wait && last >= 0) {\n\t\t\ttimeoutId = setTimeout(later, wait - last);\n\t\t} else {\n\t\t\ttimeoutId = undefined;\n\n\t\t\tif (!immediate) {\n\t\t\t\tresult = run();\n\t\t\t}\n\t\t}\n\t}\n\n\tconst debounced = function (...arguments_) {\n\t\tif (\n\t\t\tstoredContext\n\t\t\t&& this !== storedContext\n\t\t\t&& Object.getPrototypeOf(this) === Object.getPrototypeOf(storedContext)\n\t\t) {\n\t\t\tthrow new Error('Debounced method called with different contexts of the same prototype.');\n\t\t}\n\n\t\tstoredContext = this; // eslint-disable-line unicorn/no-this-assignment\n\t\tstoredArguments = arguments_;\n\t\ttimestamp = Date.now();\n\n\t\tconst callNow = immediate && !timeoutId;\n\n\t\tif (!timeoutId) {\n\t\t\ttimeoutId = setTimeout(later, wait);\n\t\t}\n\n\t\tif (callNow) {\n\t\t\tresult = run();\n\t\t}\n\n\t\treturn result;\n\t};\n\n\tObject.defineProperty(debounced, 'isPending', {\n\t\tget() {\n\t\t\treturn timeoutId !== undefined;\n\t\t},\n\t});\n\n\tdebounced.clear = () => {\n\t\tif (!timeoutId) {\n\t\t\treturn;\n\t\t}\n\n\t\tclearTimeout(timeoutId);\n\t\ttimeoutId = undefined;\n\t};\n\n\tdebounced.flush = () => {\n\t\tif (!timeoutId) {\n\t\t\treturn;\n\t\t}\n\n\t\tdebounced.trigger();\n\t};\n\n\tdebounced.trigger = () => {\n\t\tresult = run();\n\n\t\tdebounced.clear();\n\t};\n\n\treturn debounced;\n}\n\n// Adds compatibility for ES modules\nmodule.exports.debounce = debounce;\n\nmodule.exports = debounce;\n"],"names":["name","emits","props","title","type","String","fillColor","default","size","Number","_vm","this","_c","_self","_b","staticClass","attrs","on","$event","$emit","$attrs","_v","_s","_e","components","NcSelect","NcButton","NcEmptyContent","AccountOutline","ArrowRightIcon","providerId","required","accessible","Boolean","data","searchQuery","loading","resultUrl","reference","profiles","selectedProfile","abortController","computed","options","noResultText","t","mounted","focusOnInput","methods","$nextTick","$refs","$el","getElementsByTagName","focus","searchForProfile","query","trim","length","debounceFindProfiles","debounce","args","findProfiles","url","generateOcsUrl","res","axios","get","ocs","map","userAutocomplete","user","id","displayName","label","icon","subtitle","subline","isNoUser","source","startsWith","err","console","error","submit","window","location","origin","generateUrl","toLowerCase","noRewrite","resolveResult","selectedItem","AbortController","encodeURIComponent","signal","references","clearSelection","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","ref","clear-search-on-blur","scopedSlots","_u","key","fn","search","model","value","callback","$$v","expression","proxy","normalizeComponent","scriptExports","render","staticRenderFns","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","_compiled","functional","_scopeId","context","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","call","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","_injectStyles","originalRender","h","existing","beforeCreate","concat","exports","___CSS_LOADER_EXPORT___","push","module","function_","wait","TypeError","RangeError","immediate","storedContext","storedArguments","timeoutId","timestamp","result","run","callContext","callArguments","undefined","apply","later","last","Date","now","setTimeout","debounced","arguments_","Object","getPrototypeOf","Error","callNow","defineProperty","clear","clearTimeout","flush","trigger"],"sourceRoot":""}