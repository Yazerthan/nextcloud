(()=>{var Tr=Object.defineProperty;var ur=Te=>{throw TypeError(Te)};var Nr=(Te,he,H)=>he in Te?Tr(Te,he,{enumerable:!0,configurable:!0,writable:!0,value:H}):Te[he]=H;var Ae=(Te,he,H)=>Nr(Te,typeof he!="symbol"?he+"":he,H),qn=(Te,he,H)=>he.has(Te)||ur("Cannot "+H);var q=(Te,he,H)=>(qn(Te,he,"read from private field"),H?H.call(Te):he.get(Te)),Et=(Te,he,H)=>he.has(Te)?ur("Cannot add the same private member more than once"):he instanceof WeakSet?he.add(Te):he.set(Te,H),Ke=(Te,he,H,M)=>(qn(Te,he,"write to private field"),M?M.call(Te,H):he.set(Te,H),H),Vt=(Te,he,H)=>(qn(Te,he,"access private method"),H);(self.webpackChunktalk=self.webpackChunktalk||[]).push([["defaultVendors-node_modules_nextcloud_dialogs_dist_chunks__plugin-vue_export-helper-1tPrXgE0_-8ae335"],{36117:function(Te,he){var H,M,ue;function be(J){"@babel/helpers - typeof";return be=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},be(J)}(function(J,te){if(1)M=[he],H=te,ue=typeof H=="function"?H.apply(he,M):H,ue!==void 0&&(Te.exports=ue);else var ne})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:this,function(J){"use strict";Object.defineProperty(J,"__esModule",{value:!0}),J.CancelablePromise=void 0,J.cancelable=wt,J.default=void 0,J.isCancelablePromise=$e;function te($,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(B&&B.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),Object.defineProperty($,"prototype",{writable:!1}),B&&ne($,B)}function ne($,B){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(oe,Oe){return oe.__proto__=Oe,oe},ne($,B)}function P($){var B=K();return function(){var oe=ie($),Oe;if(B){var Pe=ie(this).constructor;Oe=Reflect.construct(oe,arguments,Pe)}else Oe=oe.apply(this,arguments);return F(this,Oe)}}function F($,B){if(B&&(be(B)==="object"||typeof B=="function"))return B;if(B!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return re($)}function re($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}function K(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ie($){return ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(X){return X.__proto__||Object.getPrototypeOf(X)},ie($)}function ee($,B){var X=typeof Symbol<"u"&&$[Symbol.iterator]||$["@@iterator"];if(!X){if(Array.isArray($)||(X=se($))||B&&$&&typeof $.length=="number"){X&&($=X);var oe=0,Oe=function(){};return{s:Oe,n:function(){return oe>=$.length?{done:!0}:{done:!1,value:$[oe++]}},e:function(gt){throw gt},f:Oe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Pe=!0,ze=!1,$t;return{s:function(){X=X.call($)},n:function(){var gt=X.next();return Pe=gt.done,gt},e:function(gt){ze=!0,$t=gt},f:function(){try{!Pe&&X.return!=null&&X.return()}finally{if(ze)throw $t}}}}function se($,B){if($){if(typeof $=="string")return ge($,B);var X=Object.prototype.toString.call($).slice(8,-1);if(X==="Object"&&$.constructor&&(X=$.constructor.name),X==="Map"||X==="Set")return Array.from($);if(X==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(X))return ge($,B)}}function ge($,B){(B==null||B>$.length)&&(B=$.length);for(var X=0,oe=new Array(B);X<B;X++)oe[X]=$[X];return oe}function le($,B){if(!($ instanceof B))throw new TypeError("Cannot call a class as a function")}function De($,B){for(var X=0;X<B.length;X++){var oe=B[X];oe.enumerable=oe.enumerable||!1,oe.configurable=!0,"value"in oe&&(oe.writable=!0),Object.defineProperty($,oe.key,oe)}}function Ee($,B,X){return B&&De($.prototype,B),X&&De($,X),Object.defineProperty($,"prototype",{writable:!1}),$}function D($,B,X){return B in $?Object.defineProperty($,B,{value:X,enumerable:!0,configurable:!0,writable:!0}):$[B]=X,$}function G($,B,X){me($,B),B.set($,X)}function me($,B){if(B.has($))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _e($,B){var X=_t($,B,"get");return Ie($,X)}function Ie($,B){return B.get?B.get.call($):B.value}function Ue($,B,X){var oe=_t($,B,"set");return Ot($,oe,X),X}function _t($,B,X){if(!B.has($))throw new TypeError("attempted to "+X+" private field on non-instance");return B.get($)}function Ot($,B,X){if(B.set)B.set.call($,X);else{if(!B.writable)throw new TypeError("attempted to set read only private field");B.value=X}}var yt=typeof Symbol<"u"?Symbol.toStringTag:"@@toStringTag",Fe=new WeakMap,dt=new WeakMap,et=function(){function $(B){var X=B.executor,oe=X===void 0?function(){}:X,Oe=B.internals,Pe=Oe===void 0?xe():Oe,ze=B.promise,$t=ze===void 0?new Promise(function(pt,gt){return oe(pt,gt,function(Gt){Pe.onCancelList.push(Gt)})}):ze;le(this,$),G(this,Fe,{writable:!0,value:void 0}),G(this,dt,{writable:!0,value:void 0}),D(this,yt,"CancelablePromise"),this.cancel=this.cancel.bind(this),Ue(this,Fe,Pe),Ue(this,dt,$t||new Promise(function(pt,gt){return oe(pt,gt,function(Gt){Pe.onCancelList.push(Gt)})}))}return Ee($,[{key:"then",value:function(X,oe){return V(_e(this,dt).then(N(X,_e(this,Fe)),N(oe,_e(this,Fe))),_e(this,Fe))}},{key:"catch",value:function(X){return V(_e(this,dt).catch(N(X,_e(this,Fe))),_e(this,Fe))}},{key:"finally",value:function(X,oe){var Oe=this;return oe&&_e(this,Fe).onCancelList.push(X),V(_e(this,dt).finally(N(function(){if(X)return oe&&(_e(Oe,Fe).onCancelList=_e(Oe,Fe).onCancelList.filter(function(Pe){return Pe!==X})),X()},_e(this,Fe))),_e(this,Fe))}},{key:"cancel",value:function(){_e(this,Fe).isCanceled=!0;var X=_e(this,Fe).onCancelList;_e(this,Fe).onCancelList=[];var oe=ee(X),Oe;try{for(oe.s();!(Oe=oe.n()).done;){var Pe=Oe.value;if(typeof Pe=="function")try{Pe()}catch(ze){console.error(ze)}}}catch(ze){oe.e(ze)}finally{oe.f()}}},{key:"isCanceled",value:function(){return _e(this,Fe).isCanceled===!0}}]),$}(),Xe=function($){te(X,$);var B=P(X);function X(oe){return le(this,X),B.call(this,{executor:oe})}return Ee(X)}(et);J.CancelablePromise=Xe,D(Xe,"all",function(B){return ce(B,Promise.all(B))}),D(Xe,"allSettled",function(B){return ce(B,Promise.allSettled(B))}),D(Xe,"any",function(B){return ce(B,Promise.any(B))}),D(Xe,"race",function(B){return ce(B,Promise.race(B))}),D(Xe,"resolve",function(B){return wt(Promise.resolve(B))}),D(Xe,"reject",function(B){return wt(Promise.reject(B))}),D(Xe,"isCancelable",$e);var xt=Xe;J.default=xt;function wt($){return V($,xe())}function $e($){return $ instanceof Xe||$ instanceof et}function N($,B){if($)return function(X){if(!B.isCanceled){var oe=$(X);return $e(oe)&&B.onCancelList.push(oe.cancel),oe}return X}}function V($,B){return new et({internals:B,promise:$})}function ce($,B){var X=xe();return X.onCancelList.push(function(){var oe=ee($),Oe;try{for(oe.s();!(Oe=oe.n()).done;){var Pe=Oe.value;$e(Pe)&&Pe.cancel()}}catch(ze){oe.e(ze)}finally{oe.f()}}),new et({internals:X,promise:B})}function xe(){return{isCanceled:!1,onCancelList:[]}}})},57975:(Te,he,H)=>{"use strict";var M=H(65606);function ue(ne){if(typeof ne!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(ne))}function be(ne,P){for(var F="",re=0,K=-1,ie=0,ee,se=0;se<=ne.length;++se){if(se<ne.length)ee=ne.charCodeAt(se);else{if(ee===47)break;ee=47}if(ee===47){if(!(K===se-1||ie===1))if(K!==se-1&&ie===2){if(F.length<2||re!==2||F.charCodeAt(F.length-1)!==46||F.charCodeAt(F.length-2)!==46){if(F.length>2){var ge=F.lastIndexOf("/");if(ge!==F.length-1){ge===-1?(F="",re=0):(F=F.slice(0,ge),re=F.length-1-F.lastIndexOf("/")),K=se,ie=0;continue}}else if(F.length===2||F.length===1){F="",re=0,K=se,ie=0;continue}}P&&(F.length>0?F+="/..":F="..",re=2)}else F.length>0?F+="/"+ne.slice(K+1,se):F=ne.slice(K+1,se),re=se-K-1;K=se,ie=0}else ee===46&&ie!==-1?++ie:ie=-1}return F}function J(ne,P){var F=P.dir||P.root,re=P.base||(P.name||"")+(P.ext||"");return F?F===P.root?F+re:F+ne+re:re}var te={resolve:function(){for(var P="",F=!1,re,K=arguments.length-1;K>=-1&&!F;K--){var ie;K>=0?ie=arguments[K]:(re===void 0&&(re=M.cwd()),ie=re),ue(ie),ie.length!==0&&(P=ie+"/"+P,F=ie.charCodeAt(0)===47)}return P=be(P,!F),F?P.length>0?"/"+P:"/":P.length>0?P:"."},normalize:function(P){if(ue(P),P.length===0)return".";var F=P.charCodeAt(0)===47,re=P.charCodeAt(P.length-1)===47;return P=be(P,!F),P.length===0&&!F&&(P="."),P.length>0&&re&&(P+="/"),F?"/"+P:P},isAbsolute:function(P){return ue(P),P.length>0&&P.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var P,F=0;F<arguments.length;++F){var re=arguments[F];ue(re),re.length>0&&(P===void 0?P=re:P+="/"+re)}return P===void 0?".":te.normalize(P)},relative:function(P,F){if(ue(P),ue(F),P===F||(P=te.resolve(P),F=te.resolve(F),P===F))return"";for(var re=1;re<P.length&&P.charCodeAt(re)===47;++re);for(var K=P.length,ie=K-re,ee=1;ee<F.length&&F.charCodeAt(ee)===47;++ee);for(var se=F.length,ge=se-ee,le=ie<ge?ie:ge,De=-1,Ee=0;Ee<=le;++Ee){if(Ee===le){if(ge>le){if(F.charCodeAt(ee+Ee)===47)return F.slice(ee+Ee+1);if(Ee===0)return F.slice(ee+Ee)}else ie>le&&(P.charCodeAt(re+Ee)===47?De=Ee:Ee===0&&(De=0));break}var D=P.charCodeAt(re+Ee),G=F.charCodeAt(ee+Ee);if(D!==G)break;D===47&&(De=Ee)}var me="";for(Ee=re+De+1;Ee<=K;++Ee)(Ee===K||P.charCodeAt(Ee)===47)&&(me.length===0?me+="..":me+="/..");return me.length>0?me+F.slice(ee+De):(ee+=De,F.charCodeAt(ee)===47&&++ee,F.slice(ee))},_makeLong:function(P){return P},dirname:function(P){if(ue(P),P.length===0)return".";for(var F=P.charCodeAt(0),re=F===47,K=-1,ie=!0,ee=P.length-1;ee>=1;--ee)if(F=P.charCodeAt(ee),F===47){if(!ie){K=ee;break}}else ie=!1;return K===-1?re?"/":".":re&&K===1?"//":P.slice(0,K)},basename:function(P,F){if(F!==void 0&&typeof F!="string")throw new TypeError('"ext" argument must be a string');ue(P);var re=0,K=-1,ie=!0,ee;if(F!==void 0&&F.length>0&&F.length<=P.length){if(F.length===P.length&&F===P)return"";var se=F.length-1,ge=-1;for(ee=P.length-1;ee>=0;--ee){var le=P.charCodeAt(ee);if(le===47){if(!ie){re=ee+1;break}}else ge===-1&&(ie=!1,ge=ee+1),se>=0&&(le===F.charCodeAt(se)?--se===-1&&(K=ee):(se=-1,K=ge))}return re===K?K=ge:K===-1&&(K=P.length),P.slice(re,K)}else{for(ee=P.length-1;ee>=0;--ee)if(P.charCodeAt(ee)===47){if(!ie){re=ee+1;break}}else K===-1&&(ie=!1,K=ee+1);return K===-1?"":P.slice(re,K)}},extname:function(P){ue(P);for(var F=-1,re=0,K=-1,ie=!0,ee=0,se=P.length-1;se>=0;--se){var ge=P.charCodeAt(se);if(ge===47){if(!ie){re=se+1;break}continue}K===-1&&(ie=!1,K=se+1),ge===46?F===-1?F=se:ee!==1&&(ee=1):F!==-1&&(ee=-1)}return F===-1||K===-1||ee===0||ee===1&&F===K-1&&F===re+1?"":P.slice(F,K)},format:function(P){if(P===null||typeof P!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof P);return J("/",P)},parse:function(P){ue(P);var F={root:"",dir:"",base:"",ext:"",name:""};if(P.length===0)return F;var re=P.charCodeAt(0),K=re===47,ie;K?(F.root="/",ie=1):ie=0;for(var ee=-1,se=0,ge=-1,le=!0,De=P.length-1,Ee=0;De>=ie;--De){if(re=P.charCodeAt(De),re===47){if(!le){se=De+1;break}continue}ge===-1&&(le=!1,ge=De+1),re===46?ee===-1?ee=De:Ee!==1&&(Ee=1):ee!==-1&&(Ee=-1)}return ee===-1||ge===-1||Ee===0||Ee===1&&ee===ge-1&&ee===se+1?ge!==-1&&(se===0&&K?F.base=F.name=P.slice(1,ge):F.base=F.name=P.slice(se,ge)):(se===0&&K?(F.name=P.slice(1,ee),F.base=P.slice(1,ge)):(F.name=P.slice(se,ee),F.base=P.slice(se,ge)),F.ext=P.slice(ee,ge)),se>0?F.dir=P.slice(0,se-1):K&&(F.dir="/"),F},sep:"/",delimiter:":",win32:null,posix:null};te.posix=te,Te.exports=te},83141:(Te,he,H)=>{"use strict";var M=H(15003).Buffer,ue=M.isEncoding||function(D){switch(D=""+D,D&&D.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function be(D){if(!D)return"utf8";for(var G;;)switch(D){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return D;default:if(G)return;D=(""+D).toLowerCase(),G=!0}}function J(D){var G=be(D);if(typeof G!="string"&&(M.isEncoding===ue||!ue(D)))throw new Error("Unknown encoding: "+D);return G||D}he.I=te;function te(D){this.encoding=J(D);var G;switch(this.encoding){case"utf16le":this.text=ee,this.end=se,G=4;break;case"utf8":this.fillLast=re,G=4;break;case"base64":this.text=ge,this.end=le,G=3;break;default:this.write=De,this.end=Ee;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=M.allocUnsafe(G)}te.prototype.write=function(D){if(D.length===0)return"";var G,me;if(this.lastNeed){if(G=this.fillLast(D),G===void 0)return"";me=this.lastNeed,this.lastNeed=0}else me=0;return me<D.length?G?G+this.text(D,me):this.text(D,me):G||""},te.prototype.end=ie,te.prototype.text=K,te.prototype.fillLast=function(D){if(this.lastNeed<=D.length)return D.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);D.copy(this.lastChar,this.lastTotal-this.lastNeed,0,D.length),this.lastNeed-=D.length};function ne(D){return D<=127?0:D>>5===6?2:D>>4===14?3:D>>3===30?4:D>>6===2?-1:-2}function P(D,G,me){var _e=G.length-1;if(_e<me)return 0;var Ie=ne(G[_e]);return Ie>=0?(Ie>0&&(D.lastNeed=Ie-1),Ie):--_e<me||Ie===-2?0:(Ie=ne(G[_e]),Ie>=0?(Ie>0&&(D.lastNeed=Ie-2),Ie):--_e<me||Ie===-2?0:(Ie=ne(G[_e]),Ie>=0?(Ie>0&&(Ie===2?Ie=0:D.lastNeed=Ie-3),Ie):0))}function F(D,G,me){if((G[0]&192)!==128)return D.lastNeed=0,"\uFFFD";if(D.lastNeed>1&&G.length>1){if((G[1]&192)!==128)return D.lastNeed=1,"\uFFFD";if(D.lastNeed>2&&G.length>2&&(G[2]&192)!==128)return D.lastNeed=2,"\uFFFD"}}function re(D){var G=this.lastTotal-this.lastNeed,me=F(this,D,G);if(me!==void 0)return me;if(this.lastNeed<=D.length)return D.copy(this.lastChar,G,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);D.copy(this.lastChar,G,0,D.length),this.lastNeed-=D.length}function K(D,G){var me=P(this,D,G);if(!this.lastNeed)return D.toString("utf8",G);this.lastTotal=me;var _e=D.length-(me-this.lastNeed);return D.copy(this.lastChar,0,_e),D.toString("utf8",G,_e)}function ie(D){var G=D&&D.length?this.write(D):"";return this.lastNeed?G+"\uFFFD":G}function ee(D,G){if((D.length-G)%2===0){var me=D.toString("utf16le",G);if(me){var _e=me.charCodeAt(me.length-1);if(_e>=55296&&_e<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=D[D.length-2],this.lastChar[1]=D[D.length-1],me.slice(0,-1)}return me}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=D[D.length-1],D.toString("utf16le",G,D.length-1)}function se(D){var G=D&&D.length?this.write(D):"";if(this.lastNeed){var me=this.lastTotal-this.lastNeed;return G+this.lastChar.toString("utf16le",0,me)}return G}function ge(D,G){var me=(D.length-G)%3;return me===0?D.toString("base64",G):(this.lastNeed=3-me,this.lastTotal=3,me===1?this.lastChar[0]=D[D.length-1]:(this.lastChar[0]=D[D.length-2],this.lastChar[1]=D[D.length-1]),D.toString("base64",G,D.length-me))}function le(D){var G=D&&D.length?this.write(D):"";return this.lastNeed?G+this.lastChar.toString("base64",0,3-this.lastNeed):G}function De(D){return D.toString(this.encoding)}function Ee(D){return D&&D.length?this.write(D):""}},15003:(Te,he,H)=>{var M=H(48287),ue=M.Buffer;function be(te,ne){for(var P in te)ne[P]=te[P]}ue.from&&ue.alloc&&ue.allocUnsafe&&ue.allocUnsafeSlow?Te.exports=M:(be(M,he),he.Buffer=J);function J(te,ne,P){return ue(te,ne,P)}J.prototype=Object.create(ue.prototype),be(ue,J),J.from=function(te,ne,P){if(typeof te=="number")throw new TypeError("Argument must not be a number");return ue(te,ne,P)},J.alloc=function(te,ne,P){if(typeof te!="number")throw new TypeError("Argument must be a number");var F=ue(te);return ne!==void 0?typeof P=="string"?F.fill(ne,P):F.fill(ne):F.fill(0),F},J.allocUnsafe=function(te){if(typeof te!="number")throw new TypeError("Argument must be a number");return ue(te)},J.allocUnsafeSlow=function(te){if(typeof te!="number")throw new TypeError("Argument must be a number");return M.SlowBuffer(te)}},28719:(Te,he,H)=>{"use strict";H.d(he,{F:()=>ue});function M(be,J,te){const ne=document.querySelector(`#initial-state-${be}-${J}`);if(ne===null){if(te!==void 0)return te;throw new Error(`Could not find initial state ${J} of ${be}`)}try{return JSON.parse(atob(ne.value))}catch{throw new Error(`Could not parse initial state ${J} of ${be}`)}}function ue(){try{return M("core","capabilities")}catch{return console.debug("Could not find capabilities initial state fall back to _oc_capabilities"),"_oc_capabilities"in window?window._oc_capabilities:{}}}},50240:(Te,he,H)=>{"use strict";H.d(he,{_:()=>M});const M=(ue,be)=>{const J=ue.__vccOpts||ue;for(const[te,ne]of be)J[te]=ne;return J}},85175:(Te,he,H)=>{"use strict";H.d(he,{F:()=>K,P:()=>ie,b:()=>Xe,c:()=>xt,d:()=>dt,e:()=>wt,l:()=>_t,n:()=>yt,r:()=>$e,s:()=>Ee});var M=H(21777),ue=H(89746),be=H(63814),J=H(36117),te=H(44719),ne=H(35947),P=H(57975),F=H(71225);const re=(0,ne.YK)().setApp("@nextcloud/files").detectUser().build();var K=(N=>(N.Folder="folder",N.File="file",N))(K||{}),ie=(N=>(N[N.NONE=0]="NONE",N[N.CREATE=4]="CREATE",N[N.READ=1]="READ",N[N.UPDATE=2]="UPDATE",N[N.DELETE=8]="DELETE",N[N.SHARE=16]="SHARE",N[N.ALL=31]="ALL",N))(ie||{});const ee=function(N,V){return N.match(V)!==null},se=(N,V)=>{if(N.id&&typeof N.id!="number")throw new Error("Invalid id type of value");if(!N.source)throw new Error("Missing mandatory source");try{new URL(N.source)}catch{throw new Error("Invalid source format, source must be a valid URL")}if(!N.source.startsWith("http"))throw new Error("Invalid source format, only http(s) is supported");if(N.displayname&&typeof N.displayname!="string")throw new Error("Invalid displayname type");if(N.mtime&&!(N.mtime instanceof Date))throw new Error("Invalid mtime type");if(N.crtime&&!(N.crtime instanceof Date))throw new Error("Invalid crtime type");if(!N.mime||typeof N.mime!="string"||!N.mime.match(/^[-\w.]+\/[-+\w.]+$/gi))throw new Error("Missing or invalid mandatory mime");if("size"in N&&typeof N.size!="number"&&N.size!==void 0)throw new Error("Invalid size type");if("permissions"in N&&N.permissions!==void 0&&!(typeof N.permissions=="number"&&N.permissions>=ie.NONE&&N.permissions<=ie.ALL))throw new Error("Invalid permissions");if(N.owner&&N.owner!==null&&typeof N.owner!="string")throw new Error("Invalid owner type");if(N.attributes&&typeof N.attributes!="object")throw new Error("Invalid attributes type");if(N.root&&typeof N.root!="string")throw new Error("Invalid root type");if(N.root&&!N.root.startsWith("/"))throw new Error("Root must start with a leading slash");if(N.root&&!N.source.includes(N.root))throw new Error("Root must be part of the source");if(N.root&&ee(N.source,V)){const ce=N.source.match(V)[0];if(!N.source.includes((0,P.join)(ce,N.root)))throw new Error("The root must be relative to the service. e.g /files/emma")}if(N.status&&!Object.values(ge).includes(N.status))throw new Error("Status must be a valid NodeStatus")};var ge=(N=>(N.NEW="new",N.FAILED="failed",N.LOADING="loading",N.LOCKED="locked",N))(ge||{});class le{constructor(V,ce){Ae(this,"_data");Ae(this,"_attributes");Ae(this,"_knownDavService",/(remote|public)\.php\/(web)?dav/i);Ae(this,"readonlyAttributes",Object.entries(Object.getOwnPropertyDescriptors(le.prototype)).filter(V=>typeof V[1].get=="function"&&V[0]!=="__proto__").map(V=>V[0]));Ae(this,"handler",{set:(V,ce,xe)=>this.readonlyAttributes.includes(ce)?!1:Reflect.set(V,ce,xe),deleteProperty:(V,ce)=>this.readonlyAttributes.includes(ce)?!1:Reflect.deleteProperty(V,ce),get:(V,ce,xe)=>this.readonlyAttributes.includes(ce)?(re.warn(`Accessing "Node.attributes.${ce}" is deprecated, access it directly on the Node instance.`),Reflect.get(this,ce)):Reflect.get(V,ce,xe)});V.mime||(V.mime="application/octet-stream"),se(V,ce||this._knownDavService),this._data={displayname:V.attributes?.displayname,...V,attributes:{}},this._attributes=new Proxy(this._data.attributes,this.handler),this.update(V.attributes??{}),ce&&(this._knownDavService=ce)}get source(){return this._data.source.replace(/\/$/i,"")}get encodedSource(){const{origin:V}=new URL(this.source);return V+(0,F.O0)(this.source.slice(V.length))}get basename(){return(0,P.basename)(this.source)}get displayname(){return this._data.displayname||this.basename}set displayname(V){se({...this._data,displayname:V},this._knownDavService),this._data.displayname=V}get extension(){return(0,P.extname)(this.source)}get dirname(){if(this.root){let ce=this.source;this.isDavResource&&(ce=ce.split(this._knownDavService).pop());const xe=ce.indexOf(this.root),$=this.root.replace(/\/$/,"");return(0,P.dirname)(ce.slice(xe+$.length)||"/")}const V=new URL(this.source);return(0,P.dirname)(V.pathname)}get mime(){return this._data.mime||"application/octet-stream"}set mime(V){V??(V="application/octet-stream"),se({...this._data,mime:V},this._knownDavService),this._data.mime=V}get mtime(){return this._data.mtime}set mtime(V){se({...this._data,mtime:V},this._knownDavService),this._data.mtime=V}get crtime(){return this._data.crtime}get size(){return this._data.size}set size(V){se({...this._data,size:V},this._knownDavService),this.updateMtime(),this._data.size=V}get attributes(){return this._attributes}get permissions(){return this.owner===null&&!this.isDavResource?ie.READ:this._data.permissions!==void 0?this._data.permissions:ie.NONE}set permissions(V){se({...this._data,permissions:V},this._knownDavService),this.updateMtime(),this._data.permissions=V}get owner(){return this.isDavResource?this._data.owner:null}get isDavResource(){return ee(this.source,this._knownDavService)}get isDavRessource(){return this.isDavResource}get root(){return this._data.root?this._data.root.replace(/^(.+)\/$/,"$1"):this.isDavResource&&(0,P.dirname)(this.source).split(this._knownDavService).pop()||null}get path(){if(this.root){let V=this.source;this.isDavResource&&(V=V.split(this._knownDavService).pop());const ce=V.indexOf(this.root),xe=this.root.replace(/\/$/,"");return V.slice(ce+xe.length)||"/"}return(this.dirname+"/"+this.basename).replace(/\/\//g,"/")}get fileid(){return this._data?.id}get status(){return this._data?.status}set status(V){se({...this._data,status:V},this._knownDavService),this._data.status=V}get data(){return structuredClone(this._data)}move(V){se({...this._data,source:V},this._knownDavService);const ce=this.basename;this._data.source=V,this.displayname===ce&&this.basename!==ce&&(this.displayname=this.basename)}rename(V){if(V.includes("/"))throw new Error("Invalid basename");this.move((0,P.dirname)(this.source)+"/"+V)}updateMtime(){this._data.mtime&&(this._data.mtime=new Date)}update(V){for(const[ce,xe]of Object.entries(V))try{xe===void 0?delete this.attributes[ce]:this.attributes[ce]=xe}catch($){if($ instanceof TypeError)continue;throw $}}}class De extends le{get type(){return K.File}clone(){return new De(this.data)}}class Ee extends le{constructor(V){super({...V,mime:"httpd/unix-directory"})}get type(){return K.Folder}get extension(){return null}get mime(){return"httpd/unix-directory"}clone(){return new Ee(this.data)}}const D=function(N=""){let V=ie.NONE;return N&&((N.includes("C")||N.includes("K"))&&(V|=ie.CREATE),N.includes("G")&&(V|=ie.READ),(N.includes("W")||N.includes("N")||N.includes("V"))&&(V|=ie.UPDATE),N.includes("D")&&(V|=ie.DELETE),N.includes("R")&&(V|=ie.SHARE)),V},G=["d:getcontentlength","d:getcontenttype","d:getetag","d:getlastmodified","d:creationdate","d:displayname","d:quota-available-bytes","d:resourcetype","nc:has-preview","nc:is-encrypted","nc:mount-type","oc:comments-unread","oc:favorite","oc:fileid","oc:owner-display-name","oc:owner-id","oc:permissions","oc:size"],me={d:"DAV:",nc:"http://nextcloud.org/ns",oc:"http://owncloud.org/ns",ocs:"http://open-collaboration-services.org/ns"},_e=function(N,V={nc:"http://nextcloud.org/ns"}){typeof window._nc_dav_properties>"u"&&(window._nc_dav_properties=[...G],window._nc_dav_namespaces={...me});const ce={...window._nc_dav_namespaces,...V};if(window._nc_dav_properties.find($=>$===N))return re.warn(`${N} already registered`,{prop:N}),!1;if(N.startsWith("<")||N.split(":").length!==2)return re.error(`${N} is not valid. See example: 'oc:fileid'`,{prop:N}),!1;const xe=N.split(":")[0];return ce[xe]?(window._nc_dav_properties.push(N),window._nc_dav_namespaces=ce,!0):(re.error(`${N} namespace unknown`,{prop:N,namespaces:ce}),!1)},Ie=function(){return typeof window._nc_dav_properties>"u"&&(window._nc_dav_properties=[...G]),window._nc_dav_properties.map(N=>`<${N} />`).join(" ")},Ue=function(){return typeof window._nc_dav_namespaces>"u"&&(window._nc_dav_namespaces={...me}),Object.keys(window._nc_dav_namespaces).map(N=>`xmlns:${N}="${window._nc_dav_namespaces?.[N]}"`).join(" ")},_t=function(){return`<?xml version="1.0"?>
		<d:propfind ${Ue()}>
			<d:prop>
				${Ie()}
			</d:prop>
		</d:propfind>`},Ot=function(){return`<?xml version="1.0"?>
		<oc:filter-files ${Ue()}>
			<d:prop>
				${Ie()}
			</d:prop>
			<oc:filter-rules>
				<oc:favorite>1</oc:favorite>
			</oc:filter-rules>
		</oc:filter-files>`},yt=function(N){return`<?xml version="1.0" encoding="UTF-8"?>
<d:searchrequest ${Ue()}
	xmlns:ns="https://github.com/icewind1991/SearchDAV/ns">
	<d:basicsearch>
		<d:select>
			<d:prop>
				${Ie()}
			</d:prop>
		</d:select>
		<d:from>
			<d:scope>
				<d:href>/files/${(0,M.HW)()?.uid}/</d:href>
				<d:depth>infinity</d:depth>
			</d:scope>
		</d:from>
		<d:where>
			<d:and>
				<d:or>
					<d:not>
						<d:eq>
							<d:prop>
								<d:getcontenttype/>
							</d:prop>
							<d:literal>httpd/unix-directory</d:literal>
						</d:eq>
					</d:not>
					<d:eq>
						<d:prop>
							<oc:size/>
						</d:prop>
						<d:literal>0</d:literal>
					</d:eq>
				</d:or>
				<d:gt>
					<d:prop>
						<d:getlastmodified/>
					</d:prop>
					<d:literal>${N}</d:literal>
				</d:gt>
			</d:and>
		</d:where>
		<d:orderby>
			<d:order>
				<d:prop>
					<d:getlastmodified/>
				</d:prop>
				<d:descending/>
			</d:order>
		</d:orderby>
		<d:limit>
			<d:nresults>100</d:nresults>
			<ns:firstresult>0</ns:firstresult>
		</d:limit>
	</d:basicsearch>
</d:searchrequest>`};function Fe(){return(0,ue.f)()?`/files/${(0,ue.G)()}`:`/files/${(0,M.HW)()?.uid}`}const dt=Fe();function et(){const N=(0,be.dC)("dav");return(0,ue.f)()?N.replace("remote.php","public.php"):N}const Xe=et(),xt=function(N=Xe,V={}){const ce=(0,te.UU)(N,{headers:V});function xe(B){ce.setHeaders({...V,"X-Requested-With":"XMLHttpRequest",requesttoken:B??""})}return(0,M.zo)(xe),xe((0,M.do)()),(0,te.Gu)().patch("fetch",(B,X)=>{const oe=X.headers;return oe?.method&&(X.method=oe.method,delete oe.method),fetch(B,X)}),ce},wt=(N,V="/",ce=dt)=>{const xe=new AbortController;return new J.CancelablePromise(async($,B,X)=>{X(()=>xe.abort());try{const Oe=(await N.getDirectoryContents(`${ce}${V}`,{signal:xe.signal,details:!0,data:Ot(),headers:{method:"REPORT"},includeSelf:!0})).data.filter(Pe=>Pe.filename!==V).map(Pe=>$e(Pe,ce));$(Oe)}catch(oe){B(oe)}})},$e=function(N,V=dt,ce=Xe){let xe=(0,M.HW)()?.uid;if((0,ue.f)())xe=xe??"anonymous";else if(!xe)throw new Error("No user id found");const $=N.props,B=D($?.permissions),X=String($?.["owner-id"]||xe),oe=$.fileid||0,Oe=new Date(Date.parse(N.lastmod)),Pe=new Date(Date.parse($.creationdate)),ze={id:oe,source:`${ce}${N.filename}`,mtime:!isNaN(Oe.getTime())&&Oe.getTime()!==0?Oe:void 0,crtime:!isNaN(Pe.getTime())&&Pe.getTime()!==0?Pe:void 0,mime:N.mime||"application/octet-stream",displayname:$.displayname!==void 0?String($.displayname):void 0,size:$?.size||Number.parseInt($.getcontentlength||"0"),status:oe<0?ge.FAILED:void 0,permissions:B,owner:X,root:V,attributes:{...N,...$,hasPreview:$?.["has-preview"]}};return delete ze.attributes?.props,N.type==="file"?new De(ze):new Ee(ze)}},35810:(Te,he,H)=>{"use strict";H.d(he,{Al:()=>M.r,H4:()=>M.c,KT:()=>In,PY:()=>M.b,Q$:()=>M.e,R3:()=>M.n,VL:()=>M.l,aX:()=>M.P,di:()=>Mt,lJ:()=>M.d,nF:()=>An,pt:()=>M.F,ur:()=>Vn,v7:()=>Un,vd:()=>M.s});var M=H(85175),ue=H(380),be=H(83141),J=H(28719),te=H(57975),ne=H(53334),P=H(65606),F=H(48287).Buffer,re=(T=>(T.DEFAULT="default",T.HIDDEN="hidden",T))(re||{});class K{constructor(w){Ae(this,"_action");this.validateAction(w),this._action=w}get id(){return this._action.id}get displayName(){return this._action.displayName}get title(){return this._action.title}get iconSvgInline(){return this._action.iconSvgInline}get enabled(){return this._action.enabled}get exec(){return this._action.exec}get execBatch(){return this._action.execBatch}get hotkey(){return this._action.hotkey}get order(){return this._action.order}get parent(){return this._action.parent}get default(){return this._action.default}get destructive(){return this._action.destructive}get inline(){return this._action.inline}get renderInline(){return this._action.renderInline}validateAction(w){if(!w.id||typeof w.id!="string")throw new Error("Invalid id");if(!w.displayName||typeof w.displayName!="function")throw new Error("Invalid displayName function");if("title"in w&&typeof w.title!="function")throw new Error("Invalid title function");if(!w.iconSvgInline||typeof w.iconSvgInline!="function")throw new Error("Invalid iconSvgInline function");if(!w.exec||typeof w.exec!="function")throw new Error("Invalid exec function");if("enabled"in w&&typeof w.enabled!="function")throw new Error("Invalid enabled function");if("execBatch"in w&&typeof w.execBatch!="function")throw new Error("Invalid execBatch function");if("order"in w&&typeof w.order!="number")throw new Error("Invalid order");if(w.destructive!==void 0&&typeof w.destructive!="boolean")throw new Error("Invalid destructive flag");if("parent"in w&&typeof w.parent!="string")throw new Error("Invalid parent");if(w.default&&!Object.values(re).includes(w.default))throw new Error("Invalid default");if("inline"in w&&typeof w.inline!="function")throw new Error("Invalid inline function");if("renderInline"in w&&typeof w.renderInline!="function")throw new Error("Invalid renderInline function");if("hotkey"in w&&w.hotkey!==void 0){if(typeof w.hotkey!="object")throw new Error("Invalid hotkey configuration");if(typeof w.hotkey.key!="string"||!w.hotkey.key)throw new Error("Missing or invalid hotkey key");if(typeof w.hotkey.description!="string"||!w.hotkey.description)throw new Error("Missing or invalid hotkey description")}}}const ie=function(T){if(typeof window._nc_fileactions>"u"&&(window._nc_fileactions=[],logger.debug("FileActions initialized")),window._nc_fileactions.find(w=>w.id===T.id)){logger.error(`FileAction ${T.id} already registered`,{action:T});return}window._nc_fileactions.push(T)},ee=function(){return typeof window._nc_fileactions>"u"&&(window._nc_fileactions=[],logger.debug("FileActions initialized")),window._nc_fileactions};class se{constructor(w){Ae(this,"_action");this.validateAction(w),this._action=w}get id(){return this._action.id}get displayName(){return this._action.displayName}get iconSvgInline(){return this._action.iconSvgInline}get order(){return this._action.order}get enabled(){return this._action.enabled}get exec(){return this._action.exec}validateAction(w){if(!w.id||typeof w.id!="string")throw new Error("Invalid id");if(!w.displayName||typeof w.displayName!="function")throw new Error("Invalid displayName function");if("iconSvgInline"in w&&typeof w.iconSvgInline!="function")throw new Error("Invalid iconSvgInline function");if("order"in w&&typeof w.order!="number")throw new Error("Invalid order");if("enabled"in w&&typeof w.enabled!="function")throw new Error("Invalid enabled function");if(!w.exec||typeof w.exec!="function")throw new Error("Invalid exec function")}}const ge=T=>{if(typeof window._nc_filelistactions>"u"&&(window._nc_filelistactions=[]),window._nc_filelistactions.find(w=>w.id===T.id)){logger.error(`FileListAction with id "${T.id}" is already registered`,{action:T});return}window._nc_filelistactions.push(T)},le=()=>(typeof window._nc_filelistactions>"u"&&(window._nc_filelistactions=[]),window._nc_filelistactions);function De(T){return T&&T.__esModule&&Object.prototype.hasOwnProperty.call(T,"default")?T.default:T}var Ee,D;function G(){return D||(D=1,Ee=typeof P=="object"&&P.env&&P.env.NODE_DEBUG&&/\bsemver\b/i.test(P.env.NODE_DEBUG)?(...w)=>console.error("SEMVER",...w):()=>{}),Ee}var me,_e;function Ie(){if(_e)return me;_e=1;const T="2.0.0",w=256,U=Number.MAX_SAFE_INTEGER||9007199254740991,Q=16,ae=w-6;return me={MAX_LENGTH:w,MAX_SAFE_COMPONENT_LENGTH:Q,MAX_SAFE_BUILD_LENGTH:ae,MAX_SAFE_INTEGER:U,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:T,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},me}var Ue={exports:{}},_t;function Ot(){return _t||(_t=1,function(T,w){const{MAX_SAFE_COMPONENT_LENGTH:U,MAX_SAFE_BUILD_LENGTH:Q,MAX_LENGTH:ae}=Ie(),Ce=G();w=T.exports={};const de=w.re=[],Re=w.safeRe=[],z=w.src=[],S=w.t={};let pe=0;const Ne="[a-zA-Z0-9-]",Me=[["\\s",1],["\\d",ae],[Ne,Q]],Be=st=>{for(const[Ge,vt]of Me)st=st.split(`${Ge}*`).join(`${Ge}{0,${vt}}`).split(`${Ge}+`).join(`${Ge}{1,${vt}}`);return st},ve=(st,Ge,vt)=>{const Rt=Be(Ge),Tt=pe++;Ce(st,Tt,Ge),S[st]=Tt,z[Tt]=Ge,de[Tt]=new RegExp(Ge,vt?"g":void 0),Re[Tt]=new RegExp(Rt,vt?"g":void 0)};ve("NUMERICIDENTIFIER","0|[1-9]\\d*"),ve("NUMERICIDENTIFIERLOOSE","\\d+"),ve("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Ne}*`),ve("MAINVERSION",`(${z[S.NUMERICIDENTIFIER]})\\.(${z[S.NUMERICIDENTIFIER]})\\.(${z[S.NUMERICIDENTIFIER]})`),ve("MAINVERSIONLOOSE",`(${z[S.NUMERICIDENTIFIERLOOSE]})\\.(${z[S.NUMERICIDENTIFIERLOOSE]})\\.(${z[S.NUMERICIDENTIFIERLOOSE]})`),ve("PRERELEASEIDENTIFIER",`(?:${z[S.NUMERICIDENTIFIER]}|${z[S.NONNUMERICIDENTIFIER]})`),ve("PRERELEASEIDENTIFIERLOOSE",`(?:${z[S.NUMERICIDENTIFIERLOOSE]}|${z[S.NONNUMERICIDENTIFIER]})`),ve("PRERELEASE",`(?:-(${z[S.PRERELEASEIDENTIFIER]}(?:\\.${z[S.PRERELEASEIDENTIFIER]})*))`),ve("PRERELEASELOOSE",`(?:-?(${z[S.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${z[S.PRERELEASEIDENTIFIERLOOSE]})*))`),ve("BUILDIDENTIFIER",`${Ne}+`),ve("BUILD",`(?:\\+(${z[S.BUILDIDENTIFIER]}(?:\\.${z[S.BUILDIDENTIFIER]})*))`),ve("FULLPLAIN",`v?${z[S.MAINVERSION]}${z[S.PRERELEASE]}?${z[S.BUILD]}?`),ve("FULL",`^${z[S.FULLPLAIN]}$`),ve("LOOSEPLAIN",`[v=\\s]*${z[S.MAINVERSIONLOOSE]}${z[S.PRERELEASELOOSE]}?${z[S.BUILD]}?`),ve("LOOSE",`^${z[S.LOOSEPLAIN]}$`),ve("GTLT","((?:<|>)?=?)"),ve("XRANGEIDENTIFIERLOOSE",`${z[S.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),ve("XRANGEIDENTIFIER",`${z[S.NUMERICIDENTIFIER]}|x|X|\\*`),ve("XRANGEPLAIN",`[v=\\s]*(${z[S.XRANGEIDENTIFIER]})(?:\\.(${z[S.XRANGEIDENTIFIER]})(?:\\.(${z[S.XRANGEIDENTIFIER]})(?:${z[S.PRERELEASE]})?${z[S.BUILD]}?)?)?`),ve("XRANGEPLAINLOOSE",`[v=\\s]*(${z[S.XRANGEIDENTIFIERLOOSE]})(?:\\.(${z[S.XRANGEIDENTIFIERLOOSE]})(?:\\.(${z[S.XRANGEIDENTIFIERLOOSE]})(?:${z[S.PRERELEASELOOSE]})?${z[S.BUILD]}?)?)?`),ve("XRANGE",`^${z[S.GTLT]}\\s*${z[S.XRANGEPLAIN]}$`),ve("XRANGELOOSE",`^${z[S.GTLT]}\\s*${z[S.XRANGEPLAINLOOSE]}$`),ve("COERCEPLAIN",`(^|[^\\d])(\\d{1,${U}})(?:\\.(\\d{1,${U}}))?(?:\\.(\\d{1,${U}}))?`),ve("COERCE",`${z[S.COERCEPLAIN]}(?:$|[^\\d])`),ve("COERCEFULL",z[S.COERCEPLAIN]+`(?:${z[S.PRERELEASE]})?(?:${z[S.BUILD]})?(?:$|[^\\d])`),ve("COERCERTL",z[S.COERCE],!0),ve("COERCERTLFULL",z[S.COERCEFULL],!0),ve("LONETILDE","(?:~>?)"),ve("TILDETRIM",`(\\s*)${z[S.LONETILDE]}\\s+`,!0),w.tildeTrimReplace="$1~",ve("TILDE",`^${z[S.LONETILDE]}${z[S.XRANGEPLAIN]}$`),ve("TILDELOOSE",`^${z[S.LONETILDE]}${z[S.XRANGEPLAINLOOSE]}$`),ve("LONECARET","(?:\\^)"),ve("CARETTRIM",`(\\s*)${z[S.LONECARET]}\\s+`,!0),w.caretTrimReplace="$1^",ve("CARET",`^${z[S.LONECARET]}${z[S.XRANGEPLAIN]}$`),ve("CARETLOOSE",`^${z[S.LONECARET]}${z[S.XRANGEPLAINLOOSE]}$`),ve("COMPARATORLOOSE",`^${z[S.GTLT]}\\s*(${z[S.LOOSEPLAIN]})$|^$`),ve("COMPARATOR",`^${z[S.GTLT]}\\s*(${z[S.FULLPLAIN]})$|^$`),ve("COMPARATORTRIM",`(\\s*)${z[S.GTLT]}\\s*(${z[S.LOOSEPLAIN]}|${z[S.XRANGEPLAIN]})`,!0),w.comparatorTrimReplace="$1$2$3",ve("HYPHENRANGE",`^\\s*(${z[S.XRANGEPLAIN]})\\s+-\\s+(${z[S.XRANGEPLAIN]})\\s*$`),ve("HYPHENRANGELOOSE",`^\\s*(${z[S.XRANGEPLAINLOOSE]})\\s+-\\s+(${z[S.XRANGEPLAINLOOSE]})\\s*$`),ve("STAR","(<|>)?=?\\s*\\*"),ve("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),ve("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(Ue,Ue.exports)),Ue.exports}var yt,Fe;function dt(){if(Fe)return yt;Fe=1;const T=Object.freeze({loose:!0}),w=Object.freeze({});return yt=Q=>Q?typeof Q!="object"?T:Q:w,yt}var et,Xe;function xt(){if(Xe)return et;Xe=1;const T=/^[0-9]+$/,w=(Q,ae)=>{const Ce=T.test(Q),de=T.test(ae);return Ce&&de&&(Q=+Q,ae=+ae),Q===ae?0:Ce&&!de?-1:de&&!Ce?1:Q<ae?-1:1};return et={compareIdentifiers:w,rcompareIdentifiers:(Q,ae)=>w(ae,Q)},et}var wt,$e;function N(){if($e)return wt;$e=1;const T=G(),{MAX_LENGTH:w,MAX_SAFE_INTEGER:U}=Ie(),{safeRe:Q,t:ae}=Ot(),Ce=dt(),{compareIdentifiers:de}=xt();class Re{constructor(S,pe){if(pe=Ce(pe),S instanceof Re){if(S.loose===!!pe.loose&&S.includePrerelease===!!pe.includePrerelease)return S;S=S.version}else if(typeof S!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof S}".`);if(S.length>w)throw new TypeError(`version is longer than ${w} characters`);T("SemVer",S,pe),this.options=pe,this.loose=!!pe.loose,this.includePrerelease=!!pe.includePrerelease;const Ne=S.trim().match(pe.loose?Q[ae.LOOSE]:Q[ae.FULL]);if(!Ne)throw new TypeError(`Invalid Version: ${S}`);if(this.raw=S,this.major=+Ne[1],this.minor=+Ne[2],this.patch=+Ne[3],this.major>U||this.major<0)throw new TypeError("Invalid major version");if(this.minor>U||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>U||this.patch<0)throw new TypeError("Invalid patch version");Ne[4]?this.prerelease=Ne[4].split(".").map(Me=>{if(/^[0-9]+$/.test(Me)){const Be=+Me;if(Be>=0&&Be<U)return Be}return Me}):this.prerelease=[],this.build=Ne[5]?Ne[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(S){if(T("SemVer.compare",this.version,this.options,S),!(S instanceof Re)){if(typeof S=="string"&&S===this.version)return 0;S=new Re(S,this.options)}return S.version===this.version?0:this.compareMain(S)||this.comparePre(S)}compareMain(S){return S instanceof Re||(S=new Re(S,this.options)),de(this.major,S.major)||de(this.minor,S.minor)||de(this.patch,S.patch)}comparePre(S){if(S instanceof Re||(S=new Re(S,this.options)),this.prerelease.length&&!S.prerelease.length)return-1;if(!this.prerelease.length&&S.prerelease.length)return 1;if(!this.prerelease.length&&!S.prerelease.length)return 0;let pe=0;do{const Ne=this.prerelease[pe],Me=S.prerelease[pe];if(T("prerelease compare",pe,Ne,Me),Ne===void 0&&Me===void 0)return 0;if(Me===void 0)return 1;if(Ne===void 0)return-1;if(Ne===Me)continue;return de(Ne,Me)}while(++pe)}compareBuild(S){S instanceof Re||(S=new Re(S,this.options));let pe=0;do{const Ne=this.build[pe],Me=S.build[pe];if(T("build compare",pe,Ne,Me),Ne===void 0&&Me===void 0)return 0;if(Me===void 0)return 1;if(Ne===void 0)return-1;if(Ne===Me)continue;return de(Ne,Me)}while(++pe)}inc(S,pe,Ne){switch(S){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",pe,Ne);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",pe,Ne);break;case"prepatch":this.prerelease.length=0,this.inc("patch",pe,Ne),this.inc("pre",pe,Ne);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",pe,Ne),this.inc("pre",pe,Ne);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const Me=Number(Ne)?1:0;if(!pe&&Ne===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[Me];else{let Be=this.prerelease.length;for(;--Be>=0;)typeof this.prerelease[Be]=="number"&&(this.prerelease[Be]++,Be=-2);if(Be===-1){if(pe===this.prerelease.join(".")&&Ne===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(Me)}}if(pe){let Be=[pe,Me];Ne===!1&&(Be=[pe]),de(this.prerelease[0],pe)===0?isNaN(this.prerelease[1])&&(this.prerelease=Be):this.prerelease=Be}break}default:throw new Error(`invalid increment argument: ${S}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return wt=Re,wt}var V,ce;function xe(){if(ce)return V;ce=1;const T=N();return V=(U,Q,ae=!1)=>{if(U instanceof T)return U;try{return new T(U,Q)}catch(Ce){if(!ae)return null;throw Ce}},V}var $,B;function X(){if(B)return $;B=1;const T=xe();return $=(U,Q)=>{const ae=T(U,Q);return ae?ae.version:null},$}var oe=X();const Oe=null;var Pe,ze;function $t(){if(ze)return Pe;ze=1;const T=N();return Pe=(U,Q)=>new T(U,Q).major,Pe}var pt=$t();const gt=null;class Gt{constructor(w){Ae(this,"bus");typeof w.getVersion!="function"||!Oe(w.getVersion())?console.warn("Proxying an event bus with an unknown or invalid version"):gt(w.getVersion())!==gt(this.getVersion())&&console.warn("Proxying an event bus of version "+w.getVersion()+" with "+this.getVersion()),this.bus=w}getVersion(){return"3.3.2"}subscribe(w,U){this.bus.subscribe(w,U)}unsubscribe(w,U){this.bus.unsubscribe(w,U)}emit(w,...U){this.bus.emit(w,...U)}}class yn{constructor(){Ae(this,"handlers",new Map)}getVersion(){return"3.3.2"}subscribe(w,U){this.handlers.set(w,(this.handlers.get(w)||[]).concat(U))}unsubscribe(w,U){this.handlers.set(w,(this.handlers.get(w)||[]).filter(Q=>Q!==U))}emit(w,...U){(this.handlers.get(w)||[]).forEach(ae=>{try{ae(U[0])}catch(Ce){console.error("could not invoke event listener",Ce)}})}}let Ft=null;function rn(){return Ft!==null?Ft:typeof window>"u"?new Proxy({},{get:()=>()=>console.error("Window not available, EventBus can not be established!")}):(window.OC?._eventBus&&typeof window._nc_event_bus>"u"&&(console.warn("found old event bus instance at OC._eventBus. Update your version!"),window._nc_event_bus=window.OC._eventBus),typeof window?._nc_event_bus<"u"?Ft=new Gt(window._nc_event_bus):Ft=window._nc_event_bus=new yn,Ft)}function Yt(T,...w){rn().emit(T,...w)}/*!
 * SPDX-FileCopyrightText: 2023 Nextcloud GmbH and Nextcloud contributors
 * SPDX-License-Identifier: AGPL-3.0-or-later
 */class Rn extends ue.m{constructor(U,Q=100){super();Ae(this,"id");Ae(this,"order");this.id=U,this.order=Q}filter(U){throw new Error("Not implemented")}updateChips(U){this.dispatchTypedEvent("update:chips",new CustomEvent("update:chips",{detail:U}))}filterUpdated(){this.dispatchTypedEvent("update:filter",new CustomEvent("update:filter"))}}function Yn(T){if(window._nc_filelist_filters||(window._nc_filelist_filters=new Map),window._nc_filelist_filters.has(T.id))throw new Error(`File list filter "${T.id}" already registered`);window._nc_filelist_filters.set(T.id,T),Yt("files:filter:added",T)}function Ye(T){window._nc_filelist_filters&&window._nc_filelist_filters.has(T)&&(window._nc_filelist_filters.delete(T),Yt("files:filter:removed",T))}function Qe(){return window._nc_filelist_filters?[...window._nc_filelist_filters.values()]:[]}class sn{constructor(w){Ae(this,"_header");this.validateHeader(w),this._header=w}get id(){return this._header.id}get order(){return this._header.order}get enabled(){return this._header.enabled}get render(){return this._header.render}get updated(){return this._header.updated}validateHeader(w){if(!w.id||!w.render||!w.updated)throw new Error("Invalid header: id, render and updated are required");if(typeof w.id!="string")throw new Error("Invalid id property");if(w.enabled!==void 0&&typeof w.enabled!="function")throw new Error("Invalid enabled property");if(w.render&&typeof w.render!="function")throw new Error("Invalid render property");if(w.updated&&typeof w.updated!="function")throw new Error("Invalid updated property")}}const Qn=function(T){if(typeof window._nc_filelistheader>"u"&&(window._nc_filelistheader=[],logger.debug("FileListHeaders initialized")),window._nc_filelistheader.find(w=>w.id===T.id)){logger.error(`Header ${T.id} already registered`,{header:T});return}window._nc_filelistheader.push(T)},on=function(){return typeof window._nc_filelistheader>"u"&&(window._nc_filelistheader=[],logger.debug("FileListHeaders initialized")),window._nc_filelistheader};class Sn extends null{constructor(){super(...arguments);Ae(this,"_views",[]);Ae(this,"_currentView",null)}register(U){if(this._views.find(Q=>Q.id===U.id))throw new Error(`View id ${U.id} is already registered`);this._views.push(U),this.dispatchTypedEvent("update",new CustomEvent("update"))}remove(U){const Q=this._views.findIndex(ae=>ae.id===U);Q!==-1&&(this._views.splice(Q,1),this.dispatchTypedEvent("update",new CustomEvent("update")))}setActive(U){this._currentView=U;const Q=new CustomEvent("updateActive",{detail:U});this.dispatchTypedEvent("updateActive",Q)}get active(){return this._currentView}get views(){return this._views}}const Qt=function(){return typeof window._nc_navigation>"u"&&(window._nc_navigation=new Sn,logger.debug("Navigation service initialized")),window._nc_navigation};class wn{constructor(w){Ae(this,"_column");Ln(w),this._column=w}get id(){return this._column.id}get title(){return this._column.title}get render(){return this._column.render}get sort(){return this._column.sort}get summary(){return this._column.summary}}const Ln=function(T){if(!T.id||typeof T.id!="string")throw new Error("A column id is required");if(!T.title||typeof T.title!="string")throw new Error("A column title is required");if(!T.render||typeof T.render!="function")throw new Error("A render function is required");if(T.sort&&typeof T.sort!="function")throw new Error("Column sortFunction must be a function");if(T.summary&&typeof T.summary!="function")throw new Error("Column summary must be a function");return!0};var Pt={},bn;function _n(){return bn||(bn=1,function(T){(function(w){w.parser=function(g,u){return new Q(g,u)},w.SAXParser=Q,w.SAXStream=pe,w.createStream=S,w.MAX_BUFFER_LENGTH=64*1024;var U=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];w.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function Q(g,u){if(!(this instanceof Q))return new Q(g,u);var j=this;Ce(j),j.q=j.c="",j.bufferCheckPosition=w.MAX_BUFFER_LENGTH,j.opt=u||{},j.opt.lowercase=j.opt.lowercase||j.opt.lowercasetags,j.looseCase=j.opt.lowercase?"toLowerCase":"toUpperCase",j.tags=[],j.closed=j.closedRoot=j.sawRoot=!1,j.tag=j.error=null,j.strict=!!g,j.noscript=!!(g||j.opt.noscript),j.state=x.BEGIN,j.strictEntities=j.opt.strictEntities,j.ENTITIES=j.strictEntities?Object.create(w.XML_ENTITIES):Object.create(w.ENTITIES),j.attribList=[],j.opt.xmlns&&(j.ns=Object.create(st)),j.opt.unquotedAttributeValues===void 0&&(j.opt.unquotedAttributeValues=!g),j.trackPosition=j.opt.position!==!1,j.trackPosition&&(j.position=j.line=j.column=0),Xt(j,"onready")}Object.create||(Object.create=function(g){function u(){}u.prototype=g;var j=new u;return j}),Object.keys||(Object.keys=function(g){var u=[];for(var j in g)g.hasOwnProperty(j)&&u.push(j);return u});function ae(g){for(var u=Math.max(w.MAX_BUFFER_LENGTH,10),j=0,A=0,Le=U.length;A<Le;A++){var He=g[U[A]].length;if(He>u)switch(U[A]){case"textNode":jt(g);break;case"cdata":Ve(g,"oncdata",g.cdata),g.cdata="";break;case"script":Ve(g,"onscript",g.script),g.script="";break;default:Nt(g,"Max buffer length exceeded: "+U[A])}j=Math.max(j,He)}var qe=w.MAX_BUFFER_LENGTH-j;g.bufferCheckPosition=qe+g.position}function Ce(g){for(var u=0,j=U.length;u<j;u++)g[U[u]]=""}function de(g){jt(g),g.cdata!==""&&(Ve(g,"oncdata",g.cdata),g.cdata=""),g.script!==""&&(Ve(g,"onscript",g.script),g.script="")}Q.prototype={end:function(){dn(this)},write:Xn,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){de(this)}};var Re;try{Re=require("stream").Stream}catch{Re=function(){}}Re||(Re=function(){});var z=w.EVENTS.filter(function(g){return g!=="error"&&g!=="end"});function S(g,u){return new pe(g,u)}function pe(g,u){if(!(this instanceof pe))return new pe(g,u);Re.apply(this),this._parser=new Q(g,u),this.writable=!0,this.readable=!0;var j=this;this._parser.onend=function(){j.emit("end")},this._parser.onerror=function(A){j.emit("error",A),j._parser.error=null},this._decoder=null,z.forEach(function(A){Object.defineProperty(j,"on"+A,{get:function(){return j._parser["on"+A]},set:function(Le){if(!Le)return j.removeAllListeners(A),j._parser["on"+A]=Le,Le;j.on(A,Le)},enumerable:!0,configurable:!1})})}pe.prototype=Object.create(Re.prototype,{constructor:{value:pe}}),pe.prototype.write=function(g){if(typeof F=="function"&&typeof F.isBuffer=="function"&&F.isBuffer(g)){if(!this._decoder){var u=be.I;this._decoder=new u("utf8")}g=this._decoder.write(g)}return this._parser.write(g.toString()),this.emit("data",g),!0},pe.prototype.end=function(g){return g&&g.length&&this.write(g),this._parser.end(),!0},pe.prototype.on=function(g,u){var j=this;return!j._parser["on"+g]&&z.indexOf(g)!==-1&&(j._parser["on"+g]=function(){var A=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);A.splice(0,0,g),j.emit.apply(j,A)}),Re.prototype.on.call(j,g,u)};var Ne="[CDATA[",Me="DOCTYPE",Be="http://www.w3.org/XML/1998/namespace",ve="http://www.w3.org/2000/xmlns/",st={xml:Be,xmlns:ve},Ge=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,vt=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,Rt=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,Tt=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function ot(g){return g===" "||g===`
`||g==="\r"||g==="	"}function Wt(g){return g==='"'||g==="'"}function fn(g){return g===">"||ot(g)}function bt(g,u){return g.test(u)}function Cn(g,u){return!bt(g,u)}var x=0;w.STATE={BEGIN:x++,BEGIN_WHITESPACE:x++,TEXT:x++,TEXT_ENTITY:x++,OPEN_WAKA:x++,SGML_DECL:x++,SGML_DECL_QUOTED:x++,DOCTYPE:x++,DOCTYPE_QUOTED:x++,DOCTYPE_DTD:x++,DOCTYPE_DTD_QUOTED:x++,COMMENT_STARTING:x++,COMMENT:x++,COMMENT_ENDING:x++,COMMENT_ENDED:x++,CDATA:x++,CDATA_ENDING:x++,CDATA_ENDING_2:x++,PROC_INST:x++,PROC_INST_BODY:x++,PROC_INST_ENDING:x++,OPEN_TAG:x++,OPEN_TAG_SLASH:x++,ATTRIB:x++,ATTRIB_NAME:x++,ATTRIB_NAME_SAW_WHITE:x++,ATTRIB_VALUE:x++,ATTRIB_VALUE_QUOTED:x++,ATTRIB_VALUE_CLOSED:x++,ATTRIB_VALUE_UNQUOTED:x++,ATTRIB_VALUE_ENTITY_Q:x++,ATTRIB_VALUE_ENTITY_U:x++,CLOSE_TAG:x++,CLOSE_TAG_SAW_WHITE:x++,SCRIPT:x++,SCRIPT_ENDING:x++},w.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},w.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(w.ENTITIES).forEach(function(g){var u=w.ENTITIES[g],j=typeof u=="number"?String.fromCharCode(u):u;w.ENTITIES[g]=j});for(var hn in w.STATE)w.STATE[w.STATE[hn]]=hn;x=w.STATE;function Xt(g,u,j){g[u]&&g[u](j)}function Ve(g,u,j){g.textNode&&jt(g),Xt(g,u,j)}function jt(g){g.textNode=at(g.opt,g.textNode),g.textNode&&Xt(g,"ontext",g.textNode),g.textNode=""}function at(g,u){return g.trim&&(u=u.trim()),g.normalize&&(u=u.replace(/\s+/g," ")),u}function Nt(g,u){return jt(g),g.trackPosition&&(u+=`
Line: `+g.line+`
Column: `+g.column+`
Char: `+g.c),u=new Error(u),g.error=u,Xt(g,"onerror",u),g}function dn(g){return g.sawRoot&&!g.closedRoot&&Se(g,"Unclosed root tag"),g.state!==x.BEGIN&&g.state!==x.BEGIN_WHITESPACE&&g.state!==x.TEXT&&Nt(g,"Unexpected end"),jt(g),g.c="",g.closed=!0,Xt(g,"onend"),Q.call(g,g.strict,g.opt),g}function Se(g,u){if(typeof g!="object"||!(g instanceof Q))throw new Error("bad call to strictFail");g.strict&&Nt(g,u)}function Gn(g){g.strict||(g.tagName=g.tagName[g.looseCase]());var u=g.tags[g.tags.length-1]||g,j=g.tag={name:g.tagName,attributes:{}};g.opt.xmlns&&(j.ns=u.ns),g.attribList.length=0,Ve(g,"onopentagstart",j)}function Jt(g,u){var j=g.indexOf(":"),A=j<0?["",g]:g.split(":"),Le=A[0],He=A[1];return u&&g==="xmlns"&&(Le="xmlns",He=""),{prefix:Le,local:He}}function pn(g){if(g.strict||(g.attribName=g.attribName[g.looseCase]()),g.attribList.indexOf(g.attribName)!==-1||g.tag.attributes.hasOwnProperty(g.attribName)){g.attribName=g.attribValue="";return}if(g.opt.xmlns){var u=Jt(g.attribName,!0),j=u.prefix,A=u.local;if(j==="xmlns")if(A==="xml"&&g.attribValue!==Be)Se(g,"xml: prefix must be bound to "+Be+`
Actual: `+g.attribValue);else if(A==="xmlns"&&g.attribValue!==ve)Se(g,"xmlns: prefix must be bound to "+ve+`
Actual: `+g.attribValue);else{var Le=g.tag,He=g.tags[g.tags.length-1]||g;Le.ns===He.ns&&(Le.ns=Object.create(He.ns)),Le.ns[A]=g.attribValue}g.attribList.push([g.attribName,g.attribValue])}else g.tag.attributes[g.attribName]=g.attribValue,Ve(g,"onattribute",{name:g.attribName,value:g.attribValue});g.attribName=g.attribValue=""}function St(g,u){if(g.opt.xmlns){var j=g.tag,A=Jt(g.tagName);j.prefix=A.prefix,j.local=A.local,j.uri=j.ns[A.prefix]||"",j.prefix&&!j.uri&&(Se(g,"Unbound namespace prefix: "+JSON.stringify(g.tagName)),j.uri=A.prefix);var Le=g.tags[g.tags.length-1]||g;j.ns&&Le.ns!==j.ns&&Object.keys(j.ns).forEach(function(nn){Ve(g,"onopennamespace",{prefix:nn,uri:j.ns[nn]})});for(var He=0,qe=g.attribList.length;He<qe;He++){var ct=g.attribList[He],ut=ct[0],Lt=ct[1],tt=Jt(ut,!0),It=tt.prefix,zn=tt.local,tn=It===""?"":j.ns[It]||"",mn={name:ut,value:Lt,prefix:It,local:zn,uri:tn};It&&It!=="xmlns"&&!tn&&(Se(g,"Unbound namespace prefix: "+JSON.stringify(It)),mn.uri=It),g.tag.attributes[ut]=mn,Ve(g,"onattribute",mn)}g.attribList.length=0}g.tag.isSelfClosing=!!u,g.sawRoot=!0,g.tags.push(g.tag),Ve(g,"onopentag",g.tag),u||(!g.noscript&&g.tagName.toLowerCase()==="script"?g.state=x.SCRIPT:g.state=x.TEXT,g.tag=null,g.tagName=""),g.attribName=g.attribValue="",g.attribList.length=0}function gn(g){if(!g.tagName){Se(g,"Weird empty close tag."),g.textNode+="</>",g.state=x.TEXT;return}if(g.script){if(g.tagName!=="script"){g.script+="</"+g.tagName+">",g.tagName="",g.state=x.SCRIPT;return}Ve(g,"onscript",g.script),g.script=""}var u=g.tags.length,j=g.tagName;g.strict||(j=j[g.looseCase]());for(var A=j;u--;){var Le=g.tags[u];if(Le.name!==A)Se(g,"Unexpected close tag");else break}if(u<0){Se(g,"Unmatched closing tag: "+g.tagName),g.textNode+="</"+g.tagName+">",g.state=x.TEXT;return}g.tagName=j;for(var He=g.tags.length;He-- >u;){var qe=g.tag=g.tags.pop();g.tagName=g.tag.name,Ve(g,"onclosetag",g.tagName);var ct={};for(var ut in qe.ns)ct[ut]=qe.ns[ut];var Lt=g.tags[g.tags.length-1]||g;g.opt.xmlns&&qe.ns!==Lt.ns&&Object.keys(qe.ns).forEach(function(tt){var It=qe.ns[tt];Ve(g,"onclosenamespace",{prefix:tt,uri:It})})}u===0&&(g.closedRoot=!0),g.tagName=g.attribValue=g.attribName="",g.attribList.length=0,g.state=x.TEXT}function Wn(g){var u=g.entity,j=u.toLowerCase(),A,Le="";return g.ENTITIES[u]?g.ENTITIES[u]:g.ENTITIES[j]?g.ENTITIES[j]:(u=j,u.charAt(0)==="#"&&(u.charAt(1)==="x"?(u=u.slice(2),A=parseInt(u,16),Le=A.toString(16)):(u=u.slice(1),A=parseInt(u,10),Le=A.toString(10))),u=u.replace(/^0+/,""),isNaN(A)||Le.toLowerCase()!==u?(Se(g,"Invalid character entity"),"&"+g.entity+";"):String.fromCodePoint(A))}function xn(g,u){u==="<"?(g.state=x.OPEN_WAKA,g.startTagPosition=g.position):ot(u)||(Se(g,"Non-whitespace before first tag."),g.textNode=u,g.state=x.TEXT)}function en(g,u){var j="";return u<g.length&&(j=g.charAt(u)),j}function Xn(g){var u=this;if(this.error)throw this.error;if(u.closed)return Nt(u,"Cannot write after close. Assign an onready handler.");if(g===null)return dn(u);typeof g=="object"&&(g=g.toString());for(var j=0,A="";A=en(g,j++),u.c=A,!!A;)switch(u.trackPosition&&(u.position++,A===`
`?(u.line++,u.column=0):u.column++),u.state){case x.BEGIN:if(u.state=x.BEGIN_WHITESPACE,A==="\uFEFF")continue;xn(u,A);continue;case x.BEGIN_WHITESPACE:xn(u,A);continue;case x.TEXT:if(u.sawRoot&&!u.closedRoot){for(var Le=j-1;A&&A!=="<"&&A!=="&";)A=en(g,j++),A&&u.trackPosition&&(u.position++,A===`
`?(u.line++,u.column=0):u.column++);u.textNode+=g.substring(Le,j-1)}A==="<"&&!(u.sawRoot&&u.closedRoot&&!u.strict)?(u.state=x.OPEN_WAKA,u.startTagPosition=u.position):(!ot(A)&&(!u.sawRoot||u.closedRoot)&&Se(u,"Text data outside of root node."),A==="&"?u.state=x.TEXT_ENTITY:u.textNode+=A);continue;case x.SCRIPT:A==="<"?u.state=x.SCRIPT_ENDING:u.script+=A;continue;case x.SCRIPT_ENDING:A==="/"?u.state=x.CLOSE_TAG:(u.script+="<"+A,u.state=x.SCRIPT);continue;case x.OPEN_WAKA:if(A==="!")u.state=x.SGML_DECL,u.sgmlDecl="";else if(!ot(A))if(bt(Ge,A))u.state=x.OPEN_TAG,u.tagName=A;else if(A==="/")u.state=x.CLOSE_TAG,u.tagName="";else if(A==="?")u.state=x.PROC_INST,u.procInstName=u.procInstBody="";else{if(Se(u,"Unencoded <"),u.startTagPosition+1<u.position){var He=u.position-u.startTagPosition;A=new Array(He).join(" ")+A}u.textNode+="<"+A,u.state=x.TEXT}continue;case x.SGML_DECL:if(u.sgmlDecl+A==="--"){u.state=x.COMMENT,u.comment="",u.sgmlDecl="";continue}u.doctype&&u.doctype!==!0&&u.sgmlDecl?(u.state=x.DOCTYPE_DTD,u.doctype+="<!"+u.sgmlDecl+A,u.sgmlDecl=""):(u.sgmlDecl+A).toUpperCase()===Ne?(Ve(u,"onopencdata"),u.state=x.CDATA,u.sgmlDecl="",u.cdata=""):(u.sgmlDecl+A).toUpperCase()===Me?(u.state=x.DOCTYPE,(u.doctype||u.sawRoot)&&Se(u,"Inappropriately located doctype declaration"),u.doctype="",u.sgmlDecl=""):A===">"?(Ve(u,"onsgmldeclaration",u.sgmlDecl),u.sgmlDecl="",u.state=x.TEXT):(Wt(A)&&(u.state=x.SGML_DECL_QUOTED),u.sgmlDecl+=A);continue;case x.SGML_DECL_QUOTED:A===u.q&&(u.state=x.SGML_DECL,u.q=""),u.sgmlDecl+=A;continue;case x.DOCTYPE:A===">"?(u.state=x.TEXT,Ve(u,"ondoctype",u.doctype),u.doctype=!0):(u.doctype+=A,A==="["?u.state=x.DOCTYPE_DTD:Wt(A)&&(u.state=x.DOCTYPE_QUOTED,u.q=A));continue;case x.DOCTYPE_QUOTED:u.doctype+=A,A===u.q&&(u.q="",u.state=x.DOCTYPE);continue;case x.DOCTYPE_DTD:A==="]"?(u.doctype+=A,u.state=x.DOCTYPE):A==="<"?(u.state=x.OPEN_WAKA,u.startTagPosition=u.position):Wt(A)?(u.doctype+=A,u.state=x.DOCTYPE_DTD_QUOTED,u.q=A):u.doctype+=A;continue;case x.DOCTYPE_DTD_QUOTED:u.doctype+=A,A===u.q&&(u.state=x.DOCTYPE_DTD,u.q="");continue;case x.COMMENT:A==="-"?u.state=x.COMMENT_ENDING:u.comment+=A;continue;case x.COMMENT_ENDING:A==="-"?(u.state=x.COMMENT_ENDED,u.comment=at(u.opt,u.comment),u.comment&&Ve(u,"oncomment",u.comment),u.comment=""):(u.comment+="-"+A,u.state=x.COMMENT);continue;case x.COMMENT_ENDED:A!==">"?(Se(u,"Malformed comment"),u.comment+="--"+A,u.state=x.COMMENT):u.doctype&&u.doctype!==!0?u.state=x.DOCTYPE_DTD:u.state=x.TEXT;continue;case x.CDATA:A==="]"?u.state=x.CDATA_ENDING:u.cdata+=A;continue;case x.CDATA_ENDING:A==="]"?u.state=x.CDATA_ENDING_2:(u.cdata+="]"+A,u.state=x.CDATA);continue;case x.CDATA_ENDING_2:A===">"?(u.cdata&&Ve(u,"oncdata",u.cdata),Ve(u,"onclosecdata"),u.cdata="",u.state=x.TEXT):A==="]"?u.cdata+="]":(u.cdata+="]]"+A,u.state=x.CDATA);continue;case x.PROC_INST:A==="?"?u.state=x.PROC_INST_ENDING:ot(A)?u.state=x.PROC_INST_BODY:u.procInstName+=A;continue;case x.PROC_INST_BODY:if(!u.procInstBody&&ot(A))continue;A==="?"?u.state=x.PROC_INST_ENDING:u.procInstBody+=A;continue;case x.PROC_INST_ENDING:A===">"?(Ve(u,"onprocessinginstruction",{name:u.procInstName,body:u.procInstBody}),u.procInstName=u.procInstBody="",u.state=x.TEXT):(u.procInstBody+="?"+A,u.state=x.PROC_INST_BODY);continue;case x.OPEN_TAG:bt(vt,A)?u.tagName+=A:(Gn(u),A===">"?St(u):A==="/"?u.state=x.OPEN_TAG_SLASH:(ot(A)||Se(u,"Invalid character in tag name"),u.state=x.ATTRIB));continue;case x.OPEN_TAG_SLASH:A===">"?(St(u,!0),gn(u)):(Se(u,"Forward-slash in opening tag not followed by >"),u.state=x.ATTRIB);continue;case x.ATTRIB:if(ot(A))continue;A===">"?St(u):A==="/"?u.state=x.OPEN_TAG_SLASH:bt(Ge,A)?(u.attribName=A,u.attribValue="",u.state=x.ATTRIB_NAME):Se(u,"Invalid attribute name");continue;case x.ATTRIB_NAME:A==="="?u.state=x.ATTRIB_VALUE:A===">"?(Se(u,"Attribute without value"),u.attribValue=u.attribName,pn(u),St(u)):ot(A)?u.state=x.ATTRIB_NAME_SAW_WHITE:bt(vt,A)?u.attribName+=A:Se(u,"Invalid attribute name");continue;case x.ATTRIB_NAME_SAW_WHITE:if(A==="=")u.state=x.ATTRIB_VALUE;else{if(ot(A))continue;Se(u,"Attribute without value"),u.tag.attributes[u.attribName]="",u.attribValue="",Ve(u,"onattribute",{name:u.attribName,value:""}),u.attribName="",A===">"?St(u):bt(Ge,A)?(u.attribName=A,u.state=x.ATTRIB_NAME):(Se(u,"Invalid attribute name"),u.state=x.ATTRIB)}continue;case x.ATTRIB_VALUE:if(ot(A))continue;Wt(A)?(u.q=A,u.state=x.ATTRIB_VALUE_QUOTED):(u.opt.unquotedAttributeValues||Nt(u,"Unquoted attribute value"),u.state=x.ATTRIB_VALUE_UNQUOTED,u.attribValue=A);continue;case x.ATTRIB_VALUE_QUOTED:if(A!==u.q){A==="&"?u.state=x.ATTRIB_VALUE_ENTITY_Q:u.attribValue+=A;continue}pn(u),u.q="",u.state=x.ATTRIB_VALUE_CLOSED;continue;case x.ATTRIB_VALUE_CLOSED:ot(A)?u.state=x.ATTRIB:A===">"?St(u):A==="/"?u.state=x.OPEN_TAG_SLASH:bt(Ge,A)?(Se(u,"No whitespace between attributes"),u.attribName=A,u.attribValue="",u.state=x.ATTRIB_NAME):Se(u,"Invalid attribute name");continue;case x.ATTRIB_VALUE_UNQUOTED:if(!fn(A)){A==="&"?u.state=x.ATTRIB_VALUE_ENTITY_U:u.attribValue+=A;continue}pn(u),A===">"?St(u):u.state=x.ATTRIB;continue;case x.CLOSE_TAG:if(u.tagName)A===">"?gn(u):bt(vt,A)?u.tagName+=A:u.script?(u.script+="</"+u.tagName,u.tagName="",u.state=x.SCRIPT):(ot(A)||Se(u,"Invalid tagname in closing tag"),u.state=x.CLOSE_TAG_SAW_WHITE);else{if(ot(A))continue;Cn(Ge,A)?u.script?(u.script+="</"+A,u.state=x.SCRIPT):Se(u,"Invalid tagname in closing tag."):u.tagName=A}continue;case x.CLOSE_TAG_SAW_WHITE:if(ot(A))continue;A===">"?gn(u):Se(u,"Invalid characters in closing tag");continue;case x.TEXT_ENTITY:case x.ATTRIB_VALUE_ENTITY_Q:case x.ATTRIB_VALUE_ENTITY_U:var qe,ct;switch(u.state){case x.TEXT_ENTITY:qe=x.TEXT,ct="textNode";break;case x.ATTRIB_VALUE_ENTITY_Q:qe=x.ATTRIB_VALUE_QUOTED,ct="attribValue";break;case x.ATTRIB_VALUE_ENTITY_U:qe=x.ATTRIB_VALUE_UNQUOTED,ct="attribValue";break}if(A===";"){var ut=Wn(u);u.opt.unparsedEntities&&!Object.values(w.XML_ENTITIES).includes(ut)?(u.entity="",u.state=qe,u.write(ut)):(u[ct]+=ut,u.entity="",u.state=qe)}else bt(u.entity.length?Tt:Rt,A)?u.entity+=A:(Se(u,"Invalid character in entity name"),u[ct]+="&"+u.entity+A,u.entity="",u.state=qe);continue;default:throw new Error(u,"Unknown state: "+u.state)}return u.position>=u.bufferCheckPosition&&ae(u),u}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var g=String.fromCharCode,u=Math.floor,j=function(){var A=16384,Le=[],He,qe,ct=-1,ut=arguments.length;if(!ut)return"";for(var Lt="";++ct<ut;){var tt=Number(arguments[ct]);if(!isFinite(tt)||tt<0||tt>1114111||u(tt)!==tt)throw RangeError("Invalid code point: "+tt);tt<=65535?Le.push(tt):(tt-=65536,He=(tt>>10)+55296,qe=tt%1024+56320,Le.push(He,qe)),(ct+1===ut||Le.length>A)&&(Lt+=g.apply(null,Le),Le.length=0)}return Lt};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:j,configurable:!0,writable:!0}):String.fromCodePoint=j}()})(T)}(Pt)),Pt}var Tn=_n();const Dn=null,$n={"http://www.w3.org/2000/svg":{ext:"svg",mime:"image/svg+xml"},"http://www.w3.org/1999/xhtml":{ext:"xhtml",mime:"application/xhtml+xml"},"http://www.opengis.net/kml/2.2":{ext:"kml",mime:"application/vnd.google-earth.kml+xml"},"http://www.opengis.net/gml":{ext:"gml",mime:"application/gml+xml"}},Fn={rss:{ext:"rss",mime:"application/rss+xml"},"score-partwise":{ext:"musicxml",mime:"application/vnd.recordare.musicxml+xml"},svg:{ext:"svg",mime:"image/svg+xml"}};class an{constructor(w){this.options=w??{},this.firstTag=!0,this.onEnd=!1,this.parser=Dn.parser(!0,{xmlns:!0}),this.nesting=0,this.parser.onerror=U=>{U.message.startsWith("Invalid character entity")||(this.fileType=void 0,this.onEnd=!0)},this.parser.onopentag=U=>{++this.nesting,!(!this.firstTag||this.onEnd)&&(this.firstTag=!1,U.uri?this.fileType=$n[U.uri]:U.name&&(this.fileType=Fn[U.name.toLowerCase()]),this.fileType&&!this.options.fullScan&&(this.onEnd=!0))},this.parser.onclosetag=()=>{--this.nesting}}write(w){this.parser.write(w)}close(){this.parser.close(),this.onEnd=!0}isValid(){return this.nesting===0}}function Nn(T){if(typeof T!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof T}\``);if(T=T.trim(),T.length===0)return!1;const w=new an;return w.write(T),w.isValid()&&w.fileType?.ext==="svg"}class Mn{constructor(w){Ae(this,"_view");Zt(w),this._view=w}get id(){return this._view.id}get name(){return this._view.name}get caption(){return this._view.caption}get emptyTitle(){return this._view.emptyTitle}get emptyCaption(){return this._view.emptyCaption}get getContents(){return this._view.getContents}get hidden(){return this._view.hidden}get icon(){return this._view.icon}set icon(w){this._view.icon=w}get order(){return this._view.order}set order(w){this._view.order=w}get params(){return this._view.params}set params(w){this._view.params=w}get columns(){return this._view.columns}get emptyView(){return this._view.emptyView}get parent(){return this._view.parent}get sticky(){return this._view.sticky}get expanded(){return this._view.expanded}set expanded(w){this._view.expanded=w}get defaultSortKey(){return this._view.defaultSortKey}get loadChildViews(){return this._view.loadChildViews}}const Zt=function(T){if(!T.id||typeof T.id!="string")throw new Error("View id is required and must be a string");if(!T.name||typeof T.name!="string")throw new Error("View name is required and must be a string");if("caption"in T&&typeof T.caption!="string")throw new Error("View caption must be a string");if(!T.getContents||typeof T.getContents!="function")throw new Error("View getContents is required and must be a function");if("hidden"in T&&typeof T.hidden!="boolean")throw new Error("View hidden must be a boolean");if(!T.icon||typeof T.icon!="string"||!Nn(T.icon))throw new Error("View icon is required and must be a valid svg string");if("order"in T&&typeof T.order!="number")throw new Error("View order must be a number");if(T.columns&&T.columns.forEach(w=>{if(!(w instanceof wn))throw new Error("View columns must be an array of Column. Invalid column found")}),T.emptyView&&typeof T.emptyView!="function")throw new Error("View emptyView must be a function");if(T.parent&&typeof T.parent!="string")throw new Error("View parent must be a string");if("sticky"in T&&typeof T.sticky!="boolean")throw new Error("View sticky must be a boolean");if("expanded"in T&&typeof T.expanded!="boolean")throw new Error("View expanded must be a boolean");if(T.defaultSortKey&&typeof T.defaultSortKey!="string")throw new Error("View defaultSortKey must be a string");if(T.loadChildViews&&typeof T.loadChildViews!="function")throw new Error("View loadChildViews must be a function");return!0};var it=(T=>(T[T.UploadFromDevice=0]="UploadFromDevice",T[T.CreateNew=1]="CreateNew",T[T.Other=2]="Other",T))(it||{});class jn{constructor(){Ae(this,"_entries",[])}registerEntry(w){this.validateEntry(w),w.category=w.category??1,this._entries.push(w)}unregisterEntry(w){const U=typeof w=="string"?this.getEntryIndex(w):this.getEntryIndex(w.id);if(U===-1){logger.warn("Entry not found, nothing removed",{entry:w,entries:this.getEntries()});return}this._entries.splice(U,1)}getEntries(w){return w?this._entries.filter(U=>typeof U.enabled=="function"?U.enabled(w):!0):this._entries}getEntryIndex(w){return this._entries.findIndex(U=>U.id===w)}validateEntry(w){if(!w.id||!w.displayName||!(w.iconSvgInline||w.iconClass)||!w.handler)throw new Error("Invalid entry");if(typeof w.id!="string"||typeof w.displayName!="string")throw new Error("Invalid id or displayName property");if(w.iconClass&&typeof w.iconClass!="string"||w.iconSvgInline&&typeof w.iconSvgInline!="string")throw new Error("Invalid icon provided");if(w.enabled!==void 0&&typeof w.enabled!="function")throw new Error("Invalid enabled property");if(typeof w.handler!="function")throw new Error("Invalid handler property");if("order"in w&&typeof w.order!="number")throw new Error("Invalid order property");if(this.getEntryIndex(w.id)!==-1)throw new Error("Duplicate entry")}}function un(){return typeof window._nc_newfilemenu>"u"&&(window._nc_newfilemenu=new jn,logger.debug("NewFileMenu initialized")),window._nc_newfilemenu}function Zn(T){return un().registerEntry(T)}function Jn(T){return un().unregisterEntry(T)}function er(T){return un().getEntries(T).sort((U,Q)=>U.order!==void 0&&Q.order!==void 0&&U.order!==Q.order?U.order-Q.order:U.displayName.localeCompare(Q.displayName,void 0,{numeric:!0,sensitivity:"base"}))}var An=(T=>(T.ReservedName="reserved name",T.Character="character",T.Extension="extension",T))(An||{});class Mt extends Error{constructor(w){super(`Invalid ${w.reason} '${w.segment}' in filename '${w.filename}'`,{cause:w})}get filename(){return this.cause.filename}get reason(){return this.cause.reason}get segment(){return this.cause.segment}}function In(T){const w=(0,J.F)().files,U=w.forbidden_filename_characters??window._oc_config?.forbidden_filenames_characters??["/","\\"];for(const z of U)if(T.includes(z))throw new Mt({segment:z,reason:"character",filename:T});if(T=T.toLocaleLowerCase(),(w.forbidden_filenames??[".htaccess"]).includes(T))throw new Mt({filename:T,segment:T,reason:"reserved name"});const ae=T.indexOf(".",1),Ce=T.substring(0,ae===-1?void 0:ae);if((w.forbidden_filename_basenames??[]).includes(Ce))throw new Mt({filename:T,segment:Ce,reason:"reserved name"});const Re=w.forbidden_filename_extensions??[".part",".filepart"];for(const z of Re)if(T.length>z.length&&T.endsWith(z))throw new Mt({segment:z,reason:"extension",filename:T})}function tr(T){try{return In(T),!0}catch(w){if(w instanceof Mt)return!1;throw w}}function nr(T,w,U){const Q={suffix:de=>`(${de})`,ignoreFileExtension:!1,...U};let ae=T,Ce=1;for(;w.includes(ae);){const de=Q.ignoreFileExtension?"":extname(T);ae=`${basename(T,de)} ${Q.suffix(Ce++)}${de}`}return ae}const ln=["B","KB","MB","GB","TB","PB"],cn=["B","KiB","MiB","GiB","TiB","PiB"];function Un(T,w=!1,U=!1,Q=!1){U=U&&!Q,typeof T=="string"&&(T=Number(T));let ae=T>0?Math.floor(Math.log(T)/Math.log(Q?1e3:1024)):0;ae=Math.min((U?cn.length:ln.length)-1,ae);const Ce=U?cn[ae]:ln[ae];let de=(T/Math.pow(Q?1e3:1024,ae)).toFixed(1);return w===!0&&ae===0?(de!=="0.0"?"< 1 ":"0 ")+(U?cn[1]:ln[1]):(ae<2?de=parseFloat(de).toFixed(0):de=parseFloat(de).toLocaleString((0,ne.lO)()),de+" "+Ce)}function rr(T,w=!1){try{T=`${T}`.toLocaleLowerCase().replaceAll(/\s+/g,"").replaceAll(",",".")}catch{return null}const U=T.match(/^([0-9]*(\.[0-9]*)?)([kmgtp]?)(i?)b?$/);if(U===null||U[1]==="."||U[1]==="")return null;const Q={"":0,k:1,m:2,g:3,t:4,p:5,e:6},ae=`${U[1]}`,Ce=U[4]==="i"||w?1024:1e3;return Math.round(Number.parseFloat(ae)*Ce**Q[U[3]])}function On(T){return T instanceof Date?T.toISOString():String(T)}function kn(T,w,U){w=w??[Ce=>Ce],U=U??[];const Q=w.map((Ce,de)=>(U[de]??"asc")==="asc"?1:-1),ae=Intl.Collator([(0,ne.Z0)(),(0,ne.lO)()],{numeric:!0,usage:"sort"});return[...T].sort((Ce,de)=>{for(const[Re,z]of w.entries()){const S=ae.compare(On(z(Ce)),On(z(de)));if(S!==0)return S*Q[Re]}return 0})}var Bn=(T=>(T.Name="basename",T.Modified="mtime",T.Size="size",T))(Bn||{});function Vn(T,w={}){const U={sortingMode:"basename",sortingOrder:"asc",...w},Q=de=>de.lastIndexOf(".")>0?de.slice(0,de.lastIndexOf(".")):de,ae=[...U.sortFavoritesFirst?[de=>de.attributes?.favorite!==1]:[],...U.sortFoldersFirst?[de=>de.type!=="folder"]:[],...U.sortingMode!=="basename"?[de=>de[U.sortingMode]??de.attributes[U.sortingMode]]:[],de=>Q(de.displayname||de.attributes?.displayname||de.basename||""),de=>de.basename],Ce=[...U.sortFavoritesFirst?["asc"]:[],...U.sortFoldersFirst?["asc"]:[],...U.sortingMode==="mtime"?[U.sortingOrder==="asc"?"desc":"asc"]:[],...U.sortingMode!=="mtime"&&U.sortingMode!=="basename"?[U.sortingOrder]:[],U.sortingOrder,U.sortingOrder];return kn(T,ae,Ce)}},71225:(Te,he,H)=>{"use strict";H.d(he,{HS:()=>J,O0:()=>M,P8:()=>ue});function M(ne){return ne&&ne.split("/").map(encodeURIComponent).join("/")}function ue(ne){return ne.replace(/\\/g,"/").replace(/.*\//,"")}function be(ne){return ne.replace(/\\/g,"/").replace(/\/[^\/]*$/,"")}function J(...ne){if(arguments.length<1)return"";const P=ne.filter(ge=>ge.length>0);if(P.length<1)return"";const F=P[P.length-1],re=P[0].charAt(0)==="/",K=F.charAt(F.length-1)==="/",ie=P.reduce((ge,le)=>ge.concat(le.split("/")),[]);let ee=!re;const se=ie.reduce((ge,le)=>le===""?ge:ee?(ee=!1,ge+le):ge+"/"+le,"");return K?se+"/":se}function te(ne,P){const F=(ne||"").split("/").filter(K=>K!=="."),re=(P||"").split("/").filter(K=>K!==".");return ne=J.apply(void 0,F),P=J.apply(void 0,re),ne===P}},89746:(Te,he,H)=>{"use strict";H.d(he,{G:()=>be,f:()=>ue});function M(J,te,ne){const P=document.querySelector(`#initial-state-${J}-${te}`);if(P===null){if(ne!==void 0)return ne;throw new Error(`Could not find initial state ${te} of ${J}`)}try{return JSON.parse(atob(P.value))}catch{throw new Error(`Could not parse initial state ${te} of ${J}`)}}/*!
 * SPDX-FileCopyrightText: 2024 Nextcloud GmbH and Nextcloud contributors
 * SPDX-License-Identifier: GPL-3.0-or-later
 */function ue(){return M("files_sharing","isPublic",null)??document.querySelector('input#isPublic[type="hidden"][name="isPublic"][value="1"]')!==null}function be(){return M("files_sharing","sharingToken",null)??document.querySelector('input#sharingToken[type="hidden"]')?.value??null}},69331:(Te,he,H)=>{"use strict";H.d(he,{N:()=>D});var M=H(20641),ue=H(90033),be=H(50953),J=H(53751),te=H(60381),ne=H(34163),P=H(97172),F=H(95861),re=H(83656),K=H(52697);const ie={class:"input-field__main-wrapper"},ee=["id","aria-describedby","disabled","placeholder","type","value"],se=["for"],ge={class:"input-field__icon input-field__icon--leading"},le={key:2,class:"input-field__icon input-field__icon--trailing"},De=["id"],Ee=(0,M.pM)({inheritAttrs:!1,__name:"NcInputField",props:(0,M.zz)({class:{default:""},inputClass:{default:""},id:{default:()=>(0,ne.c)()},label:{default:void 0},labelOutside:{type:Boolean},type:{default:"text"},placeholder:{default:void 0},showTrailingButton:{type:Boolean},trailingButtonLabel:{default:void 0},success:{type:Boolean},error:{type:Boolean},helperText:{default:""},disabled:{type:Boolean},pill:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:(0,M.zz)(["trailingButtonClick"],["update:modelValue"]),setup(G,{expose:me,emit:_e}){const Ie=(0,M.fn)(G,"modelValue"),Ue=G,_t=_e;me({focus:xt,select:wt});const Ot=(0,M.OA)(),yt=(0,M.rk)("input"),Fe=(0,M.EW)(()=>Ue.showTrailingButton||Ue.success),dt=(0,M.EW)(()=>Ue.placeholder||(P.i?Ue.label:void 0)),et=(0,M.EW)(()=>{const N=Ue.label||Ue.labelOutside;return N||(0,M.R8)("You need to add a label to the NcInputField component. Either use the prop label or use an external one, as per the example in the documentation."),N}),Xe=(0,M.EW)(()=>{const N=[];return Ue.helperText&&N.push(`${Ue.id}-helper-text`),Ot["aria-describedby"]&&N.push(String(Ot["aria-describedby"])),N.join(" ")||void 0});function xt(N){yt.value.focus(N)}function wt(){yt.value.select()}function $e(N){const V=N.target;Ie.value=Ue.type==="number"&&typeof Ie.value=="number"?parseFloat(V.value):V.value}return(N,V)=>((0,M.uX)(),(0,M.CE)("div",{class:(0,ue.C4)(["input-field",[{"input-field--disabled":N.disabled,"input-field--error":N.error,"input-field--label-outside":N.labelOutside||!et.value,"input-field--leading-icon":!!N.$slots.icon,"input-field--trailing-icon":Fe.value,"input-field--pill":N.pill,"input-field--success":N.success,"input-field--legacy":(0,be.R1)(P.i)},N.$props.class]])},[(0,M.Lk)("div",ie,[(0,M.Lk)("input",(0,M.v6)(N.$attrs,{id:N.id,ref:"input","aria-describedby":Xe.value,"aria-live":"polite",class:["input-field__input",N.inputClass],disabled:N.disabled,placeholder:dt.value,type:N.type,value:Ie.value.toString(),onInput:$e}),null,16,ee),!N.labelOutside&&et.value?((0,M.uX)(),(0,M.CE)("label",{key:0,class:"input-field__label",for:N.id},(0,ue.v_)(N.label),9,se)):(0,M.Q3)("",!0),(0,M.bo)((0,M.Lk)("div",ge,[(0,M.RG)(N.$slots,"icon",{},void 0,!0)],512),[[J.aG,!!N.$slots.icon]]),N.showTrailingButton?((0,M.uX)(),(0,M.Wv)((0,be.R1)(F.N),{key:1,class:"input-field__trailing-button","aria-label":N.trailingButtonLabel,disabled:N.disabled,variant:"tertiary-no-background",onClick:V[0]||(V[0]=ce=>_t("trailingButtonClick",ce))},{icon:(0,M.k6)(()=>[(0,M.RG)(N.$slots,"trailing-button-icon",{},void 0,!0)]),_:3},8,["aria-label","disabled"])):N.success||N.error?((0,M.uX)(),(0,M.CE)("div",le,[N.success?((0,M.uX)(),(0,M.Wv)((0,be.R1)(re.N),{key:0,path:(0,be.R1)(te.d)},null,8,["path"])):((0,M.uX)(),(0,M.Wv)((0,be.R1)(re.N),{key:1,path:(0,be.R1)(te.e)},null,8,["path"]))])):(0,M.Q3)("",!0)]),N.helperText?((0,M.uX)(),(0,M.CE)("p",{key:0,id:`${N.id}-helper-text`,class:"input-field__helper-text-message"},[N.success?((0,M.uX)(),(0,M.Wv)((0,be.R1)(re.N),{key:0,class:"input-field__helper-text-message__icon",path:(0,be.R1)(te.d)},null,8,["path"])):N.error?((0,M.uX)(),(0,M.Wv)((0,be.R1)(re.N),{key:1,class:"input-field__helper-text-message__icon",path:(0,be.R1)(te.e)},null,8,["path"])):(0,M.Q3)("",!0),(0,M.eW)(" "+(0,ue.v_)(N.helperText),1)],8,De)):(0,M.Q3)("",!0)],2))}}),D=(0,K._)(Ee,[["__scopeId","data-v-8e3b7bdd"]])},64402:(Te,he,H)=>{"use strict";H.d(he,{_:()=>P});var M=H(20641),ue=H(50953),be=H(60381),J=H(83985),te=H(83656),ne=H(69331);(0,J.r)();const P=(0,M.pM)({__name:"NcTextField",props:(0,M.zz)({class:{},inputClass:{},id:{},label:{},labelOutside:{type:Boolean},type:{},placeholder:{},showTrailingButton:{type:Boolean},trailingButtonLabel:{default:void 0},success:{type:Boolean},error:{type:Boolean},helperText:{},disabled:{type:Boolean},pill:{type:Boolean},trailingButtonIcon:{default:"close"}},{modelValue:{default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(F,{expose:re}){const K=(0,M.fn)(F,"modelValue"),ie=F;re({focus:De,select:Ee});const ee=(0,M.rk)("inputField"),se={arrowEnd:(0,J.a)("Save changes"),close:(0,J.a)("Clear text"),undo:(0,J.a)("Undo changes")},ge=new Set(Object.keys(ne.N.props)),le=(0,M.EW)(()=>{const D=Object.fromEntries(Object.entries(ie).filter(([G])=>ge.has(G)));return D.trailingButtonLabel??(D.trailingButtonLabel=se[ie.trailingButtonIcon]),D});function De(D){ee.value.focus(D)}function Ee(){ee.value.select()}return(D,G)=>((0,M.uX)(),(0,M.Wv)((0,ue.R1)(ne.N),(0,M.v6)(le.value,{ref:"inputField",modelValue:K.value,"onUpdate:modelValue":G[0]||(G[0]=me=>K.value=me)}),(0,M.eX)({_:2},[D.$slots.icon?{name:"icon",fn:(0,M.k6)(()=>[(0,M.RG)(D.$slots,"icon")]),key:"0"}:void 0,D.type!=="search"?{name:"trailing-button-icon",fn:(0,M.k6)(()=>[D.trailingButtonIcon==="arrowEnd"?((0,M.uX)(),(0,M.Wv)((0,ue.R1)(te.N),{key:0,directional:"",path:(0,ue.R1)(be.m)},null,8,["path"])):((0,M.uX)(),(0,M.Wv)((0,ue.R1)(te.N),{key:1,path:D.trailingButtonIcon==="undo"?(0,ue.R1)(be.a):(0,ue.R1)(be.b)},null,8,["path"]))]),key:"1"}:void 0]),1040,["modelValue"]))}})},79455:(Te,he,H)=>{"use strict";H.d(he,{A:()=>M._});var M=H(64402)},380:(Te,he,H)=>{"use strict";H.d(he,{m:()=>M});var M=class extends EventTarget{dispatchTypedEvent(ue,be){return super.dispatchEvent(be)}}},44719:(Te,he,H)=>{"use strict";var nt,lt,Dt,ke,Ze,Ut,zt,kt,Ct,Ht,En,qt,lr,Bt,Pn,Kn,cr;H.d(he,{Gu:()=>br,UU:()=>wr});var M=H(65606);/*! For license information please see index.js.LICENSE.txt */var ue={2:n=>{function e(s,o,f){s instanceof RegExp&&(s=t(s,f)),o instanceof RegExp&&(o=t(o,f));var l=r(s,o,f);return l&&{start:l[0],end:l[1],pre:f.slice(0,l[0]),body:f.slice(l[0]+s.length,l[1]),post:f.slice(l[1]+o.length)}}function t(s,o){var f=o.match(s);return f?f[0]:null}function r(s,o,f){var l,v,h,i,c,a=f.indexOf(s),E=f.indexOf(o,a+1),m=a;if(a>=0&&E>0){for(l=[],h=f.length;m>=0&&!c;)m==a?(l.push(m),a=f.indexOf(s,m+1)):l.length==1?c=[l.pop(),E]:((v=l.pop())<h&&(h=v,i=E),E=f.indexOf(o,m+1)),m=a<E&&a>=0?a:E;l.length&&(c=[h,i])}return c}n.exports=e,e.range=r},101:function(n,e,t){var r;n=t.nmd(n),function(s){var o=(n&&n.exports,typeof global=="object"&&global);o.global!==o&&o.window;var f=function(c){this.message=c};(f.prototype=new Error).name="InvalidCharacterError";var l=function(c){throw new f(c)},v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=/[\t\n\f\r ]/g,i={encode:function(c){c=String(c),/[^\0-\xFF]/.test(c)&&l("The string to be encoded contains characters outside of the Latin1 range.");for(var a,E,m,p,y=c.length%3,C="",d=-1,b=c.length-y;++d<b;)a=c.charCodeAt(d)<<16,E=c.charCodeAt(++d)<<8,m=c.charCodeAt(++d),C+=v.charAt((p=a+E+m)>>18&63)+v.charAt(p>>12&63)+v.charAt(p>>6&63)+v.charAt(63&p);return y==2?(a=c.charCodeAt(d)<<8,E=c.charCodeAt(++d),C+=v.charAt((p=a+E)>>10)+v.charAt(p>>4&63)+v.charAt(p<<2&63)+"="):y==1&&(p=c.charCodeAt(d),C+=v.charAt(p>>2)+v.charAt(p<<4&63)+"=="),C},decode:function(c){var a=(c=String(c).replace(h,"")).length;a%4==0&&(a=(c=c.replace(/==?$/,"")).length),(a%4==1||/[^+a-zA-Z0-9/]/.test(c))&&l("Invalid character: the string to be decoded is not correctly encoded.");for(var E,m,p=0,y="",C=-1;++C<a;)m=v.indexOf(c.charAt(C)),E=p%4?64*E+m:m,p++%4&&(y+=String.fromCharCode(255&E>>(-2*p&6)));return y},version:"1.0.0"};(r=function(){return i}.call(e,t,e,n))===void 0||(n.exports=r)}()},172:(n,e)=>{e.d=function(t){if(!t)return 0;for(var r=(t=t.toString()).length,s=t.length;s--;){var o=t.charCodeAt(s);56320<=o&&o<=57343&&s--,127<o&&o<=2047?r++:2047<o&&o<=65535&&(r+=2)}return r}},526:n=>{var e={utf8:{stringToBytes:function(t){return e.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(e.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var r=[],s=0;s<t.length;s++)r.push(255&t.charCodeAt(s));return r},bytesToString:function(t){for(var r=[],s=0;s<t.length;s++)r.push(String.fromCharCode(t[s]));return r.join("")}}};n.exports=e},298:n=>{var e,t;e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t={rotl:function(r,s){return r<<s|r>>>32-s},rotr:function(r,s){return r<<32-s|r>>>s},endian:function(r){if(r.constructor==Number)return 16711935&t.rotl(r,8)|4278255360&t.rotl(r,24);for(var s=0;s<r.length;s++)r[s]=t.endian(r[s]);return r},randomBytes:function(r){for(var s=[];r>0;r--)s.push(Math.floor(256*Math.random()));return s},bytesToWords:function(r){for(var s=[],o=0,f=0;o<r.length;o++,f+=8)s[f>>>5]|=r[o]<<24-f%32;return s},wordsToBytes:function(r){for(var s=[],o=0;o<32*r.length;o+=8)s.push(r[o>>>5]>>>24-o%32&255);return s},bytesToHex:function(r){for(var s=[],o=0;o<r.length;o++)s.push((r[o]>>>4).toString(16)),s.push((15&r[o]).toString(16));return s.join("")},hexToBytes:function(r){for(var s=[],o=0;o<r.length;o+=2)s.push(parseInt(r.substr(o,2),16));return s},bytesToBase64:function(r){for(var s=[],o=0;o<r.length;o+=3)for(var f=r[o]<<16|r[o+1]<<8|r[o+2],l=0;l<4;l++)8*o+6*l<=8*r.length?s.push(e.charAt(f>>>6*(3-l)&63)):s.push("=");return s.join("")},base64ToBytes:function(r){r=r.replace(/[^A-Z0-9+\/]/gi,"");for(var s=[],o=0,f=0;o<r.length;f=++o%4)f!=0&&s.push((e.indexOf(r.charAt(o-1))&Math.pow(2,-2*f+8)-1)<<2*f|e.indexOf(r.charAt(o))>>>6-2*f);return s}},n.exports=t},635:(n,e,t)=>{const r=t(31),s=t(338),o=t(221);n.exports={XMLParser:s,XMLValidator:r,XMLBuilder:o}},118:n=>{n.exports=function(e){return typeof e=="function"?e:Array.isArray(e)?t=>{for(const r of e)if(typeof r=="string"&&t===r||r instanceof RegExp&&r.test(t))return!0}:()=>!1}},705:(n,e)=>{const t=":A-Za-z_\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",r="["+t+"]["+t+"\\-.\\d\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*",s=new RegExp("^"+r+"$");e.isExist=function(o){return o!==void 0},e.isEmptyObject=function(o){return Object.keys(o).length===0},e.merge=function(o,f,l){if(f){const v=Object.keys(f),h=v.length;for(let i=0;i<h;i++)o[v[i]]=l==="strict"?[f[v[i]]]:f[v[i]]}},e.getValue=function(o){return e.isExist(o)?o:""},e.isName=function(o){return s.exec(o)!=null},e.getAllMatches=function(o,f){const l=[];let v=f.exec(o);for(;v;){const h=[];h.startIndex=f.lastIndex-v[0].length;const i=v.length;for(let c=0;c<i;c++)h.push(v[c]);l.push(h),v=f.exec(o)}return l},e.nameRegexp=r},31:(n,e,t)=>{const r=t(705),s={allowBooleanAttributes:!1,unpairedTags:[]};function o(d){return d===" "||d==="	"||d===`
`||d==="\r"}function f(d,b){const O=b;for(;b<d.length;b++)if(!(d[b]!="?"&&d[b]!=" ")){const R=d.substr(O,b-O);if(b>5&&R==="xml")return m("InvalidXml","XML declaration allowed only at the start of the document.",y(d,b));if(d[b]=="?"&&d[b+1]==">"){b++;break}}return b}function l(d,b){if(d.length>b+5&&d[b+1]==="-"&&d[b+2]==="-"){for(b+=3;b<d.length;b++)if(d[b]==="-"&&d[b+1]==="-"&&d[b+2]===">"){b+=2;break}}else if(d.length>b+8&&d[b+1]==="D"&&d[b+2]==="O"&&d[b+3]==="C"&&d[b+4]==="T"&&d[b+5]==="Y"&&d[b+6]==="P"&&d[b+7]==="E"){let O=1;for(b+=8;b<d.length;b++)if(d[b]==="<")O++;else if(d[b]===">"&&(O--,O===0))break}else if(d.length>b+9&&d[b+1]==="["&&d[b+2]==="C"&&d[b+3]==="D"&&d[b+4]==="A"&&d[b+5]==="T"&&d[b+6]==="A"&&d[b+7]==="["){for(b+=8;b<d.length;b++)if(d[b]==="]"&&d[b+1]==="]"&&d[b+2]===">"){b+=2;break}}return b}e.validate=function(d,b){b=Object.assign({},s,b);const O=[];let R=!1,_=!1;d[0]==="\uFEFF"&&(d=d.substr(1));for(let I=0;I<d.length;I++)if(d[I]==="<"&&d[I+1]==="?"){if(I+=2,I=f(d,I),I.err)return I}else{if(d[I]!=="<"){if(o(d[I]))continue;return m("InvalidChar","char '"+d[I]+"' is not expected.",y(d,I))}{let W=I;if(I++,d[I]==="!"){I=l(d,I);continue}{let Y=!1;d[I]==="/"&&(Y=!0,I++);let Z="";for(;I<d.length&&d[I]!==">"&&d[I]!==" "&&d[I]!=="	"&&d[I]!==`
`&&d[I]!=="\r";I++)Z+=d[I];if(Z=Z.trim(),Z[Z.length-1]==="/"&&(Z=Z.substring(0,Z.length-1),I--),k=Z,!r.isName(k)){let we;return we=Z.trim().length===0?"Invalid space after '<'.":"Tag '"+Z+"' is an invalid name.",m("InvalidTag",we,y(d,I))}const fe=i(d,I);if(fe===!1)return m("InvalidAttr","Attributes for '"+Z+"' have open quote.",y(d,I));let L=fe.value;if(I=fe.index,L[L.length-1]==="/"){const we=I-L.length;L=L.substring(0,L.length-1);const ye=a(L,b);if(ye!==!0)return m(ye.err.code,ye.err.msg,y(d,we+ye.err.line));R=!0}else if(Y){if(!fe.tagClosed)return m("InvalidTag","Closing tag '"+Z+"' doesn't have proper closing.",y(d,I));if(L.trim().length>0)return m("InvalidTag","Closing tag '"+Z+"' can't have attributes or invalid starting.",y(d,W));if(O.length===0)return m("InvalidTag","Closing tag '"+Z+"' has not been opened.",y(d,W));{const we=O.pop();if(Z!==we.tagName){let ye=y(d,we.tagStartPos);return m("InvalidTag","Expected closing tag '"+we.tagName+"' (opened in line "+ye.line+", col "+ye.col+") instead of closing tag '"+Z+"'.",y(d,W))}O.length==0&&(_=!0)}}else{const we=a(L,b);if(we!==!0)return m(we.err.code,we.err.msg,y(d,I-L.length+we.err.line));if(_===!0)return m("InvalidXml","Multiple possible root nodes found.",y(d,I));b.unpairedTags.indexOf(Z)!==-1||O.push({tagName:Z,tagStartPos:W}),R=!0}for(I++;I<d.length;I++)if(d[I]==="<"){if(d[I+1]==="!"){I++,I=l(d,I);continue}if(d[I+1]!=="?")break;if(I=f(d,++I),I.err)return I}else if(d[I]==="&"){const we=E(d,I);if(we==-1)return m("InvalidChar","char '&' is not expected.",y(d,I));I=we}else if(_===!0&&!o(d[I]))return m("InvalidXml","Extra text at the end",y(d,I));d[I]==="<"&&I--}}}var k;return R?O.length==1?m("InvalidTag","Unclosed tag '"+O[0].tagName+"'.",y(d,O[0].tagStartPos)):!(O.length>0)||m("InvalidXml","Invalid '"+JSON.stringify(O.map(I=>I.tagName),null,4).replace(/\r?\n/g,"")+"' found.",{line:1,col:1}):m("InvalidXml","Start tag expected.",1)};const v='"',h="'";function i(d,b){let O="",R="",_=!1;for(;b<d.length;b++){if(d[b]===v||d[b]===h)R===""?R=d[b]:R!==d[b]||(R="");else if(d[b]===">"&&R===""){_=!0;break}O+=d[b]}return R===""&&{value:O,index:b,tagClosed:_}}const c=new RegExp(`(\\s*)([^\\s=]+)(\\s*=)?(\\s*(['"])(([\\s\\S])*?)\\5)?`,"g");function a(d,b){const O=r.getAllMatches(d,c),R={};for(let _=0;_<O.length;_++){if(O[_][1].length===0)return m("InvalidAttr","Attribute '"+O[_][2]+"' has no space in starting.",C(O[_]));if(O[_][3]!==void 0&&O[_][4]===void 0)return m("InvalidAttr","Attribute '"+O[_][2]+"' is without value.",C(O[_]));if(O[_][3]===void 0&&!b.allowBooleanAttributes)return m("InvalidAttr","boolean attribute '"+O[_][2]+"' is not allowed.",C(O[_]));const k=O[_][2];if(!p(k))return m("InvalidAttr","Attribute '"+k+"' is an invalid name.",C(O[_]));if(R.hasOwnProperty(k))return m("InvalidAttr","Attribute '"+k+"' is repeated.",C(O[_]));R[k]=1}return!0}function E(d,b){if(d[++b]===";")return-1;if(d[b]==="#")return function(R,_){let k=/\d/;for(R[_]==="x"&&(_++,k=/[\da-fA-F]/);_<R.length;_++){if(R[_]===";")return _;if(!R[_].match(k))break}return-1}(d,++b);let O=0;for(;b<d.length;b++,O++)if(!(d[b].match(/\w/)&&O<20)){if(d[b]===";")break;return-1}return b}function m(d,b,O){return{err:{code:d,msg:b,line:O.line||O,col:O.col}}}function p(d){return r.isName(d)}function y(d,b){const O=d.substring(0,b).split(/\r?\n/);return{line:O.length,col:O[O.length-1].length+1}}function C(d){return d.startIndex+d[1].length}},221:(n,e,t)=>{const r=t(87),s=t(118),o={attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,cdataPropName:!1,format:!1,indentBy:"  ",suppressEmptyNode:!1,suppressUnpairedNode:!0,suppressBooleanAttributes:!0,tagValueProcessor:function(i,c){return c},attributeValueProcessor:function(i,c){return c},preserveOrder:!1,commentPropName:!1,unpairedTags:[],entities:[{regex:new RegExp("&","g"),val:"&amp;"},{regex:new RegExp(">","g"),val:"&gt;"},{regex:new RegExp("<","g"),val:"&lt;"},{regex:new RegExp("'","g"),val:"&apos;"},{regex:new RegExp('"',"g"),val:"&quot;"}],processEntities:!0,stopNodes:[],oneListGroup:!1};function f(i){this.options=Object.assign({},o,i),this.options.ignoreAttributes===!0||this.options.attributesGroupName?this.isAttribute=function(){return!1}:(this.ignoreAttributesFn=s(this.options.ignoreAttributes),this.attrPrefixLen=this.options.attributeNamePrefix.length,this.isAttribute=h),this.processTextOrObjNode=l,this.options.format?(this.indentate=v,this.tagEndChar=`>
`,this.newLine=`
`):(this.indentate=function(){return""},this.tagEndChar=">",this.newLine="")}function l(i,c,a,E){const m=this.j2x(i,a+1,E.concat(c));return i[this.options.textNodeName]!==void 0&&Object.keys(i).length===1?this.buildTextValNode(i[this.options.textNodeName],c,m.attrStr,a):this.buildObjectNode(m.val,c,m.attrStr,a)}function v(i){return this.options.indentBy.repeat(i)}function h(i){return!(!i.startsWith(this.options.attributeNamePrefix)||i===this.options.textNodeName)&&i.substr(this.attrPrefixLen)}f.prototype.build=function(i){return this.options.preserveOrder?r(i,this.options):(Array.isArray(i)&&this.options.arrayNodeName&&this.options.arrayNodeName.length>1&&(i={[this.options.arrayNodeName]:i}),this.j2x(i,0,[]).val)},f.prototype.j2x=function(i,c,a){let E="",m="";const p=a.join(".");for(let y in i)if(Object.prototype.hasOwnProperty.call(i,y))if(i[y]===void 0)this.isAttribute(y)&&(m+="");else if(i[y]===null)this.isAttribute(y)?m+="":y[0]==="?"?m+=this.indentate(c)+"<"+y+"?"+this.tagEndChar:m+=this.indentate(c)+"<"+y+"/"+this.tagEndChar;else if(i[y]instanceof Date)m+=this.buildTextValNode(i[y],y,"",c);else if(typeof i[y]!="object"){const C=this.isAttribute(y);if(C&&!this.ignoreAttributesFn(C,p))E+=this.buildAttrPairStr(C,""+i[y]);else if(!C)if(y===this.options.textNodeName){let d=this.options.tagValueProcessor(y,""+i[y]);m+=this.replaceEntitiesValue(d)}else m+=this.buildTextValNode(i[y],y,"",c)}else if(Array.isArray(i[y])){const C=i[y].length;let d="",b="";for(let O=0;O<C;O++){const R=i[y][O];if(R!==void 0)if(R===null)y[0]==="?"?m+=this.indentate(c)+"<"+y+"?"+this.tagEndChar:m+=this.indentate(c)+"<"+y+"/"+this.tagEndChar;else if(typeof R=="object")if(this.options.oneListGroup){const _=this.j2x(R,c+1,a.concat(y));d+=_.val,this.options.attributesGroupName&&R.hasOwnProperty(this.options.attributesGroupName)&&(b+=_.attrStr)}else d+=this.processTextOrObjNode(R,y,c,a);else if(this.options.oneListGroup){let _=this.options.tagValueProcessor(y,R);_=this.replaceEntitiesValue(_),d+=_}else d+=this.buildTextValNode(R,y,"",c)}this.options.oneListGroup&&(d=this.buildObjectNode(d,y,b,c)),m+=d}else if(this.options.attributesGroupName&&y===this.options.attributesGroupName){const C=Object.keys(i[y]),d=C.length;for(let b=0;b<d;b++)E+=this.buildAttrPairStr(C[b],""+i[y][C[b]])}else m+=this.processTextOrObjNode(i[y],y,c,a);return{attrStr:E,val:m}},f.prototype.buildAttrPairStr=function(i,c){return c=this.options.attributeValueProcessor(i,""+c),c=this.replaceEntitiesValue(c),this.options.suppressBooleanAttributes&&c==="true"?" "+i:" "+i+'="'+c+'"'},f.prototype.buildObjectNode=function(i,c,a,E){if(i==="")return c[0]==="?"?this.indentate(E)+"<"+c+a+"?"+this.tagEndChar:this.indentate(E)+"<"+c+a+this.closeTag(c)+this.tagEndChar;{let m="</"+c+this.tagEndChar,p="";return c[0]==="?"&&(p="?",m=""),!a&&a!==""||i.indexOf("<")!==-1?this.options.commentPropName!==!1&&c===this.options.commentPropName&&p.length===0?this.indentate(E)+`<!--${i}-->`+this.newLine:this.indentate(E)+"<"+c+a+p+this.tagEndChar+i+this.indentate(E)+m:this.indentate(E)+"<"+c+a+p+">"+i+m}},f.prototype.closeTag=function(i){let c="";return this.options.unpairedTags.indexOf(i)!==-1?this.options.suppressUnpairedNode||(c="/"):c=this.options.suppressEmptyNode?"/":`></${i}`,c},f.prototype.buildTextValNode=function(i,c,a,E){if(this.options.cdataPropName!==!1&&c===this.options.cdataPropName)return this.indentate(E)+`<![CDATA[${i}]]>`+this.newLine;if(this.options.commentPropName!==!1&&c===this.options.commentPropName)return this.indentate(E)+`<!--${i}-->`+this.newLine;if(c[0]==="?")return this.indentate(E)+"<"+c+a+"?"+this.tagEndChar;{let m=this.options.tagValueProcessor(c,i);return m=this.replaceEntitiesValue(m),m===""?this.indentate(E)+"<"+c+a+this.closeTag(c)+this.tagEndChar:this.indentate(E)+"<"+c+a+">"+m+"</"+c+this.tagEndChar}},f.prototype.replaceEntitiesValue=function(i){if(i&&i.length>0&&this.options.processEntities)for(let c=0;c<this.options.entities.length;c++){const a=this.options.entities[c];i=i.replace(a.regex,a.val)}return i},n.exports=f},87:n=>{function e(f,l,v,h){let i="",c=!1;for(let a=0;a<f.length;a++){const E=f[a],m=t(E);if(m===void 0)continue;let p="";if(p=v.length===0?m:`${v}.${m}`,m===l.textNodeName){let b=E[m];s(p,l)||(b=l.tagValueProcessor(m,b),b=o(b,l)),c&&(i+=h),i+=b,c=!1;continue}if(m===l.cdataPropName){c&&(i+=h),i+=`<![CDATA[${E[m][0][l.textNodeName]}]]>`,c=!1;continue}if(m===l.commentPropName){i+=h+`<!--${E[m][0][l.textNodeName]}-->`,c=!0;continue}if(m[0]==="?"){const b=r(E[":@"],l),O=m==="?xml"?"":h;let R=E[m][0][l.textNodeName];R=R.length!==0?" "+R:"",i+=O+`<${m}${R}${b}?>`,c=!0;continue}let y=h;y!==""&&(y+=l.indentBy);const C=h+`<${m}${r(E[":@"],l)}`,d=e(E[m],l,p,y);l.unpairedTags.indexOf(m)!==-1?l.suppressUnpairedNode?i+=C+">":i+=C+"/>":d&&d.length!==0||!l.suppressEmptyNode?d&&d.endsWith(">")?i+=C+`>${d}${h}</${m}>`:(i+=C+">",d&&h!==""&&(d.includes("/>")||d.includes("</"))?i+=h+l.indentBy+d+h:i+=d,i+=`</${m}>`):i+=C+"/>",c=!0}return i}function t(f){const l=Object.keys(f);for(let v=0;v<l.length;v++){const h=l[v];if(f.hasOwnProperty(h)&&h!==":@")return h}}function r(f,l){let v="";if(f&&!l.ignoreAttributes)for(let h in f){if(!f.hasOwnProperty(h))continue;let i=l.attributeValueProcessor(h,f[h]);i=o(i,l),i===!0&&l.suppressBooleanAttributes?v+=` ${h.substr(l.attributeNamePrefix.length)}`:v+=` ${h.substr(l.attributeNamePrefix.length)}="${i}"`}return v}function s(f,l){let v=(f=f.substr(0,f.length-l.textNodeName.length-1)).substr(f.lastIndexOf(".")+1);for(let h in l.stopNodes)if(l.stopNodes[h]===f||l.stopNodes[h]==="*."+v)return!0;return!1}function o(f,l){if(f&&f.length>0&&l.processEntities)for(let v=0;v<l.entities.length;v++){const h=l.entities[v];f=f.replace(h.regex,h.val)}return f}n.exports=function(f,l){let v="";return l.format&&l.indentBy.length>0&&(v=`
`),e(f,l,"",v)}},193:(n,e,t)=>{const r=t(705);function s(c,a){let E="";for(;a<c.length&&c[a]!=="'"&&c[a]!=='"';a++)E+=c[a];if(E=E.trim(),E.indexOf(" ")!==-1)throw new Error("External entites are not supported");const m=c[a++];let p="";for(;a<c.length&&c[a]!==m;a++)p+=c[a];return[E,p,a]}function o(c,a){return c[a+1]==="!"&&c[a+2]==="-"&&c[a+3]==="-"}function f(c,a){return c[a+1]==="!"&&c[a+2]==="E"&&c[a+3]==="N"&&c[a+4]==="T"&&c[a+5]==="I"&&c[a+6]==="T"&&c[a+7]==="Y"}function l(c,a){return c[a+1]==="!"&&c[a+2]==="E"&&c[a+3]==="L"&&c[a+4]==="E"&&c[a+5]==="M"&&c[a+6]==="E"&&c[a+7]==="N"&&c[a+8]==="T"}function v(c,a){return c[a+1]==="!"&&c[a+2]==="A"&&c[a+3]==="T"&&c[a+4]==="T"&&c[a+5]==="L"&&c[a+6]==="I"&&c[a+7]==="S"&&c[a+8]==="T"}function h(c,a){return c[a+1]==="!"&&c[a+2]==="N"&&c[a+3]==="O"&&c[a+4]==="T"&&c[a+5]==="A"&&c[a+6]==="T"&&c[a+7]==="I"&&c[a+8]==="O"&&c[a+9]==="N"}function i(c){if(r.isName(c))return c;throw new Error(`Invalid entity name ${c}`)}n.exports=function(c,a){const E={};if(c[a+3]!=="O"||c[a+4]!=="C"||c[a+5]!=="T"||c[a+6]!=="Y"||c[a+7]!=="P"||c[a+8]!=="E")throw new Error("Invalid Tag instead of DOCTYPE");{a+=9;let m=1,p=!1,y=!1,C="";for(;a<c.length;a++)if(c[a]!=="<"||y)if(c[a]===">"){if(y?c[a-1]==="-"&&c[a-2]==="-"&&(y=!1,m--):m--,m===0)break}else c[a]==="["?p=!0:C+=c[a];else{if(p&&f(c,a)){let d,b;a+=7,[d,b,a]=s(c,a+1),b.indexOf("&")===-1&&(E[i(d)]={regx:RegExp(`&${d};`,"g"),val:b})}else if(p&&l(c,a))a+=8;else if(p&&v(c,a))a+=8;else if(p&&h(c,a))a+=9;else{if(!o)throw new Error("Invalid DOCTYPE");y=!0}m++,C=""}if(m!==0)throw new Error("Unclosed DOCTYPE")}return{entities:E,i:a}}},63:(n,e)=>{const t={preserveOrder:!1,attributeNamePrefix:"@_",attributesGroupName:!1,textNodeName:"#text",ignoreAttributes:!0,removeNSPrefix:!1,allowBooleanAttributes:!1,parseTagValue:!0,parseAttributeValue:!1,trimValues:!0,cdataPropName:!1,numberParseOptions:{hex:!0,leadingZeros:!0,eNotation:!0},tagValueProcessor:function(r,s){return s},attributeValueProcessor:function(r,s){return s},stopNodes:[],alwaysCreateTextNode:!1,isArray:()=>!1,commentPropName:!1,unpairedTags:[],processEntities:!0,htmlEntities:!1,ignoreDeclaration:!1,ignorePiTags:!1,transformTagName:!1,transformAttributeName:!1,updateTag:function(r,s,o){return r}};e.buildOptions=function(r){return Object.assign({},t,r)},e.defaultOptions=t},299:(n,e,t)=>{const r=t(705),s=t(365),o=t(193),f=t(494),l=t(118);function v(_){const k=Object.keys(_);for(let I=0;I<k.length;I++){const W=k[I];this.lastEntities[W]={regex:new RegExp("&"+W+";","g"),val:_[W]}}}function h(_,k,I,W,Y,Z,fe){if(_!==void 0&&(this.options.trimValues&&!W&&(_=_.trim()),_.length>0)){fe||(_=this.replaceEntitiesValue(_));const L=this.options.tagValueProcessor(k,_,I,Y,Z);return L==null?_:typeof L!=typeof _||L!==_?L:this.options.trimValues||_.trim()===_?R(_,this.options.parseTagValue,this.options.numberParseOptions):_}}function i(_){if(this.options.removeNSPrefix){const k=_.split(":"),I=_.charAt(0)==="/"?"/":"";if(k[0]==="xmlns")return"";k.length===2&&(_=I+k[1])}return _}const c=new RegExp(`([^\\s=]+)\\s*(=\\s*(['"])([\\s\\S]*?)\\3)?`,"gm");function a(_,k,I){if(this.options.ignoreAttributes!==!0&&typeof _=="string"){const W=r.getAllMatches(_,c),Y=W.length,Z={};for(let fe=0;fe<Y;fe++){const L=this.resolveNameSpace(W[fe][1]);if(this.ignoreAttributesFn(L,k))continue;let we=W[fe][4],ye=this.options.attributeNamePrefix+L;if(L.length)if(this.options.transformAttributeName&&(ye=this.options.transformAttributeName(ye)),ye==="__proto__"&&(ye="#__proto__"),we!==void 0){this.options.trimValues&&(we=we.trim()),we=this.replaceEntitiesValue(we);const je=this.options.attributeValueProcessor(L,we,k);Z[ye]=je==null?we:typeof je!=typeof we||je!==we?je:R(we,this.options.parseAttributeValue,this.options.numberParseOptions)}else this.options.allowBooleanAttributes&&(Z[ye]=!0)}if(!Object.keys(Z).length)return;if(this.options.attributesGroupName){const fe={};return fe[this.options.attributesGroupName]=Z,fe}return Z}}const E=function(_){_=_.replace(/\r\n?/g,`
`);const k=new s("!xml");let I=k,W="",Y="";for(let Z=0;Z<_.length;Z++)if(_[Z]==="<")if(_[Z+1]==="/"){const fe=d(_,">",Z,"Closing Tag is not closed.");let L=_.substring(Z+2,fe).trim();if(this.options.removeNSPrefix){const je=L.indexOf(":");je!==-1&&(L=L.substr(je+1))}this.options.transformTagName&&(L=this.options.transformTagName(L)),I&&(W=this.saveTextToParentTag(W,I,Y));const we=Y.substring(Y.lastIndexOf(".")+1);if(L&&this.options.unpairedTags.indexOf(L)!==-1)throw new Error(`Unpaired tag can not be used as closing tag: </${L}>`);let ye=0;we&&this.options.unpairedTags.indexOf(we)!==-1?(ye=Y.lastIndexOf(".",Y.lastIndexOf(".")-1),this.tagsNodeStack.pop()):ye=Y.lastIndexOf("."),Y=Y.substring(0,ye),I=this.tagsNodeStack.pop(),W="",Z=fe}else if(_[Z+1]==="?"){let fe=b(_,Z,!1,"?>");if(!fe)throw new Error("Pi Tag is not closed.");if(W=this.saveTextToParentTag(W,I,Y),!(this.options.ignoreDeclaration&&fe.tagName==="?xml"||this.options.ignorePiTags)){const L=new s(fe.tagName);L.add(this.options.textNodeName,""),fe.tagName!==fe.tagExp&&fe.attrExpPresent&&(L[":@"]=this.buildAttributesMap(fe.tagExp,Y,fe.tagName)),this.addChild(I,L,Y)}Z=fe.closeIndex+1}else if(_.substr(Z+1,3)==="!--"){const fe=d(_,"-->",Z+4,"Comment is not closed.");if(this.options.commentPropName){const L=_.substring(Z+4,fe-2);W=this.saveTextToParentTag(W,I,Y),I.add(this.options.commentPropName,[{[this.options.textNodeName]:L}])}Z=fe}else if(_.substr(Z+1,2)==="!D"){const fe=o(_,Z);this.docTypeEntities=fe.entities,Z=fe.i}else if(_.substr(Z+1,2)==="!["){const fe=d(_,"]]>",Z,"CDATA is not closed.")-2,L=_.substring(Z+9,fe);W=this.saveTextToParentTag(W,I,Y);let we=this.parseTextData(L,I.tagname,Y,!0,!1,!0,!0);we==null&&(we=""),this.options.cdataPropName?I.add(this.options.cdataPropName,[{[this.options.textNodeName]:L}]):I.add(this.options.textNodeName,we),Z=fe+2}else{let fe=b(_,Z,this.options.removeNSPrefix),L=fe.tagName;const we=fe.rawTagName;let ye=fe.tagExp,je=fe.attrExpPresent,ft=fe.closeIndex;this.options.transformTagName&&(L=this.options.transformTagName(L)),I&&W&&I.tagname!=="!xml"&&(W=this.saveTextToParentTag(W,I,Y,!1));const rt=I;if(rt&&this.options.unpairedTags.indexOf(rt.tagname)!==-1&&(I=this.tagsNodeStack.pop(),Y=Y.substring(0,Y.lastIndexOf("."))),L!==k.tagname&&(Y+=Y?"."+L:L),this.isItStopNode(this.options.stopNodes,Y,L)){let We="";if(ye.length>0&&ye.lastIndexOf("/")===ye.length-1)L[L.length-1]==="/"?(L=L.substr(0,L.length-1),Y=Y.substr(0,Y.length-1),ye=L):ye=ye.substr(0,ye.length-1),Z=fe.closeIndex;else if(this.options.unpairedTags.indexOf(L)!==-1)Z=fe.closeIndex;else{const Je=this.readStopNodeData(_,we,ft+1);if(!Je)throw new Error(`Unexpected end of ${we}`);Z=Je.i,We=Je.tagContent}const At=new s(L);L!==ye&&je&&(At[":@"]=this.buildAttributesMap(ye,Y,L)),We&&(We=this.parseTextData(We,L,Y,!0,je,!0,!0)),Y=Y.substr(0,Y.lastIndexOf(".")),At.add(this.options.textNodeName,We),this.addChild(I,At,Y)}else{if(ye.length>0&&ye.lastIndexOf("/")===ye.length-1){L[L.length-1]==="/"?(L=L.substr(0,L.length-1),Y=Y.substr(0,Y.length-1),ye=L):ye=ye.substr(0,ye.length-1),this.options.transformTagName&&(L=this.options.transformTagName(L));const We=new s(L);L!==ye&&je&&(We[":@"]=this.buildAttributesMap(ye,Y,L)),this.addChild(I,We,Y),Y=Y.substr(0,Y.lastIndexOf("."))}else{const We=new s(L);this.tagsNodeStack.push(I),L!==ye&&je&&(We[":@"]=this.buildAttributesMap(ye,Y,L)),this.addChild(I,We,Y),I=We}W="",Z=ft}}else W+=_[Z];return k.child};function m(_,k,I){const W=this.options.updateTag(k.tagname,I,k[":@"]);W===!1||(typeof W=="string"&&(k.tagname=W),_.addChild(k))}const p=function(_){if(this.options.processEntities){for(let k in this.docTypeEntities){const I=this.docTypeEntities[k];_=_.replace(I.regx,I.val)}for(let k in this.lastEntities){const I=this.lastEntities[k];_=_.replace(I.regex,I.val)}if(this.options.htmlEntities)for(let k in this.htmlEntities){const I=this.htmlEntities[k];_=_.replace(I.regex,I.val)}_=_.replace(this.ampEntity.regex,this.ampEntity.val)}return _};function y(_,k,I,W){return _&&(W===void 0&&(W=Object.keys(k.child).length===0),(_=this.parseTextData(_,k.tagname,I,!1,!!k[":@"]&&Object.keys(k[":@"]).length!==0,W))!==void 0&&_!==""&&k.add(this.options.textNodeName,_),_=""),_}function C(_,k,I){const W="*."+I;for(const Y in _){const Z=_[Y];if(W===Z||k===Z)return!0}return!1}function d(_,k,I,W){const Y=_.indexOf(k,I);if(Y===-1)throw new Error(W);return Y+k.length-1}function b(_,k,I){const W=function(je,ft){let rt,We=arguments.length>2&&arguments[2]!==void 0?arguments[2]:">",At="";for(let Je=ft;Je<je.length;Je++){let ht=je[Je];if(rt)ht===rt&&(rt="");else if(ht==='"'||ht==="'")rt=ht;else if(ht===We[0]){if(!We[1])return{data:At,index:Je};if(je[Je+1]===We[1])return{data:At,index:Je}}else ht==="	"&&(ht=" ");At+=ht}}(_,k+1,arguments.length>3&&arguments[3]!==void 0?arguments[3]:">");if(!W)return;let Y=W.data;const Z=W.index,fe=Y.search(/\s/);let L=Y,we=!0;fe!==-1&&(L=Y.substring(0,fe),Y=Y.substring(fe+1).trimStart());const ye=L;if(I){const je=L.indexOf(":");je!==-1&&(L=L.substr(je+1),we=L!==W.data.substr(je+1))}return{tagName:L,tagExp:Y,closeIndex:Z,attrExpPresent:we,rawTagName:ye}}function O(_,k,I){const W=I;let Y=1;for(;I<_.length;I++)if(_[I]==="<")if(_[I+1]==="/"){const Z=d(_,">",I,`${k} is not closed`);if(_.substring(I+2,Z).trim()===k&&(Y--,Y===0))return{tagContent:_.substring(W,I),i:Z};I=Z}else if(_[I+1]==="?")I=d(_,"?>",I+1,"StopNode is not closed.");else if(_.substr(I+1,3)==="!--")I=d(_,"-->",I+3,"StopNode is not closed.");else if(_.substr(I+1,2)==="![")I=d(_,"]]>",I,"StopNode is not closed.")-2;else{const Z=b(_,I,">");Z&&((Z&&Z.tagName)===k&&Z.tagExp[Z.tagExp.length-1]!=="/"&&Y++,I=Z.closeIndex)}}function R(_,k,I){if(k&&typeof _=="string"){const W=_.trim();return W==="true"||W!=="false"&&f(_,I)}return r.isExist(_)?_:""}n.exports=class{constructor(_){this.options=_,this.currentNode=null,this.tagsNodeStack=[],this.docTypeEntities={},this.lastEntities={apos:{regex:/&(apos|#39|#x27);/g,val:"'"},gt:{regex:/&(gt|#62|#x3E);/g,val:">"},lt:{regex:/&(lt|#60|#x3C);/g,val:"<"},quot:{regex:/&(quot|#34|#x22);/g,val:'"'}},this.ampEntity={regex:/&(amp|#38|#x26);/g,val:"&"},this.htmlEntities={space:{regex:/&(nbsp|#160);/g,val:" "},cent:{regex:/&(cent|#162);/g,val:"\xA2"},pound:{regex:/&(pound|#163);/g,val:"\xA3"},yen:{regex:/&(yen|#165);/g,val:"\xA5"},euro:{regex:/&(euro|#8364);/g,val:"\u20AC"},copyright:{regex:/&(copy|#169);/g,val:"\xA9"},reg:{regex:/&(reg|#174);/g,val:"\xAE"},inr:{regex:/&(inr|#8377);/g,val:"\u20B9"},num_dec:{regex:/&#([0-9]{1,7});/g,val:(k,I)=>String.fromCharCode(Number.parseInt(I,10))},num_hex:{regex:/&#x([0-9a-fA-F]{1,6});/g,val:(k,I)=>String.fromCharCode(Number.parseInt(I,16))}},this.addExternalEntities=v,this.parseXml=E,this.parseTextData=h,this.resolveNameSpace=i,this.buildAttributesMap=a,this.isItStopNode=C,this.replaceEntitiesValue=p,this.readStopNodeData=O,this.saveTextToParentTag=y,this.addChild=m,this.ignoreAttributesFn=l(this.options.ignoreAttributes)}}},338:(n,e,t)=>{const{buildOptions:r}=t(63),s=t(299),{prettify:o}=t(728),f=t(31);n.exports=class{constructor(l){this.externalEntities={},this.options=r(l)}parse(l,v){if(typeof l!="string"){if(!l.toString)throw new Error("XML data is accepted in String or Bytes[] form.");l=l.toString()}if(v){v===!0&&(v={});const c=f.validate(l,v);if(c!==!0)throw Error(`${c.err.msg}:${c.err.line}:${c.err.col}`)}const h=new s(this.options);h.addExternalEntities(this.externalEntities);const i=h.parseXml(l);return this.options.preserveOrder||i===void 0?i:o(i,this.options)}addEntity(l,v){if(v.indexOf("&")!==-1)throw new Error("Entity value can't have '&'");if(l.indexOf("&")!==-1||l.indexOf(";")!==-1)throw new Error("An entity must be set without '&' and ';'. Eg. use '#xD' for '&#xD;'");if(v==="&")throw new Error("An entity with value '&' is not permitted");this.externalEntities[l]=v}}},728:(n,e)=>{function t(f,l,v){let h;const i={};for(let c=0;c<f.length;c++){const a=f[c],E=r(a);let m="";if(m=v===void 0?E:v+"."+E,E===l.textNodeName)h===void 0?h=a[E]:h+=""+a[E];else{if(E===void 0)continue;if(a[E]){let p=t(a[E],l,m);const y=o(p,l);a[":@"]?s(p,a[":@"],m,l):Object.keys(p).length!==1||p[l.textNodeName]===void 0||l.alwaysCreateTextNode?Object.keys(p).length===0&&(l.alwaysCreateTextNode?p[l.textNodeName]="":p=""):p=p[l.textNodeName],i[E]!==void 0&&i.hasOwnProperty(E)?(Array.isArray(i[E])||(i[E]=[i[E]]),i[E].push(p)):l.isArray(E,m,y)?i[E]=[p]:i[E]=p}}}return typeof h=="string"?h.length>0&&(i[l.textNodeName]=h):h!==void 0&&(i[l.textNodeName]=h),i}function r(f){const l=Object.keys(f);for(let v=0;v<l.length;v++){const h=l[v];if(h!==":@")return h}}function s(f,l,v,h){if(l){const i=Object.keys(l),c=i.length;for(let a=0;a<c;a++){const E=i[a];h.isArray(E,v+"."+E,!0,!0)?f[E]=[l[E]]:f[E]=l[E]}}}function o(f,l){const{textNodeName:v}=l,h=Object.keys(f).length;return h===0||!(h!==1||!f[v]&&typeof f[v]!="boolean"&&f[v]!==0)}e.prettify=function(f,l){return t(f,l)}},365:n=>{n.exports=class{constructor(e){this.tagname=e,this.child=[],this[":@"]={}}add(e,t){e==="__proto__"&&(e="#__proto__"),this.child.push({[e]:t})}addChild(e){e.tagname==="__proto__"&&(e.tagname="#__proto__"),e[":@"]&&Object.keys(e[":@"]).length>0?this.child.push({[e.tagname]:e.child,":@":e[":@"]}):this.child.push({[e.tagname]:e.child})}}},135:n=>{function e(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}n.exports=function(t){return t!=null&&(e(t)||function(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&e(r.slice(0,0))}(t)||!!t._isBuffer)}},542:(n,e,t)=>{(function(){var r=t(298),s=t(526).utf8,o=t(135),f=t(526).bin,l=function(v,h){v.constructor==String?v=h&&h.encoding==="binary"?f.stringToBytes(v):s.stringToBytes(v):o(v)?v=Array.prototype.slice.call(v,0):Array.isArray(v)||v.constructor===Uint8Array||(v=v.toString());for(var i=r.bytesToWords(v),c=8*v.length,a=1732584193,E=-271733879,m=-1732584194,p=271733878,y=0;y<i.length;y++)i[y]=16711935&(i[y]<<8|i[y]>>>24)|4278255360&(i[y]<<24|i[y]>>>8);i[c>>>5]|=128<<c%32,i[14+(c+64>>>9<<4)]=c;var C=l._ff,d=l._gg,b=l._hh,O=l._ii;for(y=0;y<i.length;y+=16){var R=a,_=E,k=m,I=p;a=C(a,E,m,p,i[y+0],7,-680876936),p=C(p,a,E,m,i[y+1],12,-389564586),m=C(m,p,a,E,i[y+2],17,606105819),E=C(E,m,p,a,i[y+3],22,-1044525330),a=C(a,E,m,p,i[y+4],7,-176418897),p=C(p,a,E,m,i[y+5],12,1200080426),m=C(m,p,a,E,i[y+6],17,-1473231341),E=C(E,m,p,a,i[y+7],22,-45705983),a=C(a,E,m,p,i[y+8],7,1770035416),p=C(p,a,E,m,i[y+9],12,-1958414417),m=C(m,p,a,E,i[y+10],17,-42063),E=C(E,m,p,a,i[y+11],22,-1990404162),a=C(a,E,m,p,i[y+12],7,1804603682),p=C(p,a,E,m,i[y+13],12,-40341101),m=C(m,p,a,E,i[y+14],17,-1502002290),a=d(a,E=C(E,m,p,a,i[y+15],22,1236535329),m,p,i[y+1],5,-165796510),p=d(p,a,E,m,i[y+6],9,-1069501632),m=d(m,p,a,E,i[y+11],14,643717713),E=d(E,m,p,a,i[y+0],20,-373897302),a=d(a,E,m,p,i[y+5],5,-701558691),p=d(p,a,E,m,i[y+10],9,38016083),m=d(m,p,a,E,i[y+15],14,-660478335),E=d(E,m,p,a,i[y+4],20,-405537848),a=d(a,E,m,p,i[y+9],5,568446438),p=d(p,a,E,m,i[y+14],9,-1019803690),m=d(m,p,a,E,i[y+3],14,-187363961),E=d(E,m,p,a,i[y+8],20,1163531501),a=d(a,E,m,p,i[y+13],5,-1444681467),p=d(p,a,E,m,i[y+2],9,-51403784),m=d(m,p,a,E,i[y+7],14,1735328473),a=b(a,E=d(E,m,p,a,i[y+12],20,-1926607734),m,p,i[y+5],4,-378558),p=b(p,a,E,m,i[y+8],11,-2022574463),m=b(m,p,a,E,i[y+11],16,1839030562),E=b(E,m,p,a,i[y+14],23,-35309556),a=b(a,E,m,p,i[y+1],4,-1530992060),p=b(p,a,E,m,i[y+4],11,1272893353),m=b(m,p,a,E,i[y+7],16,-155497632),E=b(E,m,p,a,i[y+10],23,-1094730640),a=b(a,E,m,p,i[y+13],4,681279174),p=b(p,a,E,m,i[y+0],11,-358537222),m=b(m,p,a,E,i[y+3],16,-722521979),E=b(E,m,p,a,i[y+6],23,76029189),a=b(a,E,m,p,i[y+9],4,-640364487),p=b(p,a,E,m,i[y+12],11,-421815835),m=b(m,p,a,E,i[y+15],16,530742520),a=O(a,E=b(E,m,p,a,i[y+2],23,-995338651),m,p,i[y+0],6,-198630844),p=O(p,a,E,m,i[y+7],10,1126891415),m=O(m,p,a,E,i[y+14],15,-1416354905),E=O(E,m,p,a,i[y+5],21,-57434055),a=O(a,E,m,p,i[y+12],6,1700485571),p=O(p,a,E,m,i[y+3],10,-1894986606),m=O(m,p,a,E,i[y+10],15,-1051523),E=O(E,m,p,a,i[y+1],21,-2054922799),a=O(a,E,m,p,i[y+8],6,1873313359),p=O(p,a,E,m,i[y+15],10,-30611744),m=O(m,p,a,E,i[y+6],15,-1560198380),E=O(E,m,p,a,i[y+13],21,1309151649),a=O(a,E,m,p,i[y+4],6,-145523070),p=O(p,a,E,m,i[y+11],10,-1120210379),m=O(m,p,a,E,i[y+2],15,718787259),E=O(E,m,p,a,i[y+9],21,-343485551),a=a+R>>>0,E=E+_>>>0,m=m+k>>>0,p=p+I>>>0}return r.endian([a,E,m,p])};l._ff=function(v,h,i,c,a,E,m){var p=v+(h&i|~h&c)+(a>>>0)+m;return(p<<E|p>>>32-E)+h},l._gg=function(v,h,i,c,a,E,m){var p=v+(h&c|i&~c)+(a>>>0)+m;return(p<<E|p>>>32-E)+h},l._hh=function(v,h,i,c,a,E,m){var p=v+(h^i^c)+(a>>>0)+m;return(p<<E|p>>>32-E)+h},l._ii=function(v,h,i,c,a,E,m){var p=v+(i^(h|~c))+(a>>>0)+m;return(p<<E|p>>>32-E)+h},l._blocksize=16,l._digestsize=16,n.exports=function(v,h){if(v==null)throw new Error("Illegal argument "+v);var i=r.wordsToBytes(l(v,h));return h&&h.asBytes?i:h&&h.asString?f.bytesToString(i):r.bytesToHex(i)}})()},285:(n,e,t)=>{var r=t(2);n.exports=function(C){return C?(C.substr(0,2)==="{}"&&(C="\\{\\}"+C.substr(2)),y(function(d){return d.split("\\\\").join(s).split("\\{").join(o).split("\\}").join(f).split("\\,").join(l).split("\\.").join(v)}(C),!0).map(i)):[]};var s="\0SLASH"+Math.random()+"\0",o="\0OPEN"+Math.random()+"\0",f="\0CLOSE"+Math.random()+"\0",l="\0COMMA"+Math.random()+"\0",v="\0PERIOD"+Math.random()+"\0";function h(C){return parseInt(C,10)==C?parseInt(C,10):C.charCodeAt(0)}function i(C){return C.split(s).join("\\").split(o).join("{").split(f).join("}").split(l).join(",").split(v).join(".")}function c(C){if(!C)return[""];var d=[],b=r("{","}",C);if(!b)return C.split(",");var O=b.pre,R=b.body,_=b.post,k=O.split(",");k[k.length-1]+="{"+R+"}";var I=c(_);return _.length&&(k[k.length-1]+=I.shift(),k.push.apply(k,I)),d.push.apply(d,k),d}function a(C){return"{"+C+"}"}function E(C){return/^-?0\d/.test(C)}function m(C,d){return C<=d}function p(C,d){return C>=d}function y(C,d){var b=[],O=r("{","}",C);if(!O)return[C];var R=O.pre,_=O.post.length?y(O.post,!1):[""];if(/\$$/.test(O.pre))for(var k=0;k<_.length;k++){var I=R+"{"+O.body+"}"+_[k];b.push(I)}else{var W,Y,Z=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(O.body),fe=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(O.body),L=Z||fe,we=O.body.indexOf(",")>=0;if(!L&&!we)return O.post.match(/,.*\}/)?y(C=O.pre+"{"+O.body+f+O.post):[C];if(L)W=O.body.split(/\.\./);else if((W=c(O.body)).length===1&&(W=y(W[0],!1).map(a)).length===1)return _.map(function(_r){return O.pre+W[0]+_r});if(L){var ye=h(W[0]),je=h(W[1]),ft=Math.max(W[0].length,W[1].length),rt=W.length==3?Math.abs(h(W[2])):1,We=m;je<ye&&(rt*=-1,We=p);var At=W.some(E);Y=[];for(var Je=ye;We(Je,je);Je+=rt){var ht;if(fe)(ht=String.fromCharCode(Je))==="\\"&&(ht="");else if(ht=String(Je),At){var or=ft-ht.length;if(or>0){var ar=new Array(or+1).join("0");ht=Je<0?"-"+ar+ht.slice(1):ar+ht}}Y.push(ht)}}else{Y=[];for(var Kt=0;Kt<W.length;Kt++)Y.push.apply(Y,y(W[Kt],!1))}for(Kt=0;Kt<Y.length;Kt++)for(k=0;k<_.length;k++)I=R+Y[Kt]+_[k],(!d||L||I)&&b.push(I)}return b}},829:n=>{function e(h){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},e(h)}function t(h){var i=typeof Map=="function"?new Map:void 0;return t=function(c){if(c===null||(a=c,Function.toString.call(a).indexOf("[native code]")===-1))return c;var a;if(typeof c!="function")throw new TypeError("Super expression must either be null or a function");if(i!==void 0){if(i.has(c))return i.get(c);i.set(c,E)}function E(){return r(c,arguments,o(this).constructor)}return E.prototype=Object.create(c.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),s(E,c)},t(h)}function r(h,i,c){return r=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}()?Reflect.construct:function(a,E,m){var p=[null];p.push.apply(p,E);var y=new(Function.bind.apply(a,p));return m&&s(y,m.prototype),y},r.apply(null,arguments)}function s(h,i){return s=Object.setPrototypeOf||function(c,a){return c.__proto__=a,c},s(h,i)}function o(h){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},o(h)}var f=function(h){function i(c){var a;return function(E,m){if(!(E instanceof m))throw new TypeError("Cannot call a class as a function")}(this,i),(a=function(E,m){return!m||e(m)!=="object"&&typeof m!="function"?function(p){if(p===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p}(E):m}(this,o(i).call(this,c))).name="ObjectPrototypeMutationError",a}return function(c,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),a&&s(c,a)}(i,h),i}(t(Error));function l(h,i){for(var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},a=i.split("."),E=a.length,m=function(C){var d=a[C];if(!h)return{v:void 0};if(d==="+"){if(Array.isArray(h))return{v:h.map(function(O,R){var _=a.slice(C+1);return _.length>0?l(O,_.join("."),c):c(h,R,a,C)})};var b=a.slice(0,C).join(".");throw new Error("Object at wildcard (".concat(b,") is not an array"))}h=c(h,d,a,C)},p=0;p<E;p++){var y=m(p);if(e(y)==="object")return y.v}return h}function v(h,i){return h.length===i+1}n.exports={set:function(h,i,c){if(e(h)!="object"||h===null||i===void 0)return h;if(typeof i=="number")return h[i]=c,h[i];try{return l(h,i,function(a,E,m,p){if(a===Reflect.getPrototypeOf({}))throw new f("Attempting to mutate Object.prototype");if(!a[E]){var y=Number.isInteger(Number(m[p+1])),C=m[p+1]==="+";a[E]=y||C?[]:{}}return v(m,p)&&(a[E]=c),a[E]})}catch(a){if(a instanceof f)throw a;return h}},get:function(h,i){if(e(h)!="object"||h===null||i===void 0)return h;if(typeof i=="number")return h[i];try{return l(h,i,function(c,a){return c[a]})}catch{return h}},has:function(h,i){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e(h)!="object"||h===null||i===void 0)return!1;if(typeof i=="number")return i in h;try{var a=!1;return l(h,i,function(E,m,p,y){if(!v(p,y))return E&&E[m];a=c.own?E.hasOwnProperty(m):m in E}),a}catch{return!1}},hasOwn:function(h,i,c){return this.has(h,i,c||{own:!0})},isIn:function(h,i,c){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(e(h)!="object"||h===null||i===void 0)return!1;try{var E=!1,m=!1;return l(h,i,function(p,y,C,d){return E=E||p===c||!!p&&p[y]===c,m=v(C,d)&&e(p)==="object"&&y in p,p&&p[y]}),a.validPath?E&&m:E}catch{return!1}},ObjectPrototypeMutationError:f}},47:(n,e,t)=>{var r=t(410),s=function(h){return typeof h=="string"};function o(h,i){for(var c=[],a=0;a<h.length;a++){var E=h[a];E&&E!=="."&&(E===".."?c.length&&c[c.length-1]!==".."?c.pop():i&&c.push(".."):c.push(E))}return c}var f=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,l={};function v(h){return f.exec(h).slice(1)}l.resolve=function(){for(var h="",i=!1,c=arguments.length-1;c>=-1&&!i;c--){var a=c>=0?arguments[c]:M.cwd();if(!s(a))throw new TypeError("Arguments to path.resolve must be strings");a&&(h=a+"/"+h,i=a.charAt(0)==="/")}return(i?"/":"")+(h=o(h.split("/"),!i).join("/"))||"."},l.normalize=function(h){var i=l.isAbsolute(h),c=h.substr(-1)==="/";return(h=o(h.split("/"),!i).join("/"))||i||(h="."),h&&c&&(h+="/"),(i?"/":"")+h},l.isAbsolute=function(h){return h.charAt(0)==="/"},l.join=function(){for(var h="",i=0;i<arguments.length;i++){var c=arguments[i];if(!s(c))throw new TypeError("Arguments to path.join must be strings");c&&(h+=h?"/"+c:c)}return l.normalize(h)},l.relative=function(h,i){function c(d){for(var b=0;b<d.length&&d[b]==="";b++);for(var O=d.length-1;O>=0&&d[O]==="";O--);return b>O?[]:d.slice(b,O+1)}h=l.resolve(h).substr(1),i=l.resolve(i).substr(1);for(var a=c(h.split("/")),E=c(i.split("/")),m=Math.min(a.length,E.length),p=m,y=0;y<m;y++)if(a[y]!==E[y]){p=y;break}var C=[];for(y=p;y<a.length;y++)C.push("..");return(C=C.concat(E.slice(p))).join("/")},l._makeLong=function(h){return h},l.dirname=function(h){var i=v(h),c=i[0],a=i[1];return c||a?(a&&(a=a.substr(0,a.length-1)),c+a):"."},l.basename=function(h,i){var c=v(h)[2];return i&&c.substr(-1*i.length)===i&&(c=c.substr(0,c.length-i.length)),c},l.extname=function(h){return v(h)[3]},l.format=function(h){if(!r.isObject(h))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof h);var i=h.root||"";if(!s(i))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof h.root);return(h.dir?h.dir+l.sep:"")+(h.base||"")},l.parse=function(h){if(!s(h))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof h);var i=v(h);if(!i||i.length!==4)throw new TypeError("Invalid path '"+h+"'");return i[1]=i[1]||"",i[2]=i[2]||"",i[3]=i[3]||"",{root:i[0],dir:i[0]+i[1].slice(0,i[1].length-1),base:i[2],ext:i[3],name:i[2].slice(0,i[2].length-i[3].length)}},l.sep="/",l.delimiter=":",n.exports=l},647:(n,e)=>{var t=Object.prototype.hasOwnProperty;function r(o){try{return decodeURIComponent(o.replace(/\+/g," "))}catch{return null}}function s(o){try{return encodeURIComponent(o)}catch{return null}}e.stringify=function(o,f){f=f||"";var l,v,h=[];for(v in typeof f!="string"&&(f="?"),o)if(t.call(o,v)){if((l=o[v])||l!=null&&!isNaN(l)||(l=""),v=s(v),l=s(l),v===null||l===null)continue;h.push(v+"="+l)}return h.length?f+h.join("&"):""},e.parse=function(o){for(var f,l=/([^=?#&]+)=?([^&]*)/g,v={};f=l.exec(o);){var h=r(f[1]),i=r(f[2]);h===null||i===null||h in v||(v[h]=i)}return v}},670:n=>{n.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return e!==80;case"https":case"wss":return e!==443;case"ftp":return e!==21;case"gopher":return e!==70;case"file":return!1}return e!==0}},494:n=>{const e=/^[-+]?0x[a-fA-F0-9]+$/,t=/^([\-\+])?(0*)(\.[0-9]+([eE]\-?[0-9]+)?|[0-9]+(\.[0-9]+([eE]\-?[0-9]+)?)?)$/;!Number.parseInt&&window.parseInt&&(Number.parseInt=window.parseInt),!Number.parseFloat&&window.parseFloat&&(Number.parseFloat=window.parseFloat);const r={hex:!0,leadingZeros:!0,decimalPoint:".",eNotation:!0};n.exports=function(s){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(o=Object.assign({},r,o),!s||typeof s!="string")return s;let f=s.trim();if(o.skipLike!==void 0&&o.skipLike.test(f))return s;if(o.hex&&e.test(f))return Number.parseInt(f,16);{const v=t.exec(f);if(v){const h=v[1],i=v[2];let c=((l=v[3])&&l.indexOf(".")!==-1&&((l=l.replace(/0+$/,""))==="."?l="0":l[0]==="."?l="0"+l:l[l.length-1]==="."&&(l=l.substr(0,l.length-1))),l);const a=v[4]||v[6];if(!o.leadingZeros&&i.length>0&&h&&f[2]!=="."||!o.leadingZeros&&i.length>0&&!h&&f[1]!==".")return s;{const E=Number(f),m=""+E;return m.search(/[eE]/)!==-1||a?o.eNotation?E:s:f.indexOf(".")!==-1?m==="0"&&c===""||m===c||h&&m==="-"+c?E:s:i?c===m||h+c===m?E:s:f===m||f===h+m?E:s}}return s}var l}},737:(n,e,t)=>{var r=t(670),s=t(647),o=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,f=/[\n\r\t]/g,l=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,v=/:\d+$/,h=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,i=/^[a-zA-Z]:/;function c(d){return(d||"").toString().replace(o,"")}var a=[["#","hash"],["?","query"],function(d,b){return p(b.protocol)?d.replace(/\\/g,"/"):d},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],E={hash:1,query:1};function m(d){var b,O=(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{}).location||{},R={},_=typeof(d=d||O);if(d.protocol==="blob:")R=new C(unescape(d.pathname),{});else if(_==="string")for(b in R=new C(d,{}),E)delete R[b];else if(_==="object"){for(b in d)b in E||(R[b]=d[b]);R.slashes===void 0&&(R.slashes=l.test(d.href))}return R}function p(d){return d==="file:"||d==="ftp:"||d==="http:"||d==="https:"||d==="ws:"||d==="wss:"}function y(d,b){d=(d=c(d)).replace(f,""),b=b||{};var O,R=h.exec(d),_=R[1]?R[1].toLowerCase():"",k=!!R[2],I=!!R[3],W=0;return k?I?(O=R[2]+R[3]+R[4],W=R[2].length+R[3].length):(O=R[2]+R[4],W=R[2].length):I?(O=R[3]+R[4],W=R[3].length):O=R[4],_==="file:"?W>=2&&(O=O.slice(2)):p(_)?O=R[4]:_?k&&(O=O.slice(2)):W>=2&&p(b.protocol)&&(O=R[4]),{protocol:_,slashes:k||p(_),slashesCount:W,rest:O}}function C(d,b,O){if(d=(d=c(d)).replace(f,""),!(this instanceof C))return new C(d,b,O);var R,_,k,I,W,Y,Z=a.slice(),fe=typeof b,L=this,we=0;for(fe!=="object"&&fe!=="string"&&(O=b,b=null),O&&typeof O!="function"&&(O=s.parse),R=!(_=y(d||"",b=m(b))).protocol&&!_.slashes,L.slashes=_.slashes||R&&b.slashes,L.protocol=_.protocol||b.protocol||"",d=_.rest,(_.protocol==="file:"&&(_.slashesCount!==2||i.test(d))||!_.slashes&&(_.protocol||_.slashesCount<2||!p(L.protocol)))&&(Z[3]=[/(.*)/,"pathname"]);we<Z.length;we++)typeof(I=Z[we])!="function"?(k=I[0],Y=I[1],k!=k?L[Y]=d:typeof k=="string"?~(W=k==="@"?d.lastIndexOf(k):d.indexOf(k))&&(typeof I[2]=="number"?(L[Y]=d.slice(0,W),d=d.slice(W+I[2])):(L[Y]=d.slice(W),d=d.slice(0,W))):(W=k.exec(d))&&(L[Y]=W[1],d=d.slice(0,W.index)),L[Y]=L[Y]||R&&I[3]&&b[Y]||"",I[4]&&(L[Y]=L[Y].toLowerCase())):d=I(d,L);O&&(L.query=O(L.query)),R&&b.slashes&&L.pathname.charAt(0)!=="/"&&(L.pathname!==""||b.pathname!=="")&&(L.pathname=function(ye,je){if(ye==="")return je;for(var ft=(je||"/").split("/").slice(0,-1).concat(ye.split("/")),rt=ft.length,We=ft[rt-1],At=!1,Je=0;rt--;)ft[rt]==="."?ft.splice(rt,1):ft[rt]===".."?(ft.splice(rt,1),Je++):Je&&(rt===0&&(At=!0),ft.splice(rt,1),Je--);return At&&ft.unshift(""),We!=="."&&We!==".."||ft.push(""),ft.join("/")}(L.pathname,b.pathname)),L.pathname.charAt(0)!=="/"&&p(L.protocol)&&(L.pathname="/"+L.pathname),r(L.port,L.protocol)||(L.host=L.hostname,L.port=""),L.username=L.password="",L.auth&&(~(W=L.auth.indexOf(":"))?(L.username=L.auth.slice(0,W),L.username=encodeURIComponent(decodeURIComponent(L.username)),L.password=L.auth.slice(W+1),L.password=encodeURIComponent(decodeURIComponent(L.password))):L.username=encodeURIComponent(decodeURIComponent(L.auth)),L.auth=L.password?L.username+":"+L.password:L.username),L.origin=L.protocol!=="file:"&&p(L.protocol)&&L.host?L.protocol+"//"+L.host:"null",L.href=L.toString()}C.prototype={set:function(d,b,O){var R=this;switch(d){case"query":typeof b=="string"&&b.length&&(b=(O||s.parse)(b)),R[d]=b;break;case"port":R[d]=b,r(b,R.protocol)?b&&(R.host=R.hostname+":"+b):(R.host=R.hostname,R[d]="");break;case"hostname":R[d]=b,R.port&&(b+=":"+R.port),R.host=b;break;case"host":R[d]=b,v.test(b)?(b=b.split(":"),R.port=b.pop(),R.hostname=b.join(":")):(R.hostname=b,R.port="");break;case"protocol":R.protocol=b.toLowerCase(),R.slashes=!O;break;case"pathname":case"hash":if(b){var _=d==="pathname"?"/":"#";R[d]=b.charAt(0)!==_?_+b:b}else R[d]=b;break;case"username":case"password":R[d]=encodeURIComponent(b);break;case"auth":var k=b.indexOf(":");~k?(R.username=b.slice(0,k),R.username=encodeURIComponent(decodeURIComponent(R.username)),R.password=b.slice(k+1),R.password=encodeURIComponent(decodeURIComponent(R.password))):R.username=encodeURIComponent(decodeURIComponent(b))}for(var I=0;I<a.length;I++){var W=a[I];W[4]&&(R[W[1]]=R[W[1]].toLowerCase())}return R.auth=R.password?R.username+":"+R.password:R.username,R.origin=R.protocol!=="file:"&&p(R.protocol)&&R.host?R.protocol+"//"+R.host:"null",R.href=R.toString(),R},toString:function(d){d&&typeof d=="function"||(d=s.stringify);var b,O=this,R=O.host,_=O.protocol;_&&_.charAt(_.length-1)!==":"&&(_+=":");var k=_+(O.protocol&&O.slashes||p(O.protocol)?"//":"");return O.username?(k+=O.username,O.password&&(k+=":"+O.password),k+="@"):O.password?(k+=":"+O.password,k+="@"):O.protocol!=="file:"&&p(O.protocol)&&!R&&O.pathname!=="/"&&(k+="@"),(R[R.length-1]===":"||v.test(O.hostname)&&!O.port)&&(R+=":"),k+=R+O.pathname,(b=typeof O.query=="object"?d(O.query):O.query)&&(k+=b.charAt(0)!=="?"?"?"+b:b),O.hash&&(k+=O.hash),k}},C.extractProtocol=y,C.location=m,C.trimLeft=c,C.qs=s,n.exports=C},410:()=>{},388:()=>{},805:()=>{},345:()=>{},800:()=>{}},be={};function J(n){var e=be[n];if(e!==void 0)return e.exports;var t=be[n]={id:n,loaded:!1,exports:{}};return ue[n].call(t.exports,t,t.exports,J),t.loaded=!0,t.exports}J.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return J.d(e,{a:e}),e},J.d=(n,e)=>{for(var t in e)J.o(e,t)&&!J.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},J.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),J.nmd=n=>(n.paths=[],n.children||(n.children=[]),n);var te={};J.d(te,{hT:()=>$e,O4:()=>N,Kd:()=>xt,YK:()=>wt,UU:()=>yr,Gu:()=>oe,ky:()=>ot,h4:()=>Rt,ch:()=>Tt,hq:()=>pe,i5:()=>Wt});var ne=J(737),P=J.n(ne);function F(n){if(!re(n))throw new Error("Parameter was not an error")}function re(n){return!!n&&typeof n=="object"&&(e=n,Object.prototype.toString.call(e)==="[object Error]")||n instanceof Error;var e}class K extends Error{constructor(e,t){const r=[...arguments],{options:s,shortMessage:o}=function(l){let v,h="";if(l.length===0)v={};else if(re(l[0]))v={cause:l[0]},h=l.slice(1).join(" ")||"";else if(l[0]&&typeof l[0]=="object")v=Object.assign({},l[0]),h=l.slice(1).join(" ")||"";else{if(typeof l[0]!="string")throw new Error("Invalid arguments passed to Layerr");v={},h=h=l.join(" ")||""}return{options:v,shortMessage:h}}(r);let f=o;if(s.cause&&(f=`${f}: ${s.cause.message}`),super(f),this.message=f,s.name&&typeof s.name=="string"?this.name=s.name:this.name="Layerr",s.cause&&Object.defineProperty(this,"_cause",{value:s.cause}),Object.defineProperty(this,"_info",{value:{}}),s.info&&typeof s.info=="object"&&Object.assign(this._info,s.info),Error.captureStackTrace){const l=s.constructorOpt||this.constructor;Error.captureStackTrace(this,l)}}static cause(e){return F(e),e._cause&&re(e._cause)?e._cause:null}static fullStack(e){F(e);const t=K.cause(e);return t?`${e.stack}
caused by: ${K.fullStack(t)}`:e.stack??""}static info(e){F(e);const t={},r=K.cause(e);return r&&Object.assign(t,K.info(r)),e._info&&Object.assign(t,e._info),t}toString(){let e=this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(e=`${e}: ${this.message}`),e}}var ie=J(47),ee=J.n(ie);const se="__PATH_SEPARATOR_POSIX__",ge="__PATH_SEPARATOR_WINDOWS__";function le(n){try{const e=n.replace(/\//g,se).replace(/\\\\/g,ge);return encodeURIComponent(e).split(ge).join("\\\\").split(se).join("/")}catch(e){throw new K(e,"Failed encoding path")}}function De(n){return n.startsWith("/")?n:"/"+n}function Ee(n){let e=n;return e[0]!=="/"&&(e="/"+e),/^.+\/$/.test(e)&&(e=e.substr(0,e.length-1)),e}function D(n){let e=new(P())(n).pathname;return e.length<=0&&(e="/"),Ee(e)}function G(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(){return function(r){var s=[];if(r.length===0)return"";if(typeof r[0]!="string")throw new TypeError("Url must be a string. Received "+r[0]);if(r[0].match(/^[^/:]+:\/*$/)&&r.length>1){var o=r.shift();r[0]=o+r[0]}r[0].match(/^file:\/\/\//)?r[0]=r[0].replace(/^([^/:]+):\/*/,"$1:///"):r[0]=r[0].replace(/^([^/:]+):\/*/,"$1://");for(var f=0;f<r.length;f++){var l=r[f];if(typeof l!="string")throw new TypeError("Url must be a string. Received "+l);l!==""&&(f>0&&(l=l.replace(/^[\/]+/,"")),l=f<r.length-1?l.replace(/[\/]+$/,""):l.replace(/[\/]+$/,"/"),s.push(l))}var v=s.join("/"),h=(v=v.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return h.shift()+(h.length>0?"?":"")+h.join("&")}(typeof arguments[0]=="object"?arguments[0]:[].slice.call(arguments))}(e.reduce((r,s,o)=>((o===0||s!=="/"||s==="/"&&r[r.length-1]!=="/")&&r.push(s),r),[]))}var me=J(542),_e=J.n(me);const Ie="abcdef0123456789";function Ue(n,e){const t=n.url.replace("//",""),r=t.indexOf("/")==-1?"/":t.slice(t.indexOf("/")),s=n.method?n.method.toUpperCase():"GET",o=!!/(^|,)\s*auth\s*($|,)/.test(e.qop)&&"auth",f=`00000000${e.nc}`.slice(-8),l=function(a,E,m,p,y,C,d){const b=d||_e()(`${E}:${m}:${p}`);return a&&a.toLowerCase()==="md5-sess"?_e()(`${b}:${y}:${C}`):b}(e.algorithm,e.username,e.realm,e.password,e.nonce,e.cnonce,e.ha1),v=_e()(`${s}:${r}`),h=o?_e()(`${l}:${e.nonce}:${f}:${e.cnonce}:${o}:${v}`):_e()(`${l}:${e.nonce}:${v}`),i={username:e.username,realm:e.realm,nonce:e.nonce,uri:r,qop:o,response:h,nc:f,cnonce:e.cnonce,algorithm:e.algorithm,opaque:e.opaque},c=[];for(const a in i)i[a]&&(a==="qop"||a==="nc"||a==="algorithm"?c.push(`${a}=${i[a]}`):c.push(`${a}="${i[a]}"`));return`Digest ${c.join(", ")}`}function _t(n){return(n.headers&&n.headers.get("www-authenticate")||"").split(/\s/)[0].toLowerCase()==="digest"}var Ot=J(101),yt=J.n(Ot);function Fe(n){return yt().decode(n)}function dt(n,e){var t;return`Basic ${t=`${n}:${e}`,yt().encode(t)}`}const et=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:typeof window<"u"?window:globalThis,Xe=et.fetch.bind(et),xt=(et.Headers,et.Request),wt=et.Response;let $e=function(n){return n.Auto="auto",n.Digest="digest",n.None="none",n.Password="password",n.Token="token",n}({}),N=function(n){return n.DataTypeNoLength="data-type-no-length",n.InvalidAuthType="invalid-auth-type",n.InvalidOutputFormat="invalid-output-format",n.LinkUnsupportedAuthType="link-unsupported-auth",n.InvalidUpdateRange="invalid-update-range",n.NotSupported="not-supported",n}({});function V(n,e,t,r,s){switch(n.authType){case $e.Auto:e&&t&&(n.headers.Authorization=dt(e,t));break;case $e.Digest:n.digest=function(f,l,v){return{username:f,password:l,ha1:v,nc:0,algorithm:"md5",hasDigestAuth:!1}}(e,t,s);break;case $e.None:break;case $e.Password:n.headers.Authorization=dt(e,t);break;case $e.Token:n.headers.Authorization=`${(o=r).token_type} ${o.access_token}`;break;default:throw new K({info:{code:N.InvalidAuthType}},`Invalid auth type: ${n.authType}`)}var o}J(345),J(800);const ce="@@HOTPATCHER",xe=()=>{};function $(n){return{original:n,methods:[n],final:!1}}class B{constructor(){this._configuration={registry:{},getEmptyAction:"null"},this.__type__=ce}get configuration(){return this._configuration}get getEmptyAction(){return this.configuration.getEmptyAction}set getEmptyAction(e){this.configuration.getEmptyAction=e}control(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(!e||e.__type__!==ce)throw new Error("Failed taking control of target HotPatcher instance: Invalid type or object");return Object.keys(e.configuration.registry).forEach(r=>{this.configuration.registry.hasOwnProperty(r)?t&&(this.configuration.registry[r]=Object.assign({},e.configuration.registry[r])):this.configuration.registry[r]=Object.assign({},e.configuration.registry[r])}),e._configuration=this.configuration,this}execute(e){const t=this.get(e)||xe;for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];return t(...s)}get(e){const t=this.configuration.registry[e];if(!t)switch(this.getEmptyAction){case"null":return null;case"throw":throw new Error(`Failed handling method request: No method provided for override: ${e}`);default:throw new Error(`Failed handling request which resulted in an empty method: Invalid empty-action specified: ${this.getEmptyAction}`)}return function(){for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];if(s.length===0)throw new Error("Failed creating sequence: No functions provided");return function(){for(var f=arguments.length,l=new Array(f),v=0;v<f;v++)l[v]=arguments[v];let h=l;const i=this;for(;s.length>0;)h=[s.shift().apply(i,h)];return h[0]}}(...t.methods)}isPatched(e){return!!this.configuration.registry[e]}patch(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{chain:s=!1}=r;if(this.configuration.registry[e]&&this.configuration.registry[e].final)throw new Error(`Failed patching '${e}': Method marked as being final`);if(typeof t!="function")throw new Error(`Failed patching '${e}': Provided method is not a function`);if(s)this.configuration.registry[e]?this.configuration.registry[e].methods.push(t):this.configuration.registry[e]=$(t);else if(this.isPatched(e)){const{original:o}=this.configuration.registry[e];this.configuration.registry[e]=Object.assign($(t),{original:o})}else this.configuration.registry[e]=$(t);return this}patchInline(e,t){this.isPatched(e)||this.patch(e,t);for(var r=arguments.length,s=new Array(r>2?r-2:0),o=2;o<r;o++)s[o-2]=arguments[o];return this.execute(e,...s)}plugin(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];return r.forEach(o=>{this.patch(e,o,{chain:!0})}),this}restore(e){if(!this.isPatched(e))throw new Error(`Failed restoring method: No method present for key: ${e}`);if(typeof this.configuration.registry[e].original!="function")throw new Error(`Failed restoring method: Original method not found or of invalid type for key: ${e}`);return this.configuration.registry[e].methods=[this.configuration.registry[e].original],this}setFinal(e){if(!this.configuration.registry.hasOwnProperty(e))throw new Error(`Failed marking '${e}' as final: No method found for key`);return this.configuration.registry[e].final=!0,this}}let X=null;function oe(){return X||(X=new B),X}function Oe(n){return function(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!="[object Object]")return!1;if(Object.getPrototypeOf(e)===null)return!0;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(n)?Object.assign({},n):Object.setPrototypeOf(Object.assign({},n),Object.getPrototypeOf(n))}function Pe(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];let r=null,s=[...e];for(;s.length>0;){const o=s.shift();r=r?ze(r,o):Oe(o)}return r}function ze(n,e){const t=Oe(n);return Object.keys(e).forEach(r=>{t.hasOwnProperty(r)?Array.isArray(e[r])?t[r]=Array.isArray(t[r])?[...t[r],...e[r]]:[...e[r]]:typeof e[r]=="object"&&e[r]?t[r]=typeof t[r]=="object"&&t[r]?ze(t[r],e[r]):Oe(e[r]):t[r]=e[r]:t[r]=e[r]}),t}function $t(n){const e={};for(const t of n.keys())e[t]=n.get(t);return e}function pt(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];if(e.length===0)return{};const r={};return e.reduce((s,o)=>(Object.keys(o).forEach(f=>{const l=f.toLowerCase();r.hasOwnProperty(l)?s[r[l]]=o[f]:(r[l]=f,s[f]=o[f])}),s),{})}J(805);const gt=typeof ArrayBuffer=="function",{toString:Gt}=Object.prototype;function yn(n){return gt&&(n instanceof ArrayBuffer||Gt.call(n)==="[object ArrayBuffer]")}function Ft(n){return n!=null&&n.constructor!=null&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function rn(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(n.apply(this,e))}catch(r){return Promise.reject(r)}}}function Yt(n,e,t){return t?e?e(n):n:(n&&n.then||(n=Promise.resolve(n)),e?n.then(e):n)}const Rn=rn(function(n){const e=n._digest;return delete n._digest,e.hasDigestAuth&&(n=Pe(n,{headers:{Authorization:Ue(n,e)}})),Yt(sn(n),function(t){let r=!1;return s=function(f){return r?f:t},(o=function(){if(t.status==401)return e.hasDigestAuth=function(f,l){if(!_t(f))return!1;const v=/([a-z0-9_-]+)=(?:"([^"]+)"|([a-z0-9_-]+))/gi;for(;;){const h=f.headers&&f.headers.get("www-authenticate")||"",i=v.exec(h);if(!i)break;l[i[1]]=i[2]||i[3]}return l.nc+=1,l.cnonce=function(){let h="";for(let i=0;i<32;++i)h=`${h}${Ie[Math.floor(16*Math.random())]}`;return h}(),!0}(t,e),function(){if(e.hasDigestAuth)return Yt(sn(n=Pe(n,{headers:{Authorization:Ue(n,e)}})),function(f){return f.status==401?e.hasDigestAuth=!1:e.nc++,r=!0,f})}();e.nc++}())&&o.then?o.then(s):s(o);var s,o})}),Yn=rn(function(n,e){return Yt(sn(n),function(t){return t.ok?(e.authType=$e.Password,t):t.status==401&&_t(t)?(e.authType=$e.Digest,V(e,e.username,e.password,void 0,void 0),n._digest=e.digest,Rn(n)):t})}),Ye=rn(function(n,e){return e.authType===$e.Auto?Yn(n,e):n._digest?Rn(n):sn(n)});function Qe(n,e,t){const r=Oe(n);return r.headers=pt(e.headers,r.headers||{},t.headers||{}),t.data!==void 0&&(r.data=t.data),t.signal&&(r.signal=t.signal),e.httpAgent&&(r.httpAgent=e.httpAgent),e.httpsAgent&&(r.httpsAgent=e.httpsAgent),e.digest&&(r._digest=e.digest),typeof e.withCredentials=="boolean"&&(r.withCredentials=e.withCredentials),r}function sn(n){const e=oe();return e.patchInline("request",t=>e.patchInline("fetch",Xe,t.url,function(r){let s={};const o={method:r.method};if(r.headers&&(s=pt(s,r.headers)),r.data!==void 0){const[f,l]=function(v){if(typeof v=="string")return[v,{}];if(Ft(v))return[v,{}];if(yn(v))return[v,{}];if(v&&typeof v=="object")return[JSON.stringify(v),{"content-type":"application/json"}];throw new Error("Unable to convert request body: Unexpected body type: "+typeof v)}(r.data);o.body=f,s=pt(s,l)}return r.signal&&(o.signal=r.signal),r.withCredentials&&(o.credentials="include"),o.headers=s,o}(t)),n)}var Qn=J(285);const on=n=>{if(typeof n!="string")throw new TypeError("invalid pattern");if(n.length>65536)throw new TypeError("pattern is too long")},Sn={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Qt=n=>n.replace(/[[\]\\-]/g,"\\$&"),wn=n=>n.join(""),Ln=(n,e)=>{const t=e;if(n.charAt(t)!=="[")throw new Error("not in a brace expression");const r=[],s=[];let o=t+1,f=!1,l=!1,v=!1,h=!1,i=t,c="";e:for(;o<n.length;){const p=n.charAt(o);if(p!=="!"&&p!=="^"||o!==t+1){if(p==="]"&&f&&!v){i=o+1;break}if(f=!0,p!=="\\"||v){if(p==="["&&!v){for(const[y,[C,d,b]]of Object.entries(Sn))if(n.startsWith(y,o)){if(c)return["$.",!1,n.length-t,!0];o+=y.length,b?s.push(C):r.push(C),l=l||d;continue e}}v=!1,c?(p>c?r.push(Qt(c)+"-"+Qt(p)):p===c&&r.push(Qt(p)),c="",o++):n.startsWith("-]",o+1)?(r.push(Qt(p+"-")),o+=2):n.startsWith("-",o+1)?(c=p,o+=2):(r.push(Qt(p)),o++)}else v=!0,o++}else h=!0,o++}if(i<o)return["",!1,0,!1];if(!r.length&&!s.length)return["$.",!1,n.length-t,!0];if(s.length===0&&r.length===1&&/^\\?.$/.test(r[0])&&!h)return[(a=r[0].length===2?r[0].slice(-1):r[0],a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")),!1,i-t,!1];var a;const E="["+(h?"^":"")+wn(r)+"]",m="["+(h?"":"^")+wn(s)+"]";return[r.length&&s.length?"("+E+"|"+m+")":r.length?E:m,l,i-t,!0]},Pt=function(n){let{windowsPathsNoEscape:e=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e?n.replace(/\[([^\/\\])\]/g,"$1"):n.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1")},bn=new Set(["!","?","+","*","@"]),_n=n=>bn.has(n),Tn="(?!\\.)",Dn=new Set(["[","."]),$n=new Set(["..","."]),Fn=new Set("().*{}+?[]^$\\!"),an="[^/]",Nn=an+"*?",Mn=an+"+?",mt=class mt{constructor(e,t){Et(this,qt);Ae(this,"type");Et(this,nt);Et(this,lt);Et(this,Dt,!1);Et(this,ke,[]);Et(this,Ze);Et(this,Ut);Et(this,zt);Et(this,kt,!1);Et(this,Ct);Et(this,Ht);Et(this,En,!1);let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.type=e,e&&Ke(this,lt,!0),Ke(this,Ze,t),Ke(this,nt,q(this,Ze)?q(q(this,Ze),nt):this),Ke(this,Ct,q(this,nt)===this?r:q(q(this,nt),Ct)),Ke(this,zt,q(this,nt)===this?[]:q(q(this,nt),zt)),e!=="!"||q(q(this,nt),kt)||q(this,zt).push(this),Ke(this,Ut,q(this,Ze)?q(q(this,Ze),ke).length:0)}get hasMagic(){if(q(this,lt)!==void 0)return q(this,lt);for(const e of q(this,ke))if(typeof e!="string"&&(e.type||e.hasMagic))return Ke(this,lt,!0);return q(this,lt)}toString(){return q(this,Ht)!==void 0?q(this,Ht):this.type?Ke(this,Ht,this.type+"("+q(this,ke).map(e=>String(e)).join("|")+")"):Ke(this,Ht,q(this,ke).map(e=>String(e)).join(""))}push(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(const s of t)if(s!==""){if(typeof s!="string"&&!(s instanceof mt&&q(s,Ze)===this))throw new Error("invalid part: "+s);q(this,ke).push(s)}}toJSON(){const e=this.type===null?q(this,ke).slice().map(t=>typeof t=="string"?t:t.toJSON()):[this.type,...q(this,ke).map(t=>t.toJSON())];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===q(this,nt)||q(q(this,nt),kt)&&q(this,Ze)?.type==="!")&&e.push({}),e}isStart(){if(q(this,nt)===this)return!0;if(!q(this,Ze)?.isStart())return!1;if(q(this,Ut)===0)return!0;const e=q(this,Ze);for(let t=0;t<q(this,Ut);t++){const r=q(e,ke)[t];if(!(r instanceof mt&&r.type==="!"))return!1}return!0}isEnd(){if(q(this,nt)===this||q(this,Ze)?.type==="!")return!0;if(!q(this,Ze)?.isEnd())return!1;if(!this.type)return q(this,Ze)?.isEnd();const e=q(this,Ze)?q(q(this,Ze),ke).length:0;return q(this,Ut)===e-1}copyIn(e){typeof e=="string"?this.push(e):this.push(e.clone(this))}clone(e){const t=new mt(this.type,e);for(const r of q(this,ke))t.copyIn(r);return t}static fromGlob(e){var s;let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=new mt(null,void 0,t);return Vt(s=mt,Bt,Pn).call(s,e,r,0,t),r}toMMPattern(){if(this!==q(this,nt))return q(this,nt).toMMPattern();const e=this.toString(),[t,r,s,o]=this.toRegExpSource();if(!(s||q(this,lt)||q(this,Ct).nocase&&!q(this,Ct).nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return r;const f=(q(this,Ct).nocase?"i":"")+(o?"u":"");return Object.assign(new RegExp(`^${t}$`,f),{_src:t,_glob:e})}get options(){return q(this,Ct)}toRegExpSource(e){const t=e??!!q(this,Ct).dot;if(q(this,nt)===this&&Vt(this,qt,lr).call(this),!this.type){const v=this.isStart()&&this.isEnd(),h=q(this,ke).map(a=>{var C;const[E,m,p,y]=typeof a=="string"?Vt(C=mt,Bt,cr).call(C,a,q(this,lt),v):a.toRegExpSource(e);return Ke(this,lt,q(this,lt)||p),Ke(this,Dt,q(this,Dt)||y),E}).join("");let i="";if(this.isStart()&&typeof q(this,ke)[0]=="string"&&(q(this,ke).length!==1||!$n.has(q(this,ke)[0]))){const a=Dn,E=t&&a.has(h.charAt(0))||h.startsWith("\\.")&&a.has(h.charAt(2))||h.startsWith("\\.\\.")&&a.has(h.charAt(4)),m=!t&&!e&&a.has(h.charAt(0));i=E?"(?!(?:^|/)\\.\\.?(?:$|/))":m?Tn:""}let c="";return this.isEnd()&&q(q(this,nt),kt)&&q(this,Ze)?.type==="!"&&(c="(?:$|\\/)"),[i+h+c,Pt(h),Ke(this,lt,!!q(this,lt)),q(this,Dt)]}const r=this.type==="*"||this.type==="+",s=this.type==="!"?"(?:(?!(?:":"(?:";let o=Vt(this,qt,Kn).call(this,t);if(this.isStart()&&this.isEnd()&&!o&&this.type!=="!"){const v=this.toString();return Ke(this,ke,[v]),this.type=null,Ke(this,lt,void 0),[v,Pt(this.toString()),!1,!1]}let f=!r||e||t?"":Vt(this,qt,Kn).call(this,!0);f===o&&(f=""),f&&(o=`(?:${o})(?:${f})*?`);let l="";return l=this.type==="!"&&q(this,En)?(this.isStart()&&!t?Tn:"")+Mn:s+o+(this.type==="!"?"))"+(!this.isStart()||t||e?"":Tn)+Nn+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&f?")":this.type==="*"&&f?")?":`)${this.type}`),[l,Pt(o),Ke(this,lt,!!q(this,lt)),q(this,Dt)]}};nt=new WeakMap,lt=new WeakMap,Dt=new WeakMap,ke=new WeakMap,Ze=new WeakMap,Ut=new WeakMap,zt=new WeakMap,kt=new WeakMap,Ct=new WeakMap,Ht=new WeakMap,En=new WeakMap,qt=new WeakSet,lr=function(){if(this!==q(this,nt))throw new Error("should only call on root");if(q(this,kt))return this;let e;for(this.toString(),Ke(this,kt,!0);e=q(this,zt).pop();){if(e.type!=="!")continue;let t=e,r=q(t,Ze);for(;r;){for(let s=q(t,Ut)+1;!r.type&&s<q(r,ke).length;s++)for(const o of q(e,ke)){if(typeof o=="string")throw new Error("string part in extglob AST??");o.copyIn(q(r,ke)[s])}t=r,r=q(t,Ze)}}return this},Bt=new WeakSet,Pn=function(e,t,r,s){var E,m;let o=!1,f=!1,l=-1,v=!1;if(t.type===null){let p=r,y="";for(;p<e.length;){const C=e.charAt(p++);if(o||C==="\\")o=!o,y+=C;else if(f)p===l+1?C!=="^"&&C!=="!"||(v=!0):C!=="]"||p===l+2&&v||(f=!1),y+=C;else if(C!=="[")if(s.noext||!_n(C)||e.charAt(p)!=="(")y+=C;else{t.push(y),y="";const d=new mt(C,t);p=Vt(E=mt,Bt,Pn).call(E,e,d,p,s),t.push(d)}else f=!0,l=p,v=!1,y+=C}return t.push(y),p}let h=r+1,i=new mt(null,t);const c=[];let a="";for(;h<e.length;){const p=e.charAt(h++);if(o||p==="\\")o=!o,a+=p;else if(f)h===l+1?p!=="^"&&p!=="!"||(v=!0):p!=="]"||h===l+2&&v||(f=!1),a+=p;else if(p!=="[")if(_n(p)&&e.charAt(h)==="("){i.push(a),a="";const y=new mt(p,i);i.push(y),h=Vt(m=mt,Bt,Pn).call(m,e,y,h,s)}else if(p!=="|"){if(p===")")return a===""&&q(t,ke).length===0&&Ke(t,En,!0),i.push(a),a="",t.push(...c,i),h;a+=p}else i.push(a),a="",c.push(i),i=new mt(null,t);else f=!0,l=h,v=!1,a+=p}return t.type=null,Ke(t,lt,void 0),Ke(t,ke,[e.substring(r-1)]),h},Kn=function(e){return q(this,ke).map(t=>{if(typeof t=="string")throw new Error("string type in extglob ast??");const[r,s,o,f]=t.toRegExpSource(e);return Ke(this,Dt,q(this,Dt)||f),r}).filter(t=>!(this.isStart()&&this.isEnd()&&!t)).join("|")},cr=function(e,t){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],s=!1,o="",f=!1;for(let l=0;l<e.length;l++){const v=e.charAt(l);if(s)s=!1,o+=(Fn.has(v)?"\\":"")+v;else if(v!=="\\"){if(v==="["){const[h,i,c,a]=Ln(e,l);if(c){o+=h,f=f||i,l+=c-1,t=t||a;continue}}v!=="*"?v!=="?"?o+=v.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):(o+=an,t=!0):(o+=r&&e==="*"?Mn:Nn,t=!0)}else l===e.length-1?o+="\\\\":s=!0}return[o,Pt(e),!!t,f]},Et(mt,Bt);let Zt=mt;const it=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return on(e),!(!t.nocomment&&e.charAt(0)==="#")&&new Re(e,t).match(n)},jn=/^\*+([^+@!?\*\[\(]*)$/,un=n=>e=>!e.startsWith(".")&&e.endsWith(n),Zn=n=>e=>e.endsWith(n),Jn=n=>(n=n.toLowerCase(),e=>!e.startsWith(".")&&e.toLowerCase().endsWith(n)),er=n=>(n=n.toLowerCase(),e=>e.toLowerCase().endsWith(n)),An=/^\*+\.\*+$/,Mt=n=>!n.startsWith(".")&&n.includes("."),In=n=>n!=="."&&n!==".."&&n.includes("."),tr=/^\.\*+$/,nr=n=>n!=="."&&n!==".."&&n.startsWith("."),ln=/^\*+$/,cn=n=>n.length!==0&&!n.startsWith("."),Un=n=>n.length!==0&&n!=="."&&n!=="..",rr=/^\?+([^+@!?\*\[\(]*)?$/,On=n=>{let[e,t=""]=n;const r=T([e]);return t?(t=t.toLowerCase(),s=>r(s)&&s.toLowerCase().endsWith(t)):r},kn=n=>{let[e,t=""]=n;const r=w([e]);return t?(t=t.toLowerCase(),s=>r(s)&&s.toLowerCase().endsWith(t)):r},Bn=n=>{let[e,t=""]=n;const r=w([e]);return t?s=>r(s)&&s.endsWith(t):r},Vn=n=>{let[e,t=""]=n;const r=T([e]);return t?s=>r(s)&&s.endsWith(t):r},T=n=>{let[e]=n;const t=e.length;return r=>r.length===t&&!r.startsWith(".")},w=n=>{let[e]=n;const t=e.length;return r=>r.length===t&&r!=="."&&r!==".."},U=typeof M=="object"&&M?typeof M.env=="object"&&M.env&&M.env.__MINIMATCH_TESTING_PLATFORM__||M.platform:"posix";it.sep=U==="win32"?"\\":"/";const Q=Symbol("globstar **");it.GLOBSTAR=Q,it.filter=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t=>it(t,n,e)};const ae=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.assign({},n,e)};it.defaults=n=>{if(!n||typeof n!="object"||!Object.keys(n).length)return it;const e=it;return Object.assign(function(t,r){return e(t,r,ae(n,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}))},{Minimatch:class extends e.Minimatch{constructor(t){super(t,ae(n,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}))}static defaults(t){return e.defaults(ae(n,t)).Minimatch}},AST:class extends e.AST{constructor(t,r){super(t,r,ae(n,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{}))}static fromGlob(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.AST.fromGlob(t,ae(n,r))}},unescape:function(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.unescape(t,ae(n,r))},escape:function(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.escape(t,ae(n,r))},filter:function(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.filter(t,ae(n,r))},defaults:t=>e.defaults(ae(n,t)),makeRe:function(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.makeRe(t,ae(n,r))},braceExpand:function(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.braceExpand(t,ae(n,r))},match:function(t,r){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e.match(t,r,ae(n,s))},sep:e.sep,GLOBSTAR:Q})};const Ce=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return on(n),e.nobrace||!/\{(?:(?!\{).)*\}/.test(n)?[n]:Qn(n)};it.braceExpand=Ce,it.makeRe=function(n){return new Re(n,arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}).makeRe()},it.match=function(n,e){const t=new Re(e,arguments.length>2&&arguments[2]!==void 0?arguments[2]:{});return n=n.filter(r=>t.match(r)),t.options.nonull&&!n.length&&n.push(e),n};const de=/[?*]|[+@!]\(.*?\)|\[|\]/;class Re{constructor(e){Ae(this,"options");Ae(this,"set");Ae(this,"pattern");Ae(this,"windowsPathsNoEscape");Ae(this,"nonegate");Ae(this,"negate");Ae(this,"comment");Ae(this,"empty");Ae(this,"preserveMultipleSlashes");Ae(this,"partial");Ae(this,"globSet");Ae(this,"globParts");Ae(this,"nocase");Ae(this,"isWindows");Ae(this,"platform");Ae(this,"windowsNoMagicRoot");Ae(this,"regexp");let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};on(e),t=t||{},this.options=t,this.pattern=e,this.platform=t.platform||U,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||t.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!t.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!t.nonegate,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=t.windowsNoMagicRoot!==void 0?t.windowsNoMagicRoot:!(!this.isWindows||!this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const e of this.set)for(const t of e)if(typeof t!="string")return!0;return!1}debug(){}make(){const e=this.pattern,t=this.options;if(!t.nocomment&&e.charAt(0)==="#")return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],t.debug&&(this.debug=function(){return console.error(...arguments)}),this.debug(this.pattern,this.globSet);const r=this.globSet.map(o=>this.slashSplit(o));this.globParts=this.preprocess(r),this.debug(this.pattern,this.globParts);let s=this.globParts.map((o,f,l)=>{if(this.isWindows&&this.windowsNoMagicRoot){const v=!(o[0]!==""||o[1]!==""||o[2]!=="?"&&de.test(o[2])||de.test(o[3])),h=/^[a-z]:/i.test(o[0]);if(v)return[...o.slice(0,4),...o.slice(4).map(i=>this.parse(i))];if(h)return[o[0],...o.slice(1).map(i=>this.parse(i))]}return o.map(v=>this.parse(v))});if(this.debug(this.pattern,s),this.set=s.filter(o=>o.indexOf(!1)===-1),this.isWindows)for(let o=0;o<this.set.length;o++){const f=this.set[o];f[0]===""&&f[1]===""&&this.globParts[o][2]==="?"&&typeof f[3]=="string"&&/^[a-z]:$/i.test(f[3])&&(f[2]="?")}this.debug(this.pattern,this.set)}preprocess(e){if(this.options.noglobstar)for(let r=0;r<e.length;r++)for(let s=0;s<e[r].length;s++)e[r][s]==="**"&&(e[r][s]="*");const{optimizationLevel:t=1}=this.options;return t>=2?(e=this.firstPhasePreProcess(e),e=this.secondPhasePreProcess(e)):e=t>=1?this.levelOneOptimize(e):this.adjascentGlobstarOptimize(e),e}adjascentGlobstarOptimize(e){return e.map(t=>{let r=-1;for(;(r=t.indexOf("**",r+1))!==-1;){let s=r;for(;t[s+1]==="**";)s++;s!==r&&t.splice(r,s-r)}return t})}levelOneOptimize(e){return e.map(t=>(t=t.reduce((r,s)=>{const o=r[r.length-1];return s==="**"&&o==="**"?r:s===".."&&o&&o!==".."&&o!=="."&&o!=="**"?(r.pop(),r):(r.push(s),r)},[])).length===0?[""]:t)}levelTwoFileOptimize(e){Array.isArray(e)||(e=this.slashSplit(e));let t=!1;do{if(t=!1,!this.preserveMultipleSlashes){for(let s=1;s<e.length-1;s++){const o=e[s];s===1&&o===""&&e[0]===""||o!=="."&&o!==""||(t=!0,e.splice(s,1),s--)}e[0]!=="."||e.length!==2||e[1]!=="."&&e[1]!==""||(t=!0,e.pop())}let r=0;for(;(r=e.indexOf("..",r+1))!==-1;){const s=e[r-1];s&&s!=="."&&s!==".."&&s!=="**"&&(t=!0,e.splice(r-1,2),r-=2)}}while(t);return e.length===0?[""]:e}firstPhasePreProcess(e){let t=!1;do{t=!1;for(let r of e){let s=-1;for(;(s=r.indexOf("**",s+1))!==-1;){let f=s;for(;r[f+1]==="**";)f++;f>s&&r.splice(s+1,f-s);let l=r[s+1];const v=r[s+2],h=r[s+3];if(l!==".."||!v||v==="."||v===".."||!h||h==="."||h==="..")continue;t=!0,r.splice(s,1);const i=r.slice(0);i[s]="**",e.push(i),s--}if(!this.preserveMultipleSlashes){for(let f=1;f<r.length-1;f++){const l=r[f];f===1&&l===""&&r[0]===""||l!=="."&&l!==""||(t=!0,r.splice(f,1),f--)}r[0]!=="."||r.length!==2||r[1]!=="."&&r[1]!==""||(t=!0,r.pop())}let o=0;for(;(o=r.indexOf("..",o+1))!==-1;){const f=r[o-1];if(f&&f!=="."&&f!==".."&&f!=="**"){t=!0;const l=o===1&&r[o+1]==="**"?["."]:[];r.splice(o-1,2,...l),r.length===0&&r.push(""),o-=2}}}}while(t);return e}secondPhasePreProcess(e){for(let t=0;t<e.length-1;t++)for(let r=t+1;r<e.length;r++){const s=this.partsMatch(e[t],e[r],!this.preserveMultipleSlashes);if(s){e[t]=[],e[r]=s;break}}return e.filter(t=>t.length)}partsMatch(e,t){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],s=0,o=0,f=[],l="";for(;s<e.length&&o<t.length;)if(e[s]===t[o])f.push(l==="b"?t[o]:e[s]),s++,o++;else if(r&&e[s]==="**"&&t[o]===e[s+1])f.push(e[s]),s++;else if(r&&t[o]==="**"&&e[s]===t[o+1])f.push(t[o]),o++;else if(e[s]!=="*"||!t[o]||!this.options.dot&&t[o].startsWith(".")||t[o]==="**"){if(t[o]!=="*"||!e[s]||!this.options.dot&&e[s].startsWith(".")||e[s]==="**"||l==="a")return!1;l="b",f.push(t[o]),s++,o++}else{if(l==="b")return!1;l="a",f.push(e[s]),s++,o++}return e.length===t.length&&f}parseNegate(){if(this.nonegate)return;const e=this.pattern;let t=!1,r=0;for(let s=0;s<e.length&&e.charAt(s)==="!";s++)t=!t,r++;r&&(this.pattern=e.slice(r)),this.negate=t}matchOne(e,t){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const s=this.options;if(this.isWindows){const p=typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]),y=!p&&e[0]===""&&e[1]===""&&e[2]==="?"&&/^[a-z]:$/i.test(e[3]),C=typeof t[0]=="string"&&/^[a-z]:$/i.test(t[0]),d=y?3:p?0:void 0,b=!C&&t[0]===""&&t[1]===""&&t[2]==="?"&&typeof t[3]=="string"&&/^[a-z]:$/i.test(t[3])?3:C?0:void 0;if(typeof d=="number"&&typeof b=="number"){const[O,R]=[e[d],t[b]];O.toLowerCase()===R.toLowerCase()&&(t[b]=O,b>d?t=t.slice(b):d>b&&(e=e.slice(d)))}}const{optimizationLevel:o=1}=this.options;o>=2&&(e=this.levelTwoFileOptimize(e)),this.debug("matchOne",this,{file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var f=0,l=0,v=e.length,h=t.length;f<v&&l<h;f++,l++){this.debug("matchOne loop");var i=t[l],c=e[f];if(this.debug(t,i,c),i===!1)return!1;if(i===Q){this.debug("GLOBSTAR",[t,i,c]);var a=f,E=l+1;if(E===h){for(this.debug("** at the end");f<v;f++)if(e[f]==="."||e[f]===".."||!s.dot&&e[f].charAt(0)===".")return!1;return!0}for(;a<v;){var m=e[a];if(this.debug(`
globstar while`,e,a,t,E,m),this.matchOne(e.slice(a),t.slice(E),r))return this.debug("globstar found match!",a,v,m),!0;if(m==="."||m===".."||!s.dot&&m.charAt(0)==="."){this.debug("dot detected!",e,a,t,E);break}this.debug("globstar swallow a segment, and continue"),a++}return!(!r||(this.debug(`
>>> no match, partial?`,e,a,t,E),a!==v))}let p;if(typeof i=="string"?(p=c===i,this.debug("string match",i,c,p)):(p=i.test(c),this.debug("pattern match",i,c,p)),!p)return!1}if(f===v&&l===h)return!0;if(f===v)return r;if(l===h)return f===v-1&&e[f]==="";throw new Error("wtf?")}braceExpand(){return Ce(this.pattern,this.options)}parse(e){on(e);const t=this.options;if(e==="**")return Q;if(e==="")return"";let r,s=null;(r=e.match(ln))?s=t.dot?Un:cn:(r=e.match(jn))?s=(t.nocase?t.dot?er:Jn:t.dot?Zn:un)(r[1]):(r=e.match(rr))?s=(t.nocase?t.dot?kn:On:t.dot?Bn:Vn)(r):(r=e.match(An))?s=t.dot?In:Mt:(r=e.match(tr))&&(s=nr);const o=Zt.fromGlob(e,this.options).toMMPattern();return s&&typeof o=="object"&&Reflect.defineProperty(o,"test",{value:s}),o}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const e=this.set;if(!e.length)return this.regexp=!1,this.regexp;const t=this.options,r=t.noglobstar?"[^/]*?":t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",s=new Set(t.nocase?["i"]:[]);let o=e.map(v=>{const h=v.map(i=>{if(i instanceof RegExp)for(const c of i.flags.split(""))s.add(c);return typeof i=="string"?i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):i===Q?Q:i._src});return h.forEach((i,c)=>{const a=h[c+1],E=h[c-1];i===Q&&E!==Q&&(E===void 0?a!==void 0&&a!==Q?h[c+1]="(?:\\/|"+r+"\\/)?"+a:h[c]=r:a===void 0?h[c-1]=E+"(?:\\/|"+r+")?":a!==Q&&(h[c-1]=E+"(?:\\/|\\/"+r+"\\/)"+a,h[c+1]=Q))}),h.filter(i=>i!==Q).join("/")}).join("|");const[f,l]=e.length>1?["(?:",")"]:["",""];o="^"+f+o+l+"$",this.negate&&(o="^(?!"+o+").+$");try{this.regexp=new RegExp(o,[...s].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(e){return this.preserveMultipleSlashes?e.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(e)?["",...e.split(/\/+/)]:e.split(/\/+/)}match(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.partial;if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&t)return!0;const r=this.options;this.isWindows&&(e=e.split("\\").join("/"));const s=this.slashSplit(e);this.debug(this.pattern,"split",s);const o=this.set;this.debug(this.pattern,"set",o);let f=s[s.length-1];if(!f)for(let l=s.length-2;!f&&l>=0;l--)f=s[l];for(let l=0;l<o.length;l++){const v=o[l];let h=s;if(r.matchBase&&v.length===1&&(h=[f]),this.matchOne(h,v,t))return!!r.flipNegate||!this.negate}return!r.flipNegate&&this.negate}static defaults(e){return it.defaults(e).Minimatch}}function z(n){const e=new Error(`${arguments.length>1&&arguments[1]!==void 0?arguments[1]:""}Invalid response: ${n.status} ${n.statusText}`);return e.status=n.status,e.response=n,e}function S(n,e){const{status:t}=e;if(t===401&&n.digest)return e;if(t>=400)throw z(e);return e}function pe(n,e){return arguments.length>2&&arguments[2]!==void 0&&arguments[2]?{data:e,headers:n.headers?$t(n.headers):{},status:n.status,statusText:n.statusText}:e}it.AST=Zt,it.Minimatch=Re,it.escape=function(n){let{windowsPathsNoEscape:e=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e?n.replace(/[?*()[\]]/g,"[$&]"):n.replace(/[?*()[\]\\]/g,"\\$&")},it.unescape=Pt;const Ne=(Me=function(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=Qe({url:G(n.remoteURL,le(e)),method:"COPY",headers:{Destination:G(n.remoteURL,le(t)),Overwrite:r.overwrite===!1?"F":"T",Depth:r.shallow?"0":"infinity"}},n,r);return f=function(l){S(n,l)},(o=Ye(s,n))&&o.then||(o=Promise.resolve(o)),f?o.then(f):o;var o,f},function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];try{return Promise.resolve(Me.apply(this,n))}catch(t){return Promise.reject(t)}});var Me,Be=J(635),ve=J(829),st=J.n(ve),Ge=function(n){return n.Array="array",n.Object="object",n.Original="original",n}(Ge||{});function vt(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ge.Original;const r=st().get(n,e);return t==="array"&&Array.isArray(r)===!1?[r]:t==="object"&&Array.isArray(r)?r[0]:r}function Rt(n){return new Promise(e=>{e(function(t){const{multistatus:r}=t;if(r==="")return{multistatus:{response:[]}};if(!r)throw new Error("Invalid response: No root multistatus found");const s={multistatus:Array.isArray(r)?r[0]:r};return st().set(s,"multistatus.response",vt(s,"multistatus.response",Ge.Array)),st().set(s,"multistatus.response",st().get(s,"multistatus.response").map(o=>function(f){const l=Object.assign({},f);return l.status?st().set(l,"status",vt(l,"status",Ge.Object)):(st().set(l,"propstat",vt(l,"propstat",Ge.Object)),st().set(l,"propstat.prop",vt(l,"propstat.prop",Ge.Object))),l}(o))),s}(new Be.XMLParser({allowBooleanAttributes:!0,attributeNamePrefix:"",textNodeName:"text",ignoreAttributes:!1,removeNSPrefix:!0,numberParseOptions:{hex:!0,leadingZeros:!1},attributeValueProcessor:(t,r,s)=>r==="true"||r==="false"?r==="true":r,tagValueProcessor(t,r,s){if(!s.endsWith("propstat.prop.displayname"))return r}}).parse(n)))})}function Tt(n,e){let t=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const{getlastmodified:r=null,getcontentlength:s="0",resourcetype:o=null,getcontenttype:f=null,getetag:l=null}=n,v=o&&typeof o=="object"&&o.collection!==void 0?"directory":"file",h={filename:e,basename:ee().basename(e),lastmod:r,size:parseInt(s,10),type:v,etag:typeof l=="string"?l.replace(/"/g,""):null};return v==="file"&&(h.mime=f&&typeof f=="string"?f.split(";")[0]:""),t&&(n.displayname!==void 0&&(n.displayname=String(n.displayname)),h.props=n),h}function ot(n,e){let t=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=null;try{n.multistatus.response[0].propstat&&(r=n.multistatus.response[0])}catch{}if(!r)throw new Error("Failed getting item stat: bad response");const{propstat:{prop:s,status:o}}=r,[f,l,v]=o.split(" ",3),h=parseInt(l,10);if(h>=400){const i=new Error(`Invalid response: ${h} ${v}`);throw i.status=h,i}return Tt(s,Ee(e),t)}function Wt(n){switch(String(n)){case"-3":return"unlimited";case"-2":case"-1":return"unknown";default:return parseInt(String(n),10)}}function fn(n,e,t){return t?e?e(n):n:(n&&n.then||(n=Promise.resolve(n)),e?n.then(e):n)}const bt=function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(n.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{details:r=!1}=t,s=Qe({url:G(n.remoteURL,le(e)),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},n,t);return fn(Ye(s,n),function(o){return S(n,o),fn(o.text(),function(f){return fn(Rt(f),function(l){const v=ot(l,e,r);return pe(o,v,r)})})})});function Cn(n,e,t){return t?e?e(n):n:(n&&n.then||(n=Promise.resolve(n)),e?n.then(e):n)}const x=hn(function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=function(o){if(!o||o==="/")return[];let f=o;const l=[];do l.push(f),f=ee().dirname(f);while(f&&f!=="/");return l}(Ee(e));r.sort((o,f)=>o.length>f.length?1:f.length>o.length?-1:0);let s=!1;return function(o,f,l){if(typeof o[jt]=="function"){let p=function(y){try{for(;!(v=c.next()).done;)if((y=f(v.value))&&y.then){if(!dn(y))return void y.then(p,i||(i=at.bind(null,h=new Nt,2)));y=y.v}h?at(h,1,y):h=y}catch(C){at(h||(h=new Nt),2,C)}};var v,h,i,c=o[jt]();if(p(),c.return){var a=function(y){try{v.done||c.return()}catch{}return y};if(h&&h.then)return h.then(a,function(y){throw a(y)});a()}return h}if(!("length"in o))throw new TypeError("Object is not iterable");for(var E=[],m=0;m<o.length;m++)E.push(o[m]);return function(p,y,C){var d,b,O=-1;return function R(_){try{for(;++O<p.length&&(!C||!C());)if((_=y(O))&&_.then){if(!dn(_))return void _.then(R,b||(b=at.bind(null,d=new Nt,2)));_=_.v}d?at(d,1,_):d=_}catch(k){at(d||(d=new Nt),2,k)}}(),d}(E,function(p){return f(E[p])},l)}(r,function(o){return f=function(){return function(v,h){try{var i=Cn(bt(n,o),function(c){if(c.type!=="directory")throw new Error(`Path includes a file: ${e}`)})}catch(c){return h(c)}return i&&i.then?i.then(void 0,h):i}(0,function(v){const h=v;return function(){if(h.status===404)return s=!0,Ve(Se(n,o,{...t,recursive:!1}));throw v}()})},(l=function(){if(s)return Ve(Se(n,o,{...t,recursive:!1}))}())&&l.then?l.then(f):f();var f,l},function(){return!1})});function hn(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(n.apply(this,e))}catch(r){return Promise.reject(r)}}}function Xt(){}function Ve(n,e){if(!e)return n&&n.then?n.then(Xt):Promise.resolve()}const jt=typeof Symbol<"u"?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function at(n,e,t){if(!n.s){if(t instanceof Nt){if(!t.s)return void(t.o=at.bind(null,n,e));1&e&&(e=t.s),t=t.v}if(t&&t.then)return void t.then(at.bind(null,n,e),at.bind(null,n,2));n.s=e,n.v=t;const r=n.o;r&&r(n)}}const Nt=function(){function n(){}return n.prototype.then=function(e,t){const r=new n,s=this.s;if(s){const o=1&s?e:t;if(o){try{at(r,1,o(this.v))}catch(f){at(r,2,f)}return r}return this}return this.o=function(o){try{const f=o.v;1&o.s?at(r,1,e?e(f):f):t?at(r,1,t(f)):at(r,2,f)}catch(f){at(r,2,f)}},r},n}();function dn(n){return n instanceof Nt&&1&n.s}const Se=hn(function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(t.recursive===!0)return x(n,e,t);const r=Qe({url:G(n.remoteURL,(s=le(e),s.endsWith("/")?s:s+"/")),method:"MKCOL"},n,t);var s;return Cn(Ye(r,n),function(o){S(n,o)})});var Gn=J(388),Jt=J.n(Gn);const pn=function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(n.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r={};if(typeof t.range=="object"&&typeof t.range.start=="number"){let l=`bytes=${t.range.start}-`;typeof t.range.end=="number"&&(l=`${l}${t.range.end}`),r.Range=l}const s=Qe({url:G(n.remoteURL,le(e)),method:"GET",headers:r},n,t);return f=function(l){if(S(n,l),r.Range&&l.status!==206){const v=new Error(`Invalid response code for partial request: ${l.status}`);throw v.status=l.status,v}return t.callback&&setTimeout(()=>{t.callback(l)},0),l.body},(o=Ye(s,n))&&o.then||(o=Promise.resolve(o)),f?o.then(f):o;var o,f}),St=()=>{},gn=function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(n.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(n,e,t){t.url||(t.url=G(n.remoteURL,le(e)));const r=Qe(t,n,{});return o=function(f){return S(n,f),f},(s=Ye(r,n))&&s.then||(s=Promise.resolve(s)),o?s.then(o):s;var s,o}),Wn=function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(n.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Qe({url:G(n.remoteURL,le(e)),method:"DELETE"},n,t);return o=function(f){S(n,f)},(s=Ye(r,n))&&s.then||(s=Promise.resolve(s)),o?s.then(o):s;var s,o}),xn=function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(n.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return function(r,s){try{var o=(f=bt(n,e,t),l=function(){return!0},v?l?l(f):f:(f&&f.then||(f=Promise.resolve(f)),l?f.then(l):f))}catch(h){return s(h)}var f,l,v;return o&&o.then?o.then(void 0,s):o}(0,function(r){if(r.status===404)return!1;throw r})});function en(n,e,t){return t?e?e(n):n:(n&&n.then||(n=Promise.resolve(n)),e?n.then(e):n)}const Xn=function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(n.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Qe({url:G(n.remoteURL,le(e),"/"),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:t.deep?"infinity":"1"}},n,t);return en(Ye(r,n),function(s){return S(n,s),en(s.text(),function(o){if(!o)throw new Error("Failed parsing directory contents: Empty response");return en(Rt(o),function(f){const l=De(e);let v=function(h,i,c){let a=arguments.length>3&&arguments[3]!==void 0&&arguments[3],E=arguments.length>4&&arguments[4]!==void 0&&arguments[4];const m=ee().join(i,"/"),{multistatus:{response:p}}=h,y=p.map(C=>{const d=function(O){try{return O.replace(/^https?:\/\/[^\/]+/,"")}catch(R){throw new K(R,"Failed normalising HREF")}}(C.href),{propstat:{prop:b}}=C;return Tt(b,m==="/"?decodeURIComponent(Ee(d)):Ee(ee().relative(decodeURIComponent(m),decodeURIComponent(d))),a)});return E?y:y.filter(C=>C.basename&&(C.type==="file"||C.filename!==c.replace(/\/$/,"")))}(f,De(n.remoteBasePath||n.remotePath),l,t.details,t.includeSelf);return t.glob&&(v=function(h,i){return h.filter(c=>it(c.filename,i,{matchBase:!0}))}(v,t.glob)),pe(s,v,t.details)})})})});function g(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(n.apply(this,e))}catch(r){return Promise.reject(r)}}}const u=g(function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Qe({url:G(n.remoteURL,le(e)),method:"GET",headers:{Accept:"text/plain"},transformResponse:[He]},n,t);return j(Ye(r,n),function(s){return S(n,s),j(s.text(),function(o){return pe(s,o,t.details)})})});function j(n,e,t){return t?e?e(n):n:(n&&n.then||(n=Promise.resolve(n)),e?n.then(e):n)}const A=g(function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Qe({url:G(n.remoteURL,le(e)),method:"GET"},n,t);return j(Ye(r,n),function(s){let o;return S(n,s),function(f,l){var v=f();return v&&v.then?v.then(l):l()}(function(){return j(s.arrayBuffer(),function(f){o=f})},function(){return pe(s,o,t.details)})})}),Le=g(function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{format:r="binary"}=t;if(r!=="binary"&&r!=="text")throw new K({info:{code:N.InvalidOutputFormat}},`Invalid output format: ${r}`);return r==="text"?u(n,e,t):A(n,e,t)}),He=n=>n;function qe(n){return new Be.XMLBuilder({attributeNamePrefix:"@_",format:!0,ignoreAttributes:!1,suppressEmptyNode:!0}).build(ct({lockinfo:{"@_xmlns:d":"DAV:",lockscope:{exclusive:{}},locktype:{write:{}},owner:{href:n}}},"d"))}function ct(n,e){const t={...n};for(const r in t)t.hasOwnProperty(r)&&(t[r]&&typeof t[r]=="object"&&r.indexOf(":")===-1?(t[`${e}:${r}`]=ct(t[r],e),delete t[r]):/^@_/.test(r)===!1&&(t[`${e}:${r}`]=t[r],delete t[r]));return t}function ut(n,e,t){return t?e?e(n):n:(n&&n.then||(n=Promise.resolve(n)),e?n.then(e):n)}function Lt(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(n.apply(this,e))}catch(r){return Promise.reject(r)}}}const tt=Lt(function(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=Qe({url:G(n.remoteURL,le(e)),method:"UNLOCK",headers:{"Lock-Token":t}},n,r);return ut(Ye(s,n),function(o){if(S(n,o),o.status!==204&&o.status!==200)throw z(o)})}),It=Lt(function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{refreshToken:r,timeout:s=zn}=t,o={Accept:"text/plain,application/xml",Timeout:s};r&&(o.If=r);const f=Qe({url:G(n.remoteURL,le(e)),method:"LOCK",headers:o,data:qe(n.contactHref)},n,t);return ut(Ye(f,n),function(l){return S(n,l),ut(l.text(),function(v){const h=(a=v,new Be.XMLParser({removeNSPrefix:!0,parseAttributeValue:!0,parseTagValue:!0}).parse(a)),i=st().get(h,"prop.lockdiscovery.activelock.locktoken.href"),c=st().get(h,"prop.lockdiscovery.activelock.timeout");var a;if(!i)throw z(l,"No lock token received: ");return{token:i,serverTimeout:c}})})}),zn="Infinite, Second-4100000000";function tn(n,e,t){return t?e?e(n):n:(n&&n.then||(n=Promise.resolve(n)),e?n.then(e):n)}const mn=function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(n.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const t=e.path||"/",r=Qe({url:G(n.remoteURL,t),method:"PROPFIND",headers:{Accept:"text/plain,application/xml",Depth:"0"}},n,e);return tn(Ye(r,n),function(s){return S(n,s),tn(s.text(),function(o){return tn(Rt(o),function(f){const l=function(v){try{const[h]=v.multistatus.response,{propstat:{prop:{"quota-used-bytes":i,"quota-available-bytes":c}}}=h;return i!==void 0&&c!==void 0?{used:parseInt(String(i),10),available:Wt(c)}:null}catch{}return null}(f);return pe(s,l,e.details)})})})});function nn(n,e,t){return t?e?e(n):n:(n&&n.then||(n=Promise.resolve(n)),e?n.then(e):n)}const fr=function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(n.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{details:r=!1}=t,s=Qe({url:G(n.remoteURL,le(e)),method:"SEARCH",headers:{Accept:"text/plain,application/xml","Content-Type":n.headers["Content-Type"]||"application/xml; charset=utf-8"}},n,t);return nn(Ye(s,n),function(o){return S(n,o),nn(o.text(),function(f){return nn(Rt(f),function(l){const v=function(h,i,c){const a={truncated:!1,results:[]};return a.truncated=h.multistatus.response.some(E=>(E.status||E.propstat?.status).split(" ",3)?.[1]==="507"&&E.href.replace(/\/$/,"").endsWith(le(i).replace(/\/$/,""))),h.multistatus.response.forEach(E=>{if(E.propstat===void 0)return;const m=E.href.split("/").map(decodeURIComponent).join("/");a.results.push(Tt(E.propstat.prop,m,c))}),a}(l,e,r);return pe(o,v,r)})})})}),hr=function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(n.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=Qe({url:G(n.remoteURL,le(e)),method:"MOVE",headers:{Destination:G(n.remoteURL,le(t)),Overwrite:r.overwrite===!1?"F":"T"}},n,r);return f=function(l){S(n,l)},(o=Ye(s,n))&&o.then||(o=Promise.resolve(o)),f?o.then(f):o;var o,f});var dr=J(172);const pr=function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(n.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const{contentLength:s=!0,overwrite:o=!0}=r,f={"Content-Type":"application/octet-stream"};s===!1||(f["Content-Length"]=typeof s=="number"?`${s}`:`${function(i){if(yn(i))return i.byteLength;if(Ft(i))return i.length;if(typeof i=="string")return(0,dr.d)(i);throw new K({info:{code:N.DataTypeNoLength}},"Cannot calculate data length: Invalid type")}(t)}`),o||(f["If-None-Match"]="*");const l=Qe({url:G(n.remoteURL,le(e)),method:"PUT",headers:f,data:t},n,r);return h=function(i){try{S(n,i)}catch(c){const a=c;if(a.status!==412||o)throw a;return!1}return!0},(v=Ye(l,n))&&v.then||(v=Promise.resolve(v)),h?v.then(h):v;var v,h}),ir=function(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(n.apply(this,e))}catch(r){return Promise.reject(r)}}}(function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Qe({url:G(n.remoteURL,le(e)),method:"OPTIONS"},n,t);return o=function(f){try{S(n,f)}catch(l){throw l}return{compliance:(f.headers.get("DAV")??"").split(",").map(l=>l.trim()),server:f.headers.get("Server")??""}},(s=Ye(r,n))&&s.then||(s=Promise.resolve(s)),o?s.then(o):s;var s,o});function vn(n,e,t){return t?e?e(n):n:(n&&n.then||(n=Promise.resolve(n)),e?n.then(e):n)}const gr=Hn(function(n,e,t,r,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(t>r||t<0)throw new K({info:{code:N.InvalidUpdateRange}},`Invalid update range ${t} for partial update`);const f={"Content-Type":"application/octet-stream","Content-Length":""+(r-t+1),"Content-Range":`bytes ${t}-${r}/*`},l=Qe({url:G(n.remoteURL,le(e)),method:"PUT",headers:f,data:s},n,o);return vn(Ye(l,n),function(v){S(n,v)})});function sr(n,e){var t=n();return t&&t.then?t.then(e):e(t)}const mr=Hn(function(n,e,t,r,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(t>r||t<0)throw new K({info:{code:N.InvalidUpdateRange}},`Invalid update range ${t} for partial update`);const f={"Content-Type":"application/x-sabredav-partialupdate","Content-Length":""+(r-t+1),"X-Update-Range":`bytes=${t}-${r}`},l=Qe({url:G(n.remoteURL,le(e)),method:"PATCH",headers:f,data:s},n,o);return vn(Ye(l,n),function(v){S(n,v)})});function Hn(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return Promise.resolve(n.apply(this,e))}catch(r){return Promise.reject(r)}}}const vr=Hn(function(n,e,t,r,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};return vn(ir(n,e,o),function(f){let l=!1;return sr(function(){if(f.compliance.includes("sabredav-partialupdate"))return vn(mr(n,e,t,r,s,o),function(v){return l=!0,v})},function(v){let h=!1;return l?v:sr(function(){if(f.server.includes("Apache")&&f.compliance.includes("<http://apache.org/dav/propset/fs/1>"))return vn(gr(n,e,t,r,s,o),function(i){return h=!0,i})},function(i){if(h)return i;throw new K({info:{code:N.NotSupported}},"Not supported")})})})}),Er="https://github.com/perry-mitchell/webdav-client/blob/master/LOCK_CONTACT.md";function yr(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{authType:t=null,remoteBasePath:r,contactHref:s=Er,ha1:o,headers:f={},httpAgent:l,httpsAgent:v,password:h,token:i,username:c,withCredentials:a}=e;let E=t;E||(E=c||h?$e.Password:$e.None);const m={authType:E,remoteBasePath:r,contactHref:s,ha1:o,headers:Object.assign({},f),httpAgent:l,httpsAgent:v,password:h,remotePath:D(n),remoteURL:n,token:i,username:c,withCredentials:a};return V(m,c,h,i,o),{copyFile:(p,y,C)=>Ne(m,p,y,C),createDirectory:(p,y)=>Se(m,p,y),createReadStream:(p,y)=>function(C,d){let b=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const O=new(Jt()).PassThrough;return pn(C,d,b).then(R=>{R.pipe(O)}).catch(R=>{O.emit("error",R)}),O}(m,p,y),createWriteStream:(p,y,C)=>function(d,b){let O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},R=arguments.length>3&&arguments[3]!==void 0?arguments[3]:St;const _=new(Jt()).PassThrough,k={};O.overwrite===!1&&(k["If-None-Match"]="*");const I=Qe({url:G(d.remoteURL,le(b)),method:"PUT",headers:k,data:_,maxRedirects:0},d,O);return Ye(I,d).then(W=>S(d,W)).then(W=>{setTimeout(()=>{R(W)},0)}).catch(W=>{_.emit("error",W)}),_}(m,p,y,C),customRequest:(p,y)=>gn(m,p,y),deleteFile:(p,y)=>Wn(m,p,y),exists:(p,y)=>xn(m,p,y),getDirectoryContents:(p,y)=>Xn(m,p,y),getFileContents:(p,y)=>Le(m,p,y),getFileDownloadLink:p=>function(y,C){let d=G(y.remoteURL,le(C));const b=/^https:/i.test(d)?"https":"http";switch(y.authType){case $e.None:break;case $e.Password:{const O=Fe(y.headers.Authorization.replace(/^Basic /i,"").trim());d=d.replace(/^https?:\/\//,`${b}://${O}@`);break}default:throw new K({info:{code:N.LinkUnsupportedAuthType}},`Unsupported auth type for file link: ${y.authType}`)}return d}(m,p),getFileUploadLink:p=>function(y,C){let d=`${G(y.remoteURL,le(C))}?Content-Type=application/octet-stream`;const b=/^https:/i.test(d)?"https":"http";switch(y.authType){case $e.None:break;case $e.Password:{const O=Fe(y.headers.Authorization.replace(/^Basic /i,"").trim());d=d.replace(/^https?:\/\//,`${b}://${O}@`);break}default:throw new K({info:{code:N.LinkUnsupportedAuthType}},`Unsupported auth type for file link: ${y.authType}`)}return d}(m,p),getHeaders:()=>Object.assign({},m.headers),getQuota:p=>mn(m,p),lock:(p,y)=>It(m,p,y),moveFile:(p,y,C)=>hr(m,p,y,C),putFileContents:(p,y,C)=>pr(m,p,y,C),partialUpdateFileContents:(p,y,C,d,b)=>vr(m,p,y,C,d,b),getDAVCompliance:p=>ir(m,p),search:(p,y)=>fr(m,p,y),setHeaders:p=>{m.headers=Object.assign({},p)},stat:(p,y)=>bt(m,p,y),unlock:(p,y,C)=>tt(m,p,y,C)}}var Ar=te.hT,Ir=te.O4,Or=te.Kd,Cr=te.YK,wr=te.UU,br=te.Gu,xr=te.ky,Pr=te.h4,Rr=te.ch,Sr=te.hq,Lr=te.i5}}]);})();

//# sourceMappingURL=talk-defaultVendors-node_modules_nextcloud_dialogs_dist_chunks__plugin-vue_export-helper-1tPrXgE0_-8ae335.js.map?v=a6d8debc60cd0dfd08fa